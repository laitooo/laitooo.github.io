(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[824],{8783:function(module,__unused_webpack_exports,__webpack_require__){var Buffer=__webpack_require__(8764).Buffer,process=__webpack_require__(3454);!function(b,a){module.exports=a()}(this,function(){return(()=>{var __webpack_modules__=[,(o,a,c)=>{"use strict";function p(a){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}Object.defineProperty(a,"__esModule",{value:!0}),a.StatTimer=a.RenderingCancelledException=a.PixelsPerInch=a.PageViewport=a.PDFDateString=a.LinkTarget=a.DOMStandardFontDataFactory=a.DOMSVGFactory=a.DOMCanvasFactory=a.DOMCMapReaderFactory=void 0,a.addLinkAttributes=M,a.deprecated=T,a.getFilenameFromUrl=P,a.getPdfFilenameFromUrl=Q,a.getXfaPageViewport=U,a.isDataScheme=N,a.isPdfFile=O,a.isValidFetchUrl=R,a.loadScript=S;var q,r=s(c(2)),d=c(4),b=c(135);function s(a){return a&&a.__esModule?a:{default:a}}function t(a,d){var b="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!b){if(Array.isArray(a)||(b=u(a))||d&&a&&"number"==typeof a.length){b&&(a=b);var e=0,c=function(){};return{s:c,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a},f:c}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){b=b.call(a)},n:function(){var a=b.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==b.return||b.return()}finally{if(h)throw f}}}}function u(a,c){if(a){if("string"==typeof a)return v(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return v(a,c)}}function v(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function w(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function x(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){w(g,e,f,d,h,"next",a)}function h(a){w(g,e,f,d,h,"throw",a)}d(void 0)})}}function y(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function z(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function A(a,b,c){return b&&z(a.prototype,b),c&&z(a,c),a}function B(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a&&C(b,a)}function C(a,b){return(C=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function D(a){var b=G();return function(){var c,d=H(a);if(b){var e=H(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return E(this,c)}}function E(b,a){if(a&&("object"===p(a)||"function"==typeof a))return a;if(void 0!==a)throw TypeError("Derived constructors may only return object or undefined");return F(b)}function F(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function G(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function H(a){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}var I="noopener noreferrer nofollow",J="http://www.w3.org/2000/svg",e={CSS:96,PDF:72,get PDF_TO_CSS_UNITS(){return(0,d.shadow)(this,"PDF_TO_CSS_UNITS",this.CSS/this.PDF)}};a.PixelsPerInch=e;var f=function(b){B(a,b);var c=D(a);function a(){var b,e=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},d=e.ownerDocument,f=void 0===d?globalThis.document:d;return y(this,a),(b=c.call(this))._document=f,b}return A(a,[{key:"_createCanvas",value:function(b,c){var a=this._document.createElement("canvas");return a.width=b,a.height=c,a}}]),a}(b.BaseCanvasFactory);function K(a){return L.apply(this,arguments)}function L(){return(L=x(r.default.mark(function a(b){var c,e,f=arguments;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=f.length>1&& void 0!==f[1]&&f[1],!R(b,document.baseURI)){a.next=21;break}return a.next=4,fetch(b);case 4:if((e=a.sent).ok){a.next=7;break}throw Error(e.statusText);case 7:if(!c){a.next=15;break}return a.t1=Uint8Array,a.next=11,e.arrayBuffer();case 11:a.t2=a.sent,a.t0=new a.t1(a.t2),a.next=20;break;case 15:return a.t3=d.stringToBytes,a.next=18,e.text();case 18:a.t4=a.sent,a.t0=(0,a.t3)(a.t4);case 20:return a.abrupt("return",a.t0);case 21:return a.abrupt("return",new Promise(function(e,f){var a=new XMLHttpRequest;a.open("GET",b,!0),c&&(a.responseType="arraybuffer"),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){if(200===a.status||0===a.status){var b;if(c&&a.response?b=new Uint8Array(a.response):!c&&a.responseText&&(b=(0,d.stringToBytes)(a.responseText)),b){e(b);return}}f(Error(a.statusText))}},a.send(null)}));case 22:case"end":return a.stop()}},a)}))).apply(this,arguments)}a.DOMCanvasFactory=f;var g=function(b){B(a,b);var c=D(a);function a(){return y(this,a),c.apply(this,arguments)}return A(a,[{key:"_fetchData",value:function(a,b){return K(a,this.isCompressed).then(function(a){return{cMapData:a,compressionType:b}})}}]),a}(b.BaseCMapReaderFactory);a.DOMCMapReaderFactory=g;var h=function(b){B(a,b);var c=D(a);function a(){return y(this,a),c.apply(this,arguments)}return A(a,[{key:"_fetchData",value:function(a){return K(a,!0)}}]),a}(b.BaseStandardFontDataFactory);a.DOMStandardFontDataFactory=h;var i=function(b){B(a,b);var c=D(a);function a(){return y(this,a),c.apply(this,arguments)}return A(a,[{key:"_createSVG",value:function(a){return document.createElementNS(J,a)}}]),a}(b.BaseSVGFactory);a.DOMSVGFactory=i;var j=function(){function a(g){var f,h,d,e,l,m,n,o,b=g.viewBox,c=g.scale,i=g.rotation,r=g.offsetX,p=void 0===r?0:r,s=g.offsetY,q=void 0===s?0:s,t=g.dontFlip,u=void 0!==t&&t;y(this,a),this.viewBox=b,this.scale=c,this.rotation=i,this.offsetX=p,this.offsetY=q;var j=(b[2]+b[0])/2,k=(b[3]+b[1])/2;switch((i%=360)<0&&(i+=360),i){case 180:f=-1,h=0,d=0,e=1;break;case 90:f=0,h=1,d=1,e=0;break;case 270:f=0,h=-1,d=-1,e=0;break;case 0:f=1,h=0,d=0,e=-1;break;default:throw Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(d=-d,e=-e),0===f?(l=Math.abs(k-b[1])*c+p,m=Math.abs(j-b[0])*c+q,n=Math.abs(b[3]-b[1])*c,o=Math.abs(b[2]-b[0])*c):(l=Math.abs(j-b[0])*c+p,m=Math.abs(k-b[1])*c+q,n=Math.abs(b[2]-b[0])*c,o=Math.abs(b[3]-b[1])*c),this.transform=[f*c,h*c,d*c,e*c,l-f*c*j-d*c*k,m-h*c*j-e*c*k],this.width=n,this.height=o}return A(a,[{key:"clone",value:function(){var b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},c=b.scale,h=void 0===c?this.scale:c,d=b.rotation,i=void 0===d?this.rotation:d,e=b.offsetX,j=void 0===e?this.offsetX:e,f=b.offsetY,k=void 0===f?this.offsetY:f,g=b.dontFlip,l=void 0!==g&&g;return new a({viewBox:this.viewBox.slice(),scale:h,rotation:i,offsetX:j,offsetY:k,dontFlip:l})}},{key:"convertToViewportPoint",value:function(a,b){return d.Util.applyTransform([a,b],this.transform)}},{key:"convertToViewportRectangle",value:function(a){var b=d.Util.applyTransform([a[0],a[1]],this.transform),c=d.Util.applyTransform([a[2],a[3]],this.transform);return[b[0],b[1],c[0],c[1]]}},{key:"convertToPdfPoint",value:function(a,b){return d.Util.applyInverseTransform([a,b],this.transform)}}]),a}();a.PageViewport=j;var k=function(a){B(b,a);var c=D(b);function b(d,e){var a;return y(this,b),(a=c.call(this,d,"RenderingCancelledException")).type=e,a}return b}(d.BaseException);a.RenderingCancelledException=k;var l={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function M(a){var c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},e=c.url,i=c.target,f=c.rel,g=c.enabled,j=void 0===g||g;(0,d.assert)(e&&"string"==typeof e,'addLinkAttributes: A valid "url" parameter must provided.');var h=(0,d.removeNullCharacters)(e);j?a.href=a.title=h:(a.href="",a.title="Disabled: ".concat(h),a.onclick=function(){return!1});var b="";switch(i){case l.NONE:break;case l.SELF:b="_self";break;case l.BLANK:b="_blank";break;case l.PARENT:b="_parent";break;case l.TOP:b="_top"}a.target=b,a.rel="string"==typeof f?f:I}function N(b){for(var c=b.length,a=0;a<c&&""===b[a].trim();)a++;return"data:"===b.substring(a,a+5).toLowerCase()}function O(a){return"string"==typeof a&&/\.pdf$/i.test(a)}function P(a){var b=a.indexOf("#"),c=a.indexOf("?"),d=Math.min(b>0?b:a.length,c>0?c:a.length);return a.substring(a.lastIndexOf("/",d)+1,d)}function Q(c){var e=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof c)return e;if(N(c))return(0,d.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;var b=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,f=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(c),a=b.exec(f[1])||b.exec(f[2])||b.exec(f[3]);if(a&&(a=a[0]).includes("%"))try{a=b.exec(decodeURIComponent(a))[0]}catch(g){}return a||e}a.LinkTarget=l;var m=function(){function a(){y(this,a),this.started=Object.create(null),this.times=[]}return A(a,[{key:"time",value:function(a){a in this.started&&(0,d.warn)("Timer is already running for ".concat(a)),this.started[a]=Date.now()}},{key:"timeEnd",value:function(a){a in this.started||(0,d.warn)("Timer has not been started for ".concat(a)),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a]}},{key:"toString",value:function(){var e,f=[],c=0,a=t(this.times);try{for(a.s();!(e=a.n()).done;){var g=e.value.name;g.length>c&&(c=g.length)}}catch(i){a.e(i)}finally{a.f()}var h,b=t(this.times);try{for(b.s();!(h=b.n()).done;){var d=h.value,j=d.end-d.start;f.push("".concat(d.name.padEnd(c)," ").concat(j,"ms\n"))}}catch(k){b.e(k)}finally{b.f()}return f.join("")}}]),a}();function R(a,b){try{var c=(b?new URL(a,b):new URL(a)).protocol;return"http:"===c||"https:"===c}catch(d){return!1}}function S(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];return new Promise(function(d,e){var c=document.createElement("script");c.src=a,c.onload=function(a){b&&c.remove(),d(a)},c.onerror=function(){e(Error("Cannot load script at: ".concat(c.src)))},(document.head||document.documentElement).appendChild(c)})}function T(a){console.log("Deprecated API usage: "+a)}a.StatTimer=m;var n=function(){function a(){y(this,a)}return A(a,null,[{key:"toDateObject",value:function(j){if(!j||!(0,d.isString)(j))return null;q||(q=RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var a=q.exec(j);if(!a)return null;var l=parseInt(a[1],10),g=parseInt(a[2],10);g=g>=1&&g<=12?g-1:0;var h=parseInt(a[3],10);h=h>=1&&h<=31?h:1;var b=parseInt(a[4],10);b=b>=0&&b<=23?b:0;var c=parseInt(a[5],10);c=c>=0&&c<=59?c:0;var i=parseInt(a[6],10);i=i>=0&&i<=59?i:0;var k=a[7]||"Z",e=parseInt(a[8],10);e=e>=0&&e<=23?e:0;var f=parseInt(a[9],10)||0;return f=f>=0&&f<=59?f:0,"-"===k?(b+=e,c+=f):"+"===k&&(b-=e,c-=f),new Date(Date.UTC(l,g,h,b,c,i))}}]),a}();function U(e,a){var b=a.scale,f=void 0===b?1:b,c=a.rotation,g=void 0===c?0:c,d=e.attributes.style,h=d.width,i=d.height,k=[0,0,parseInt(h),parseInt(i)];return new j({viewBox:k,scale:f,rotation:g})}a.PDFDateString=n},(a,c,b)=>{"use strict";a.exports=b(3)},(a,e,d)=>{"use strict";function c(a){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}a=d.nmd(a);var b=function(b){var v,m=Object.prototype,q=m.hasOwnProperty,g="function"==typeof Symbol?Symbol:{},h=g.iterator||"@@iterator",r=g.asyncIterator||"@@asyncIterator",n=g.toStringTag||"@@toStringTag";function a(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}),a[b]}try{a({},"")}catch(w){a=function(a,b,c){return a[b]=c}}function s(c,a,d,e){var b=Object.create((a&&a.prototype instanceof t?a:t).prototype),f=new p(e||[]);return b._invoke=D(c,d,f),b}function x(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(d){return{type:"throw",arg:d}}}b.wrap=s;var y="suspendedStart",z="suspendedYield",A="executing",B="completed",C={};function t(){}function i(){}function d(){}var j={};a(j,h,function(){return this});var k=Object.getPrototypeOf,f=k&&k(k(u([])));f&&f!==m&&q.call(f,h)&&(j=f);var e=d.prototype=t.prototype=Object.create(j);function o(b){["next","throw","return"].forEach(function(c){a(b,c,function(a){return this._invoke(c,a)})})}function l(b,d){var e;function f(g,h,k,i){var e=x(b[g],b,h);if("throw"===e.type)i(e.arg);else{var j=e.arg,a=j.value;return a&&"object"===c(a)&&q.call(a,"__await")?d.resolve(a.__await).then(function(a){f("next",a,k,i)},function(a){f("throw",a,k,i)}):d.resolve(a).then(function(a){j.value=a,k(j)},function(a){return f("throw",a,k,i)})}}function a(b,c){function a(){return new d(function(a,d){f(b,c,a,d)})}return e=e?e.then(a,a):a()}this._invoke=a}function D(a,b,c){var d=y;return function(g,h){if(d===A)throw Error("Generator is already running");if(d===B){if("throw"===g)throw h;return H()}for(c.method=g,c.arg=h;;){var i=c.delegate;if(i){var f=E(i,c);if(f){if(f===C)continue;return f}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(d===y)throw d=B,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);d=A;var e=x(a,b,c);if("normal"===e.type){if(d=c.done?B:z,e.arg===C)continue;return{value:e.arg,done:c.done}}"throw"===e.type&&(d=B,c.method="throw",c.arg=e.arg)}}}function E(b,a){var e=b.iterator[a.method];if(e===v){if(a.delegate=null,"throw"===a.method){if(b.iterator.return&&(a.method="return",a.arg=v,E(b,a),"throw"===a.method))return C;a.method="throw",a.arg=TypeError("The iterator does not provide a 'throw' method")}return C}var d=x(e,b.iterator,a.arg);if("throw"===d.type)return a.method="throw",a.arg=d.arg,a.delegate=null,C;var c=d.arg;return c?c.done?(a[b.resultName]=c.value,a.next=b.nextLoc,"return"!==a.method&&(a.method="next",a.arg=v),a.delegate=null,C):c:(a.method="throw",a.arg=TypeError("iterator result is not an object"),a.delegate=null,C)}function F(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)}function G(b){var a=b.completion||{};a.type="normal",delete a.arg,b.completion=a}function p(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(F,this),this.reset(!0)}function u(a){if(a){var b=a[h];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var d=-1,c=function b(){for(;++d<a.length;)if(q.call(a,d))return b.value=a[d],b.done=!1,b;return b.value=v,b.done=!0,b};return c.next=c}}return{next:H}}function H(){return{value:v,done:!0}}return i.prototype=d,a(e,"constructor",d),a(d,"constructor",i),i.displayName=a(d,n,"GeneratorFunction"),b.isGeneratorFunction=function(b){var a="function"==typeof b&&b.constructor;return!!a&&(a===i||"GeneratorFunction"===(a.displayName||a.name))},b.mark=function(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,d):(b.__proto__=d,a(b,n,"GeneratorFunction")),b.prototype=Object.create(e),b},b.awrap=function(a){return{__await:a}},o(l.prototype),a(l.prototype,r,function(){return this}),b.AsyncIterator=l,b.async=function(e,c,f,g,a){void 0===a&&(a=Promise);var d=new l(s(e,c,f,g),a);return b.isGeneratorFunction(c)?d:d.next().then(function(a){return a.done?a.value:d.next()})},o(e),a(e,n,"Generator"),a(e,h,function(){return this}),a(e,"toString",function(){return"[object Generator]"}),b.keys=function(b){var a=[];for(var c in b)a.push(c);return a.reverse(),function c(){for(;a.length;){var d=a.pop();if(d in b)return c.value=d,c.done=!1,c}return c.done=!0,c}},b.values=u,p.prototype={constructor:p,reset:function(b){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(G),!b)for(var a in this)"t"===a.charAt(0)&&q.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=v)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(f){if(this.done)throw f;var g=this;function b(b,a){return h.type="throw",h.arg=f,g.next=b,a&&(g.method="next",g.arg=v),!!a}for(var c=this.tryEntries.length-1;c>=0;--c){var a=this.tryEntries[c],h=a.completion;if("root"===a.tryLoc)return b("end");if(a.tryLoc<=this.prev){var d=q.call(a,"catchLoc"),e=q.call(a,"finallyLoc");if(d&&e){if(this.prev<a.catchLoc)return b(a.catchLoc,!0);if(this.prev<a.finallyLoc)return b(a.finallyLoc)}else if(d){if(this.prev<a.catchLoc)return b(a.catchLoc,!0)}else if(e){if(this.prev<a.finallyLoc)return b(a.finallyLoc)}else throw Error("try statement without catch or finally")}}},abrupt:function(c,d){for(var e=this.tryEntries.length-1;e>=0;--e){var b=this.tryEntries[e];if(b.tryLoc<=this.prev&&q.call(b,"finallyLoc")&&this.prev<b.finallyLoc){var a=b;break}}a&&("break"===c||"continue"===c)&&a.tryLoc<=d&&d<=a.finallyLoc&&(a=null);var f=a?a.completion:{};return(f.type=c,f.arg=d,a)?(this.method="next",this.next=a.finallyLoc,C):this.complete(f)},complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),C},finish:function(c){for(var b=this.tryEntries.length-1;b>=0;--b){var a=this.tryEntries[b];if(a.finallyLoc===c)return this.complete(a.completion,a.afterLoc),G(a),C}},catch:function(d){for(var a=this.tryEntries.length-1;a>=0;--a){var b=this.tryEntries[a];if(b.tryLoc===d){var c=b.completion;if("throw"===c.type){var e=c.arg;G(b)}return e}}throw Error("illegal catch attempt")},delegateYield:function(a,b,c){return this.delegate={iterator:u(a),resultName:b,nextLoc:c},"next"===this.method&&(this.arg=v),C}},b}("object"===c(a)?a.exports:{});try{regeneratorRuntime=b}catch(f){("undefined"==typeof globalThis?"undefined":c(globalThis))==="object"?globalThis.regeneratorRuntime=b:Function("r","regeneratorRuntime = r")(b)}},(Q,a,e)=>{"use strict";function R(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function S(a,b,c){return b&&R(a.prototype,b),c&&R(a,c),a}function f(a){return V(a)||U(a)||_(a)||T()}function T(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function U(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function V(a){if(Array.isArray(a))return aa(a)}function W(a,b){return Z(a)||Y(a,b)||_(a,b)||X()}function X(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Y(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}function Z(a){if(Array.isArray(a))return a}function $(a,d){var b="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!b){if(Array.isArray(a)||(b=_(a))||d&&a&&"number"==typeof a.length){b&&(a=b);var e=0,c=function(){};return{s:c,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a},f:c}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){b=b.call(a)},n:function(){var a=b.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==b.return||b.return()}finally{if(h)throw f}}}}function _(a,c){if(a){if("string"==typeof a)return aa(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return aa(a,c)}}function aa(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function ab(a){return(ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function ac(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function ad(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a&&ae(b,a)}function ae(a,b){return(ae=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function af(a){var b=ai();return function(){var c,d=aj(a);if(b){var e=aj(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return ag(this,c)}}function ag(b,a){if(a&&("object"===ab(a)||"function"==typeof a))return a;if(void 0!==a)throw TypeError("Derived constructors may only return object or undefined");return ah(b)}function ah(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function ai(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function aj(a){return(aj=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}Object.defineProperty(a,"__esModule",{value:!0}),a.VerbosityLevel=a.Util=a.UnknownErrorException=a.UnexpectedResponseException=a.UNSUPPORTED_FEATURES=a.TextRenderingMode=a.StreamType=a.RenderingIntentFlag=a.PermissionFlag=a.PasswordResponses=a.PasswordException=a.PageActionEventType=a.OPS=a.MissingPDFException=a.IsLittleEndianCached=a.IsEvalSupportedCached=a.InvalidPDFException=a.ImageKind=a.IDENTITY_MATRIX=a.FormatError=a.FontType=a.FONT_IDENTITY_MATRIX=a.DocumentActionEventType=a.CMapCompressionType=a.BaseException=a.AnnotationType=a.AnnotationStateModelType=a.AnnotationReviewState=a.AnnotationReplyType=a.AnnotationMode=a.AnnotationMarkedState=a.AnnotationFlag=a.AnnotationFieldFlag=a.AnnotationBorderStyleType=a.AnnotationActionEventType=a.AbortException=void 0,a.arrayByteLength=az,a.arraysToBytes=aA,a.assert=aq,a.bytesToString=ax,a.createObjectURL=aT,a.createPromiseCapability=aS,a.createValidAbsoluteUrl=at,a.escapeString=aH,a.getModificationDate=aR,a.getVerbosityLevel=am,a.info=an,a.isArrayBuffer=aP,a.isArrayEqual=aQ,a.isAscii=aI,a.isBool=aM,a.isNum=aN,a.isSameOrigin=ar,a.isString=aO,a.objectFromMap=aD,a.objectSize=aC,a.removeNullCharacters=aw,a.setVerbosityLevel=al,a.shadow=d,a.string32=aB,a.stringToBytes=ay,a.stringToPDFString=aG,a.stringToUTF16BEString=aJ,a.stringToUTF8String=aK,a.unreachable=ap,a.utf8StringToString=aL,a.warn=ao,e(5);var g=[1,0,0,1,0,0];a.IDENTITY_MATRIX=g;var h=[.001,0,0,.001,0,0];a.FONT_IDENTITY_MATRIX=h;var i={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};a.RenderingIntentFlag=i;var j={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};a.AnnotationMode=j;var k={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};a.PermissionFlag=k;var l={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};a.TextRenderingMode=l;var m={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};a.ImageKind=m;var n={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};a.AnnotationType=n;var o={MARKED:"Marked",REVIEW:"Review"};a.AnnotationStateModelType=o;var p={MARKED:"Marked",UNMARKED:"Unmarked"};a.AnnotationMarkedState=p;var q={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};a.AnnotationReviewState=q;var r={GROUP:"Group",REPLY:"R"};a.AnnotationReplyType=r;var s={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};a.AnnotationFlag=s;var t={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};a.AnnotationFieldFlag=t;var u={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};a.AnnotationBorderStyleType=u;var v={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};a.AnnotationActionEventType=v;var w={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};a.DocumentActionEventType=w;var x={O:"PageOpen",C:"PageClose"};a.PageActionEventType=x;var y={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};a.StreamType=y;var z={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};a.FontType=z;var c={ERRORS:0,WARNINGS:1,INFOS:5};a.VerbosityLevel=c;var A={NONE:0,BINARY:1,STREAM:2};a.CMapCompressionType=A;var B={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};a.OPS=B;var C={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};a.UNSUPPORTED_FEATURES=C;var D={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};a.PasswordResponses=D;var ak=c.WARNINGS;function al(a){Number.isInteger(a)&&(ak=a)}function am(){return ak}function an(a){ak>=c.INFOS&&console.log("Info: ".concat(a))}function ao(a){ak>=c.WARNINGS&&console.log("Warning: ".concat(a))}function ap(a){throw Error(a)}function aq(a,b){a||ap(b)}function ar(b,c){try{if(!(a=new URL(b)).origin||"null"===a.origin)return!1}catch(e){return!1}var a,d=new URL(c,a);return a.origin===d.origin}function as(a){if(!a)return!1;switch(a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function at(a){var c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null,b=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null;if(!a)return null;try{if(b&&"string"==typeof a){if(b.addDefaultProtocol&&a.startsWith("www.")){var d=a.match(/\./g);d&&d.length>=2&&(a="http://".concat(a))}if(b.tryConvertEncoding)try{a=aK(a)}catch(f){}}var e=c?new URL(a,c):new URL(a);if(as(e))return e}catch(g){}return null}function d(b,c,a){return Object.defineProperty(b,c,{value:a,enumerable:!0,configurable:!0,writable:!1}),a}var b=function(){function a(b,c){this.constructor===a&&ap("Cannot initialize BaseException."),this.message=b,this.name=c}return a.prototype=Error(),a.constructor=a,a}();a.BaseException=b;var E=function(a){ad(b,a);var c=af(b);function b(d,e){var a;return ac(this,b),(a=c.call(this,d,"PasswordException")).code=e,a}return b}(b);a.PasswordException=E;var F=function(a){ad(b,a);var c=af(b);function b(d,e){var a;return ac(this,b),(a=c.call(this,d,"UnknownErrorException")).details=e,a}return b}(b);a.UnknownErrorException=F;var G=function(a){ad(b,a);var c=af(b);function b(a){return ac(this,b),c.call(this,a,"InvalidPDFException")}return b}(b);a.InvalidPDFException=G;var H=function(a){ad(b,a);var c=af(b);function b(a){return ac(this,b),c.call(this,a,"MissingPDFException")}return b}(b);a.MissingPDFException=H;var I=function(a){ad(b,a);var c=af(b);function b(d,e){var a;return ac(this,b),(a=c.call(this,d,"UnexpectedResponseException")).status=e,a}return b}(b);a.UnexpectedResponseException=I;var J=function(a){ad(b,a);var c=af(b);function b(a){return ac(this,b),c.call(this,a,"FormatError")}return b}(b);a.FormatError=J;var K=function(a){ad(b,a);var c=af(b);function b(a){return ac(this,b),c.call(this,a,"AbortException")}return b}(b);a.AbortException=K;var au=/\x00+/g,av=/[\x01-\x1F]/g;function aw(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];return"string"!=typeof a?(ao("The argument for removeNullCharacters must be a string."),a):(b&&(a=a.replace(av," ")),a.replace(au,""))}function ax(a){aq(null!==a&&"object"===ab(a)&& void 0!==a.length,"Invalid argument for bytesToString");var c=a.length,d=8192;if(c<d)return String.fromCharCode.apply(null,a);for(var e=[],b=0;b<c;b+=d){var f=Math.min(b+d,c),g=a.subarray(b,f);e.push(String.fromCharCode.apply(null,g))}return e.join("")}function ay(b){aq("string"==typeof b,"Invalid argument for stringToBytes");for(var c=b.length,d=new Uint8Array(c),a=0;a<c;++a)d[a]=255&b.charCodeAt(a);return d}function az(a){return void 0!==a.length?a.length:(aq(void 0!==a.byteLength,"arrayByteLength - invalid argument."),a.byteLength)}function aA(b){var c=b.length;if(1===c&&b[0]instanceof Uint8Array)return b[0];for(var f=0,d=0;d<c;d++)f+=az(b[d]);for(var g=0,h=new Uint8Array(f),e=0;e<c;e++){var a=b[e];a instanceof Uint8Array||(a="string"==typeof a?ay(a):new Uint8Array(a));var i=a.byteLength;h.set(a,g),g+=i}return h}function aB(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a)}function aC(a){return Object.keys(a).length}function aD(e){var b,c=Object.create(null),a=$(e);try{for(a.s();!(b=a.n()).done;){var d=W(b.value,2),f=d[0],g=d[1];c[f]=g}}catch(h){a.e(h)}finally{a.f()}return c}function L(){var a=new Uint8Array(4);return a[0]=1,1===new Uint32Array(a.buffer,0,1)[0]}var M={get value(){return d(this,"value",L())}};function N(){try{return Function(""),!0}catch(a){return!1}}a.IsLittleEndianCached=M;var O={get value(){return d(this,"value",N())}};a.IsEvalSupportedCached=O;var aE=f(Array(256).keys()).map(function(a){return a.toString(16).padStart(2,"0")}),P=function(){function a(){ac(this,a)}return S(a,null,[{key:"makeHexColor",value:function(a,b,c){return"#".concat(aE[a]).concat(aE[b]).concat(aE[c])}},{key:"transform",value:function(a,b){return[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],a[0]*b[4]+a[2]*b[5]+a[4],a[1]*b[4]+a[3]*b[5]+a[5]]}},{key:"applyTransform",value:function(b,a){var c=b[0]*a[0]+b[1]*a[2]+a[4],d=b[0]*a[1]+b[1]*a[3]+a[5];return[c,d]}},{key:"applyInverseTransform",value:function(b,a){var c=a[0]*a[3]-a[1]*a[2],d=(b[0]*a[3]-b[1]*a[2]+a[2]*a[5]-a[4]*a[3])/c,e=(-b[0]*a[1]+b[1]*a[0]+a[4]*a[1]-a[5]*a[0])/c;return[d,e]}},{key:"getAxialAlignedBoundingBox",value:function(b,c){var d=a.applyTransform(b,c),e=a.applyTransform(b.slice(2,4),c),f=a.applyTransform([b[0],b[3]],c),g=a.applyTransform([b[2],b[1]],c);return[Math.min(d[0],e[0],f[0],g[0]),Math.min(d[1],e[1],f[1],g[1]),Math.max(d[0],e[0],f[0],g[0]),Math.max(d[1],e[1],f[1],g[1])]}},{key:"inverseTransform",value:function(a){var b=a[0]*a[3]-a[1]*a[2];return[a[3]/b,-a[1]/b,-a[2]/b,a[0]/b,(a[2]*a[5]-a[4]*a[3])/b,(a[4]*a[1]-a[5]*a[0])/b]}},{key:"apply3dTransform",value:function(a,b){return[a[0]*b[0]+a[1]*b[1]+a[2]*b[2],a[3]*b[0]+a[4]*b[1]+a[5]*b[2],a[6]*b[0]+a[7]*b[1]+a[8]*b[2]]}},{key:"singularValueDecompose2dScale",value:function(a){var b=[a[0],a[2],a[1],a[3]],c=a[0]*b[0]+a[1]*b[2],g=a[0]*b[1]+a[1]*b[3],h=a[2]*b[0]+a[3]*b[2],d=a[2]*b[1]+a[3]*b[3],e=(c+d)/2,f=Math.sqrt(Math.pow(c+d,2)-4*(c*d-h*g))/2,i=e+f||1,j=e-f||1;return[Math.sqrt(i),Math.sqrt(j)]}},{key:"normalizeRect",value:function(a){var b=a.slice(0);return a[0]>a[2]&&(b[0]=a[2],b[2]=a[0]),a[1]>a[3]&&(b[1]=a[3],b[3]=a[1]),b}},{key:"intersect",value:function(b,c){function g(a,b){return a-b}var d=[b[0],b[2],c[0],c[2]].sort(g),e=[b[1],b[3],c[1],c[3]].sort(g),f=[];return(b=a.normalizeRect(b),c=a.normalizeRect(c),(d[0]!==b[0]||d[1]!==c[0])&&(d[0]!==c[0]||d[1]!==b[0]))?null:(f[0]=d[1],f[2]=d[2],(e[0]!==b[1]||e[1]!==c[1])&&(e[0]!==c[1]||e[1]!==b[1]))?null:(f[1]=e[1],f[3]=e[2],f)}},{key:"bezierBoundingBox",value:function(d,e,j,k,l,m,n,o){for(var g=[],c=[[],[]],p=0;p<2;++p){if(0===p?(r=6*d-12*j+6*l,q=-3*d+9*j-9*l+3*n,s=3*j-3*d):(r=6*e-12*k+6*m,q=-3*e+9*k-9*m+3*o,s=3*k-3*e),1e-12>Math.abs(q)){if(1e-12>Math.abs(r))continue;0<(a=-s/r)&&a<1&&g.push(a);continue}w=Math.sqrt(v=r*r-4*s*q),!(v<0)&&(0<(t=(-r+w)/(2*q))&&t<1&&g.push(t),0<(u=(-r-w)/(2*q))&&u<1&&g.push(u))}for(var q,r,s,a,t,u,v,w,b,h=g.length,i=h;h--;)b=1-(a=g[h]),c[0][h]=b*b*b*d+3*b*b*a*j+3*b*a*a*l+a*a*a*n,c[1][h]=b*b*b*e+3*b*b*a*k+3*b*a*a*m+a*a*a*o;return c[0][i]=d,c[1][i]=e,c[0][i+1]=n,c[1][i+1]=o,c[0].length=c[1].length=i+2,[Math.min.apply(Math,f(c[0])),Math.min.apply(Math,f(c[1])),Math.max.apply(Math,f(c[0])),Math.max.apply(Math,f(c[1]))]}}]),a}();a.Util=P;var aF=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function aG(a){var f=a.length,b=[];if("\xfe"===a[0]&&"\xff"===a[1])for(var c=2;c<f;c+=2)b.push(String.fromCharCode(a.charCodeAt(c)<<8|a.charCodeAt(c+1)));else if("\xff"===a[0]&&"\xfe"===a[1])for(var d=2;d<f;d+=2)b.push(String.fromCharCode(a.charCodeAt(d+1)<<8|a.charCodeAt(d)));else for(var e=0;e<f;++e){var g=aF[a.charCodeAt(e)];b.push(g?String.fromCharCode(g):a.charAt(e))}return b.join("")}function aH(a){return a.replace(/([()\\\n\r])/g,function(a){return"\n"===a?"\\n":"\r"===a?"\\r":"\\".concat(a)})}function aI(a){return/^[\x00-\x7F]*$/.test(a)}function aJ(b){for(var c=["\xfe\xff"],a=0,e=b.length;a<e;a++){var d=b.charCodeAt(a);c.push(String.fromCharCode(d>>8&255),String.fromCharCode(255&d))}return c.join("")}function aK(a){return decodeURIComponent(escape(a))}function aL(a){return unescape(encodeURIComponent(a))}function aM(a){return"boolean"==typeof a}function aN(a){return"number"==typeof a}function aO(a){return"string"==typeof a}function aP(a){return"object"===ab(a)&&null!==a&& void 0!==a.byteLength}function aQ(b,c){if(b.length!==c.length)return!1;for(var a=0,d=b.length;a<d;a++)if(b[a]!==c[a])return!1;return!0}function aR(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:new Date;return[a.getUTCFullYear().toString(),(a.getUTCMonth()+1).toString().padStart(2,"0"),a.getUTCDate().toString().padStart(2,"0"),a.getUTCHours().toString().padStart(2,"0"),a.getUTCMinutes().toString().padStart(2,"0"),a.getUTCSeconds().toString().padStart(2,"0")].join("")}function aS(){var a=Object.create(null),b=!1;return Object.defineProperty(a,"settled",{get:function(){return b}}),a.promise=new Promise(function(c,d){a.resolve=function(a){b=!0,c(a)},a.reject=function(a){b=!0,d(a)}}),a}function aT(b){var e=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"",j=arguments.length>2&& void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&"undefined"!=typeof Blob&&!j)return URL.createObjectURL(new Blob([b],{type:e}));for(var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f="data:".concat(e,";base64,"),a=0,d=b.length;a<d;a+=3){var g=255&b[a],h=255&b[a+1],i=255&b[a+2],k=g>>2,l=(3&g)<<4|h>>4,m=a+1<d?(15&h)<<2|i>>6:64,n=a+2<d?63&i:64;f+=c[k]+c[l]+c[m]+c[n]}return f}},(c,d,a)=>{"use strict";var b=a(6);"undefined"!=typeof globalThis&&globalThis._pdfjsCompatibilityChecked||(("undefined"==typeof globalThis||globalThis.Math!==Math)&&(globalThis=a(7)),globalThis._pdfjsCompatibilityChecked=!0,globalThis.btoa||!b.isNodeJS||(globalThis.btoa=function(a){return Buffer.from(a,"binary").toString("base64")}),globalThis.atob||!b.isNodeJS||(globalThis.atob=function(a){return Buffer.from(a,"base64").toString("binary")}),globalThis.DOMMatrix||!b.isNodeJS||(globalThis.DOMMatrix=a(69)),Object.fromEntries||a(70),globalThis.Promise.allSettled||(globalThis.Promise=a(97)),globalThis.ReadableStream||!b.isNodeJS||(globalThis.ReadableStream=a(134).ReadableStream))},(d,a)=>{"use strict";function b(a){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}Object.defineProperty(a,"__esModule",{value:!0}),a.isNodeJS=void 0;var c=(void 0===process?"undefined":b(process))==="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type);a.isNodeJS=c},(b,c,a)=>{a(8),b.exports=a(10)},(d,e,a)=>{var b=a(9),c=a(10);b({global:!0},{globalThis:c})},(b,c,a)=>{var d=a(10),e=a(11).f,f=a(47),g=a(50),h=a(41),i=a(57),j=a(68);b.exports=function(a,n){var r,l,b,c,k,o,m=a.target,p=a.global,q=a.stat;if(l=p?d:q?d[m]||h(m,{}):(d[m]||{}).prototype)for(b in n){if(k=n[b],c=a.noTargetGet?(o=e(l,b))&&o.value:l[b],!(r=j(p?b:m+(q?".":"#")+b,a.forced))&& void 0!==c){if(typeof k==typeof c)continue;i(k,c)}(a.sham||c&&c.sham)&&f(k,"sham",!0),g(l,b,k,a)}}},b=>{var a=function(a){return a&&a.Math==Math&&a};b.exports=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof __webpack_require__.g&&__webpack_require__.g)||function(){return this}()||Function("return this")()},(e,b,a)=>{var c=a(12),f=a(14),g=a(15),h=a(16),i=a(17),j=a(22),k=a(42),l=a(45),d=Object.getOwnPropertyDescriptor;b.f=c?d:function(a,b){if(a=i(a),b=j(b),l)try{return d(a,b)}catch(c){}if(k(a,b))return h(!f(g.f,a,b),a[b])}},(a,d,b)=>{var c=b(13);a.exports=!c(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},a=>{a.exports=function(a){try{return!!a()}catch(b){return!0}}},b=>{var a=Function.prototype.call;b.exports=a.bind?a.bind(a):function(){return a.apply(a,arguments)}},(e,b)=>{"use strict";var a={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,d=c&&!a.call({1:2},1);b.f=d?function(b){var a=c(this,b);return!!a&&a.enumerable}:a},a=>{a.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},(b,c,a)=>{var d=a(18),e=a(21);b.exports=function(a){return d(e(a))}},(b,g,a)=>{var c=a(10),d=a(19),e=a(13),h=a(20),f=c.Object,i=d("".split);b.exports=e(function(){return!f("z").propertyIsEnumerable(0)})?function(a){return"String"==h(a)?i(a,""):f(a)}:f},c=>{var b=Function.prototype,a=b.bind,d=b.call,e=a&&a.bind(d);c.exports=a?function(a){return a&&e(d,a)}:function(a){return a&&function(){return d.apply(a,arguments)}}},(b,d,c)=>{var a=c(19),e=a({}.toString),f=a("".slice);b.exports=function(a){return f(e(a),8,-1)}},(a,c,b)=>{var d=b(10).TypeError;a.exports=function(a){if(void 0==a)throw d("Can't call method on "+a);return a}},(b,c,a)=>{var d=a(23),e=a(26);b.exports=function(b){var a=d(b,"string");return e(a)?a:a+""}},(b,e,a)=>{var c=a(10),f=a(14),g=a(24),h=a(26),i=a(33),j=a(36),d=a(37),k=c.TypeError,l=d("toPrimitive");b.exports=function(a,b){if(!g(a)||h(a))return a;var c,d=i(a,l);if(d){if(void 0===b&&(b="default"),c=f(d,a,b),!g(c)||h(c))return c;throw k("Can't convert object to primitive value")}return void 0===b&&(b="number"),j(a,b)}},(a,c,b)=>{var d=b(25);a.exports=function(a){return"object"==typeof a?null!==a:d(a)}},a=>{a.exports=function(a){return"function"==typeof a}},(b,e,a)=>{var c=a(10),f=a(27),g=a(25),h=a(28),d=a(29),i=c.Object;b.exports=d?function(a){return"symbol"==typeof a}:function(b){var a=f("Symbol");return g(a)&&h(a.prototype,i(b))}},(b,c,a)=>{var d=a(10),e=a(25),f=function(a){return e(a)?a:void 0};b.exports=function(a,b){return arguments.length<2?f(d[a]):d[a]&&d[a][b]}},(a,d,b)=>{var c=b(19);a.exports=c({}.isPrototypeOf)},(a,d,b)=>{var c=b(30);a.exports=c&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(b,d,a)=>{var e=a(31),c=a(13);b.exports=!!Object.getOwnPropertySymbols&&!c(function(){var a=Symbol();return!String(a)||!(Object(a) instanceof Symbol)|| !Symbol.sham&&e&&e<41})},(j,k,d)=>{var a,b,e=d(10),c=d(32),f=e.process,g=e.Deno,h=f&&f.versions||g&&g.version,i=h&&h.v8;i&&(b=(a=i.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!b&&c&&(!(a=c.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=c.match(/Chrome\/(\d+)/))&&(b=+a[1]),j.exports=b},(a,d,b)=>{var c=b(27);a.exports=c("navigator","userAgent")||""},(a,c,b)=>{var d=b(34);a.exports=function(b,c){var a=b[c];return null==a?void 0:d(a)}},(b,d,a)=>{var c=a(10),e=a(25),f=a(35),g=c.TypeError;b.exports=function(a){if(e(a))return a;throw g(f(a)+" is not a function")}},(a,c,b)=>{var d=b(10).String;a.exports=function(a){try{return d(a)}catch(b){return"Object"}}},(b,d,a)=>{var c=a(10),e=a(14),f=a(25),g=a(24),h=c.TypeError;b.exports=function(a,d){var b,c;if("string"===d&&f(b=a.toString)&&!g(c=e(b,a))||f(b=a.valueOf)&&!g(c=e(b,a))||"string"!==d&&f(b=a.toString)&&!g(c=e(b,a)))return c;throw h("Can't convert object to primitive value")}},(c,h,a)=>{var d=a(10),e=a(38),i=a(42),f=a(44),j=a(30),g=a(29),k=e("wks"),b=d.Symbol,l=b&&b.for,m=g?b:b&&b.withoutSetter||f;c.exports=function(a){if(!i(k,a)||!(j||"string"==typeof k[a])){var c="Symbol."+a;j&&i(b,a)?k[a]=b[a]:g&&l?k[a]=l(c):k[a]=m(c)}return k[a]}},(b,d,a)=>{var c=a(39),e=a(40);(b.exports=function(a,b){return e[a]||(e[a]=void 0!==b?b:{})})("versions",[]).push({version:"3.19.3",mode:c?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},a=>{a.exports=!1},(c,g,a)=>{var d=a(10),e=a(41),b="__core-js_shared__",f=d[b]||e(b,{});c.exports=f},(a,c,b)=>{var d=b(10),e=Object.defineProperty;a.exports=function(b,a){try{e(d,b,{value:a,configurable:!0,writable:!0})}catch(c){d[b]=a}return a}},(b,d,a)=>{var c=a(19),e=a(43),f=c({}.hasOwnProperty);b.exports=Object.hasOwn||function(a,b){return f(e(a),b)}},(b,d,a)=>{var c=a(10),e=a(21),f=c.Object;b.exports=function(a){return f(e(a))}},(a,d,b)=>{var c=b(19),e=0,f=Math.random(),g=c(1..toString);a.exports=function(a){return"Symbol("+(void 0===a?"":a)+")_"+g(++e+f,36)}},(b,e,a)=>{var c=a(12),d=a(13),f=a(46);b.exports=!c&&!d(function(){return 7!=Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a})},(d,f,a)=>{var e=a(10),b=a(24),c=e.document,g=b(c)&&b(c.createElement);d.exports=function(a){return g?c.createElement(a):{}}},(b,d,a)=>{var c=a(12),e=a(48),f=a(16);b.exports=c?function(a,b,c){return e.f(a,b,f(1,c))}:function(a,b,c){return a[b]=c,a}},(f,b,a)=>{var c=a(10),d=a(12),g=a(45),h=a(49),i=a(22),j=c.TypeError,e=Object.defineProperty;b.f=d?e:function(b,c,a){if(h(b),c=i(c),h(a),g)try{return e(b,c,a)}catch(d){}if("get"in a||"set"in a)throw j("Accessors not supported");return"value"in a&&(b[c]=a.value),b}},(c,d,a)=>{var b=a(10),e=a(24),f=b.String,g=b.TypeError;c.exports=function(a){if(e(a))return a;throw g(f(a)+" is not an object")}},(c,d,a)=>{var e=a(10),f=a(25),g=a(42),h=a(47),i=a(41),j=a(51),b=a(52),k=a(56).CONFIGURABLE,l=b.get,m=b.enforce,n=String(String).split("String");(c.exports=function(j,c,a,b){var o,p=!!b&&!!b.unsafe,l=!!b&&!!b.enumerable,q=!!b&&!!b.noTargetGet,d=b&& void 0!==b.name?b.name:c;if(f(a)&&("Symbol("===String(d).slice(0,7)&&(d="["+String(d).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!g(a,"name")||k&&a.name!==d)&&h(a,"name",d),(o=m(a)).source||(o.source=n.join("string"==typeof d?d:""))),j===e){l?j[c]=a:i(c,a);return}p?!q&&j[c]&&(l=!0):delete j[c],l?j[c]=a:h(j,c,a)})(Function.prototype,"toString",function(){return f(this)&&l(this).source||j(this)})},(c,f,a)=>{var d=a(19),e=a(25),b=a(40),g=d(Function.toString);e(b.inspectSource)||(b.inspectSource=function(a){return g(a)}),c.exports=b.inspectSource},(i,q,a)=>{var b,c,d,j=a(53),h=a(10),e=a(19),r=a(24),s=a(47),t=a(42),f=a(40),k=a(54),l=a(55),u="Object already initialized",v=h.TypeError,m=h.WeakMap,n=function(a){return d(a)?c(a):b(a,{})},o=function(a){return function(b){var d;if(!r(b)||(d=c(b)).type!==a)throw v("Incompatible receiver, "+a+" required");return d}};if(j||f.state){var g=f.state||(f.state=new m),w=e(g.get),x=e(g.has),y=e(g.set);b=function(a,b){if(x(g,a))throw new v(u);return b.facade=a,y(g,a,b),b},c=function(a){return w(g,a)||{}},d=function(a){return x(g,a)}}else{var p=k("state");l[p]=!0,b=function(a,b){if(t(a,p))throw new v(u);return b.facade=a,s(a,p,b),b},c=function(a){return t(a,p)?a[p]:{}},d=function(a){return t(a,p)}}i.exports={set:b,get:c,has:d,enforce:n,getterFor:o}},(c,g,a)=>{var d=a(10),e=a(25),f=a(51),b=d.WeakMap;c.exports=e(b)&&/native code/.test(f(b))},(b,d,a)=>{var c=a(38),e=a(44),f=c("keys");b.exports=function(a){return f[a]||(f[a]=e(a))}},a=>{a.exports={}},(e,j,c)=>{var a=c(12),f=c(42),d=Function.prototype,g=a&&Object.getOwnPropertyDescriptor,b=f(d,"name"),h=b&&"something"===(function(){}).name,i=b&&(!a||a&&g(d,"name").configurable);e.exports={EXISTS:b,PROPER:h,CONFIGURABLE:i}},(b,c,a)=>{var d=a(42),e=a(58),f=a(11),g=a(48);b.exports=function(c,h){for(var i=e(h),j=g.f,k=f.f,a=0;a<i.length;a++){var b=i[a];d(c,b)||j(c,b,k(h,b))}}},(b,e,a)=>{var c=a(27),d=a(19),f=a(59),g=a(67),h=a(49),i=d([].concat);b.exports=c("Reflect","ownKeys")||function(a){var b=f.f(h(a)),c=g.f;return c?i(b,c(a)):b}},(c,b,a)=>{var d=a(60),e=a(66).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(a){return d(a,e)}},(b,d,a)=>{var c=a(19),e=a(42),f=a(17),g=a(61).indexOf,h=a(55),i=c([].push);b.exports=function(k,d){var a,c=f(k),j=0,b=[];for(a in c)!e(h,a)&&e(c,a)&&i(b,a);for(;d.length>j;)e(c,a=d[j++])&&(~g(b,a)||i(b,a));return b}},(c,d,a)=>{var e=a(17),f=a(62),g=a(64),b=function(a){return function(j,d,k){var i,c=e(j),h=g(c),b=f(k,h);if(a&&d!=d){for(;h>b;)if((i=c[b++])!=i)return!0}else for(;h>b;b++)if((a||b in c)&&c[b]===d)return a||b||0;return!a&& -1}};c.exports={includes:b(!0),indexOf:b(!1)}},(a,c,b)=>{var d=b(63),e=Math.max,f=Math.min;a.exports=function(c,b){var a=d(c);return a<0?e(a+b,0):f(a,b)}},a=>{var b=Math.ceil,c=Math.floor;a.exports=function(d){var a=+d;return a!=a||0===a?0:(a>0?c:b)(a)}},(a,c,b)=>{var d=b(65);a.exports=function(a){return d(a.length)}},(a,c,b)=>{var d=b(63),e=Math.min;a.exports=function(a){return a>0?e(d(a),9007199254740991):0}},a=>{a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(b,a)=>{a.f=Object.getOwnPropertySymbols},(c,d,b)=>{var e=b(13),f=b(25),g=/#|\.prototype\./,a=function(c,a){var b=i[h(c)];return b==k||b!=j&&(f(a)?e(a):!!a)},h=a.normalize=function(a){return String(a).replace(g,".").toLowerCase()},i=a.data={},j=a.NATIVE="N",k=a.POLYFILL="P";c.exports=a},(a,b,c)=>{"use strict";var d,e;function f(a){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}!function(h,g){"object"===f(b)?a.exports=g():void 0!==(e="function"==typeof(d=g)?d.call(b,c,b,a):d)&&(a.exports=e)}(void 0,function(){function c(d){var b=new a,c=Array.from(d);if(!c.every(function(a){return!Number.isNaN(a)}))throw TypeError('CSSMatrix: "'+d+'" must only have numbers.');if(16===c.length){var e=c[0],f=c[1],q=c[2],r=c[3],g=c[4],h=c[5],s=c[6],t=c[7],u=c[8],v=c[9],w=c[10],x=c[11],i=c[12],j=c[13],y=c[14],z=c[15];b.m11=e,b.a=e,b.m21=g,b.c=g,b.m31=u,b.m41=i,b.e=i,b.m12=f,b.b=f,b.m22=h,b.d=h,b.m32=v,b.m42=j,b.f=j,b.m13=q,b.m23=s,b.m33=w,b.m43=y,b.m14=r,b.m24=t,b.m34=x,b.m44=z}else if(6===c.length){var k=c[0],l=c[1],m=c[2],n=c[3],o=c[4],p=c[5];b.m11=k,b.a=k,b.m12=l,b.b=l,b.m21=m,b.c=m,b.m22=n,b.d=n,b.m41=o,b.e=o,b.m42=p,b.f=p}else throw TypeError("CSSMatrix: expecting an Array of 6/16 values.");return b}function d(b){var d=Object.keys(new a);if("object"===f(b)&&d.every(function(a){return a in b}))return c([b.m11,b.m12,b.m13,b.m14,b.m21,b.m22,b.m23,b.m24,b.m31,b.m32,b.m33,b.m34,b.m41,b.m42,b.m43,b.m44]);throw TypeError('CSSMatrix: "'+b+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function e(b){if("string"!=typeof b)throw TypeError('CSSMatrix: "'+b+'" is not a string.');var d=String(b).replace(/\s/g,""),e=new a,f='CSSMatrix: invalid transform string "'+b+'"';return d.split(")").filter(function(a){return a}).forEach(function(o){var l=o.split("("),b=l[0],m=l[1];if(!m)throw TypeError(f);var h=m.split(",").map(function(a){return a.includes("rad")?parseFloat(a)*(180/Math.PI):parseFloat(a)}),a=h[0],d=h[1],g=h[2],i=h[3],j=[a,d,g],p=[a,d,g,i];if("perspective"===b&&a&&[d,g].every(function(a){return void 0===a}))e.m34=-1/a;else if(b.includes("matrix")&&[6,16].includes(h.length)&&h.every(function(a){return!Number.isNaN(+a)})){var q=h.map(function(a){return 1e-6>Math.abs(a)?0:a});e=e.multiply(c(q))}else if("translate3d"===b&&j.every(function(a){return!Number.isNaN(+a)}))e=e.translate(a,d,g);else if("translate"===b&&a&& void 0===g)e=e.translate(a,d||0,0);else if("rotate3d"===b&&p.every(function(a){return!Number.isNaN(+a)})&&i)e=e.rotateAxisAngle(a,d,g,i);else if("rotate"===b&&a&&[d,g].every(function(a){return void 0===a}))e=e.rotate(0,0,a);else if("scale3d"===b&&j.every(function(a){return!Number.isNaN(+a)})&&j.some(function(a){return 1!==a}))e=e.scale(a,d,g);else if("scale"!==b||Number.isNaN(a)||1===a|| void 0!==g){if("skew"===b&&a&& void 0===g)e=e.skewX(a),e=d?e.skewY(d):e;else if(/[XYZ]/.test(b)&&a&&[d,g].every(function(a){return void 0===a})&&["translate","rotate","scale","skew"].some(function(a){return b.includes(a)})){if(["skewX","skewY"].includes(b))e=e[b](a);else{var n=b.replace(/[XYZ]/,""),k=["X","Y","Z"].indexOf(b.replace(n,"")),r=[0===k?a:0,1===k?a:0,2===k?a:0];e=e[n].apply(e,r)}}else throw TypeError(f)}else{var s=Number.isNaN(+d)?a:d;e=e.scale(a,s,1)}}),e}function g(c,d,e){var b=new a;return b.m41=c,b.e=c,b.m42=d,b.f=d,b.m43=e,b}function h(q,r,s){var b=new a,i=Math.PI/180,j=q*i,k=r*i,l=s*i,c=Math.cos(j),d=-Math.sin(j),h=Math.cos(k),e=-Math.sin(k),f=Math.cos(l),g=-Math.sin(l),m=h*f,n=-h*g;b.m11=m,b.a=m,b.m12=n,b.b=n,b.m13=e;var o=d*e*f+c*g;b.m21=o,b.c=o;var p=c*f-d*e*g;return b.m22=p,b.d=p,b.m23=-d*h,b.m31=d*g-c*e*f,b.m32=d*f+c*e*g,b.m33=c*h,b}function i(j,k,l,u){var b=new a,m=u*(Math.PI/360),g=Math.sin(m),h=Math.cos(m),f=g*g,i=Math.sqrt(j*j+k*k+l*l),c=j,d=k,e=l;0===i?(c=0,d=0,e=1):(c/=i,d/=i,e/=i);var n=c*c,o=d*d,p=e*e,q=1-2*(o+p)*f;b.m11=q,b.a=q;var r=2*(c*d*f+e*g*h);b.m12=r,b.b=r,b.m13=2*(c*e*f-d*g*h);var s=2*(d*c*f-e*g*h);b.m21=s,b.c=s;var t=1-2*(p+n)*f;return b.m22=t,b.d=t,b.m23=2*(d*e*f+c*g*h),b.m31=2*(e*c*f+d*g*h),b.m32=2*(e*d*f-c*g*h),b.m33=1-2*(n+o)*f,b}function j(c,d,e){var b=new a;return b.m11=c,b.a=c,b.m22=d,b.d=d,b.m33=e,b}function k(d){var b=new a,e=d*Math.PI/180,c=Math.tan(e);return b.m21=c,b.c=c,b}function l(d){var b=new a,e=d*Math.PI/180,c=Math.tan(e);return b.m12=c,b.b=c,b}function m(a,b){var d=b.m11*a.m11+b.m12*a.m21+b.m13*a.m31+b.m14*a.m41,e=b.m11*a.m12+b.m12*a.m22+b.m13*a.m32+b.m14*a.m42,f=b.m11*a.m13+b.m12*a.m23+b.m13*a.m33+b.m14*a.m43,g=b.m11*a.m14+b.m12*a.m24+b.m13*a.m34+b.m14*a.m44,h=b.m21*a.m11+b.m22*a.m21+b.m23*a.m31+b.m24*a.m41,i=b.m21*a.m12+b.m22*a.m22+b.m23*a.m32+b.m24*a.m42,j=b.m21*a.m13+b.m22*a.m23+b.m23*a.m33+b.m24*a.m43,k=b.m21*a.m14+b.m22*a.m24+b.m23*a.m34+b.m24*a.m44,l=b.m31*a.m11+b.m32*a.m21+b.m33*a.m31+b.m34*a.m41,m=b.m31*a.m12+b.m32*a.m22+b.m33*a.m32+b.m34*a.m42,n=b.m31*a.m13+b.m32*a.m23+b.m33*a.m33+b.m34*a.m43,o=b.m31*a.m14+b.m32*a.m24+b.m33*a.m34+b.m34*a.m44,p=b.m41*a.m11+b.m42*a.m21+b.m43*a.m31+b.m44*a.m41,q=b.m41*a.m12+b.m42*a.m22+b.m43*a.m32+b.m44*a.m42,r=b.m41*a.m13+b.m42*a.m23+b.m43*a.m33+b.m44*a.m43,s=b.m41*a.m14+b.m42*a.m24+b.m43*a.m34+b.m44*a.m44;return c([d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s])}var a=function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];var a=this;if(a.a=1,a.b=0,a.c=0,a.d=1,a.e=0,a.f=0,a.m11=1,a.m12=0,a.m13=0,a.m14=0,a.m21=0,a.m22=1,a.m23=0,a.m24=0,a.m31=0,a.m32=0,a.m33=1,a.m34=0,a.m41=0,a.m42=0,a.m43=0,a.m44=1,b&&b.length){var d=[16,6].some(function(a){return a===b.length})?b:b[0];return a.setMatrixValue(d)}return a},b={isIdentity:{configurable:!0},is2D:{configurable:!0}};return b.isIdentity.set=function(a){this.isIdentity=a},b.isIdentity.get=function(){var a=this;return 1===a.m11&&0===a.m12&&0===a.m13&&0===a.m14&&0===a.m21&&1===a.m22&&0===a.m23&&0===a.m24&&0===a.m31&&0===a.m32&&1===a.m33&&0===a.m34&&0===a.m41&&0===a.m42&&0===a.m43&&1===a.m44},b.is2D.get=function(){var a=this;return 0===a.m31&&0===a.m32&&1===a.m33&&0===a.m34&&0===a.m43&&1===a.m44},b.is2D.set=function(a){this.is2D=a},a.prototype.setMatrixValue=function(a){var b=this;return[Array,Float64Array,Float32Array].some(function(b){return a instanceof b})?c(a):"string"==typeof a&&a.length&&"none"!==a?e(a):"object"===f(a)?d(a):b},a.prototype.toArray=function(){var b,a=this,c=1e6;return(b=a.is2D?[a.a,a.b,a.c,a.d,a.e,a.f]:[a.m11,a.m12,a.m13,a.m14,a.m21,a.m22,a.m23,a.m24,a.m31,a.m32,a.m33,a.m34,a.m41,a.m42,a.m43,a.m44]).map(function(a){return 1e-6>Math.abs(a)?0:(a*c>>0)/c})},a.prototype.toString=function(){var a=this,b=a.toArray(),c=a.is2D?"matrix":"matrix3d";return c+"("+b+")"},a.prototype.toJSON=function(){var a=this,b=a.is2D,c=a.isIdentity;return Object.assign({},a,{is2D:b,isIdentity:c})},a.prototype.multiply=function(a){return m(this,a)},a.prototype.translate=function(c,d,e){var a=d,b=e;return void 0===b&&(b=0),void 0===a&&(a=0),m(this,g(c,a,b))},a.prototype.scale=function(c,d,e){var f=c,a=d,b=e;return void 0===a&&(a=c),void 0===b&&(b=1),m(this,j(f,a,b))},a.prototype.rotate=function(d,e,f){var a=d,b=e,c=f;return void 0===b&&(b=0),void 0===c&&(c=a,a=0),m(this,h(a,b,c))},a.prototype.rotateAxisAngle=function(a,b,c,d){if([a,b,c,d].some(function(a){return Number.isNaN(a)}))throw TypeError("CSSMatrix: expecting 4 values");return m(this,i(a,b,c,d))},a.prototype.skewX=function(a){return m(this,k(a))},a.prototype.skewY=function(a){return m(this,l(a))},a.prototype.transformPoint=function(b){var c=this,a=g(b.x,b.y,b.z);return a.m44=b.w||1,{x:(a=c.multiply(a)).m41,y:a.m42,z:a.m43,w:a.m44}},a.prototype.transform=function(a){var b=this,d=b.m11*a.x+b.m12*a.y+b.m13*a.z+b.m14*a.w,e=b.m21*a.x+b.m22*a.y+b.m23*a.z+b.m24*a.w,f=b.m31*a.x+b.m32*a.y+b.m33*a.z+b.m34*a.w,c=b.m41*a.x+b.m42*a.y+b.m43*a.z+b.m44*a.w;return{x:d/c,y:e/c,z:f/c,w:c}},Object.defineProperties(a.prototype,b),Object.assign(a,{Translate:g,Rotate:h,RotateAxisAngle:i,Scale:j,SkewX:k,SkewY:l,Multiply:m,fromArray:c,fromMatrix:d,fromString:e}),Object.assign(a,{Version:"0.0.24"}),a})},(b,d,a)=>{a(71),a(86);var c=a(96);b.exports=c.Object.fromEntries},(e,h,a)=>{"use strict";var i=a(17),b=a(72),c=a(77),d=a(52),f=a(78),g="Array Iterator",j=d.set,k=d.getterFor(g);e.exports=f(Array,"Array",function(a,b){j(this,{type:g,target:i(a),index:0,kind:b})},function(){var b=k(this),c=b.target,d=b.kind,a=b.index++;return!c||a>=c.length?(b.target=void 0,{value:void 0,done:!0}):"keys"==d?{value:a,done:!1}:"values"==d?{value:c[a],done:!1}:{value:[a,c[a]],done:!1}},"values"),c.Arguments=c.Array,b("keys"),b("values"),b("entries")},(d,h,a)=>{var e=a(37),f=a(73),g=a(48),b=e("unscopables"),c=Array.prototype;void 0==c[b]&&g.f(c,b,{configurable:!0,value:f(null)}),d.exports=function(a){c[b][a]=!0}},(b,f,a)=>{var g,h=a(49),i=a(74),j=a(66),c=a(55),k=a(76),l=a(46),d=a(54),m=">",n="<",o="prototype",p="script",e=d("IE_PROTO"),q=function(){},r=function(a){return n+p+m+a+n+"/"+p+m},s=function(a){a.write(r("")),a.close();var b=a.parentWindow.Object;return a=null,b},t=function(){var a,b=l("iframe"),c="java"+p+":";return b.style.display="none",k.appendChild(b),b.src=String(c),(a=b.contentWindow.document).open(),a.write(r("document.F=Object")),a.close(),a.F},u=function(){try{g=new ActiveXObject("htmlfile")}catch(b){}u="undefined"!=typeof document?document.domain&&g?s(g):t():s(g);for(var a=j.length;a--;)delete u[o][j[a]];return u()};c[e]=!0,b.exports=Object.create||function(b,c){var a;return null!==b?(q[o]=h(b),a=new q,q[o]=null,a[e]=b):a=u(),void 0===c?a:i(a,c)}},(b,d,a)=>{var c=a(12),e=a(48),f=a(49),g=a(17),h=a(75);b.exports=c?Object.defineProperties:function(a,b){f(a);for(var c,j=g(b),d=h(b),k=d.length,i=0;k>i;)e.f(a,c=d[i++],j[c]);return a}},(b,c,a)=>{var d=a(60),e=a(66);b.exports=Object.keys||function(a){return d(a,e)}},(a,d,b)=>{var c=b(27);a.exports=c("document","documentElement")},a=>{a.exports={}},(d,f,a)=>{"use strict";var g=a(9),h=a(14),i=a(39),b=a(56),j=a(25),k=a(79),l=a(81),m=a(84),n=a(83),o=a(47),p=a(50),e=a(37),q=a(77),c=a(80),r=b.PROPER,s=b.CONFIGURABLE,t=c.IteratorPrototype,u=c.BUGGY_SAFARI_ITERATORS,v=e("iterator"),w="keys",x="values",y="entries",z=function(){return this};d.exports=function(E,d,I,J,c,K,F){k(I,d,J);var b,e,A,B=function(b){if(b===c&&f)return f;if(!u&&b in a)return a[b];switch(b){case w:case x:case y:return function(){return new I(this,b)}}return function(){return new I(this)}},G=d+" Iterator",D=!1,a=E.prototype,C=a[v]||a["@@iterator"]||c&&a[c],f=!u&&C||B(c),H="Array"==d&&a.entries||C;if(H&&(b=l(H.call(new E)))!==Object.prototype&&b.next&&(i||l(b)===t||(m?m(b,t):j(b[v])||p(b,v,z)),n(b,G,!0,!0),i&&(q[G]=z)),r&&c==x&&C&&C.name!==x&&(!i&&s?o(a,"name",x):(D=!0,f=function(){return h(C,this)})),c){if(e={values:B(x),keys:K?f:B(w),entries:B(y)},F)for(A in e)!u&&!D&&A in a||p(a,A,e[A]);else g({target:d,proto:!0,forced:u||D},e)}return(!i||F)&&a[v]!==f&&p(a,v,f,{name:c}),q[d]=f,e}},(b,c,a)=>{"use strict";var d=a(80).IteratorPrototype,e=a(73),f=a(16),g=a(83),h=a(77),i=function(){return this};b.exports=function(a,c,j,k){var b=c+" Iterator";return a.prototype=e(d,{next:f(+!k,j)}),g(a,b,!1,!0),h[b]=i,a}},(h,p,b)=>{"use strict";var a,c,d,i=b(13),j=b(25),k=b(73),e=b(81),l=b(50),m=b(37),n=b(39),f=m("iterator"),g=!1;[].keys&&("next"in(d=[].keys())?(c=e(e(d)))!==Object.prototype&&(a=c):g=!0);var o=void 0==a||i(function(){var b={};return a[f].call(b)!==b});o?a={}:n&&(a=k(a)),j(a[f])||l(a,f,function(){return this}),h.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:g}},(c,g,a)=>{var d=a(10),h=a(42),i=a(25),j=a(43),e=a(54),f=a(82),k=e("IE_PROTO"),b=d.Object,l=b.prototype;c.exports=f?b.getPrototypeOf:function(d){var a=j(d);if(h(a,k))return a[k];var c=a.constructor;return i(c)&&a instanceof c?c.prototype:a instanceof b?l:null}},(a,d,b)=>{var c=b(13);a.exports=!c(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},(b,c,a)=>{var d=a(48).f,e=a(42),f=a(37)("toStringTag");b.exports=function(a,b,c){a&&!e(a=c?a:a.prototype,f)&&d(a,f,{configurable:!0,value:b})}},(b,c,a)=>{var d=a(19),e=a(49),f=a(85);b.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b,c=!1,a={};try{(b=d(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(a,[]),c=a instanceof Array}catch(g){}return function(a,d){return e(a),f(d),c?b(a,d):a.__proto__=d,a}}():void 0)},(c,d,a)=>{var b=a(10),e=a(25),f=b.String,g=b.TypeError;c.exports=function(a){if("object"==typeof a||e(a))return a;throw g("Can't set "+f(a)+" as a prototype")}},(c,d,a)=>{var b=a(9),e=a(87),f=a(95);b({target:"Object",stat:!0},{fromEntries:function(a){var b={};return e(a,function(a,c){f(b,a,c)},{AS_ENTRIES:!0}),b}})},(b,e,a)=>{var c=a(10),f=a(88),g=a(14),h=a(49),i=a(35),j=a(89),k=a(64),l=a(28),m=a(90),n=a(91),o=a(94),p=c.TypeError,d=function(a,b){this.stopped=a,this.result=b},q=d.prototype;b.exports=function(c,x,a){var e,s,r,t,b,u,v,y=a&&a.that,B=!!(a&&a.AS_ENTRIES),z=!!(a&&a.IS_ITERATOR),C=!!(a&&a.INTERRUPTED),D=f(x,y),E=function(a){return e&&o(e,"normal",a),new d(!0,a)},w=function(a){return B?(h(a),C?D(a[0],a[1],E):D(a[0],a[1])):C?D(a,E):D(a)};if(z)e=c;else{if(!(s=n(c)))throw p(i(c)+" is not iterable");if(j(s)){for(r=0,t=k(c);t>r;r++)if((b=w(c[r]))&&l(q,b))return b;return new d(!1)}e=m(c,s)}for(u=e.next;!(v=g(u,e)).done;){try{b=w(v.value)}catch(A){o(e,"throw",A)}if("object"==typeof b&&b&&l(q,b))return b}return new d(!1)}},(c,d,a)=>{var b=a(19),e=a(34),f=b(b.bind);c.exports=function(a,b){return e(a),void 0===b?a:f?f(a,b):function(){return a.apply(b,arguments)}}},(b,d,a)=>{var c=a(37),e=a(77),f=c("iterator"),g=Array.prototype;b.exports=function(a){return void 0!==a&&(e.Array===a||g[f]===a)}},(b,d,a)=>{var c=a(10),e=a(14),f=a(34),g=a(49),h=a(35),i=a(91),j=c.TypeError;b.exports=function(a,c){var b=arguments.length<2?i(a):c;if(f(b))return g(e(b,a));throw j(h(a)+" is not iterable")}},(b,c,a)=>{var d=a(92),e=a(33),f=a(77),g=a(37)("iterator");b.exports=function(a){if(void 0!=a)return e(a,g)||e(a,"@@iterator")||f[d(a)]}},(c,g,a)=>{var d=a(10),e=a(93),h=a(25),b=a(20),f=a(37),i=f("toStringTag"),j=d.Object,k="Arguments"==b(function(){return arguments}()),l=function(a,b){try{return a[b]}catch(c){}};c.exports=e?b:function(c){var a,d,e;return void 0===c?"Undefined":null===c?"Null":"string"==typeof(d=l(a=j(c),i))?d:k?b(a):"Object"==(e=b(a))&&h(a.callee)?"Arguments":e}},(b,e,c)=>{var d=c(37)("toStringTag"),a={};a[d]="z",b.exports="[object z]"===String(a)},(b,c,a)=>{var d=a(14),e=a(49),f=a(33);b.exports=function(c,g,b){var a,h;e(c);try{if(!(a=f(c,"return"))){if("throw"===g)throw b;return b}a=d(a,c)}catch(i){h=!0,a=i}if("throw"===g)throw b;if(h)throw a;return e(a),b}},(b,c,a)=>{"use strict";var d=a(22),e=a(48),f=a(16);b.exports=function(a,g,c){var b=d(g);b in a?e.f(a,b,f(0,c)):a[b]=c}},(a,d,b)=>{var c=b(10);a.exports=c},(b,d,a)=>{a(98),a(71),a(105),a(107),a(129),a(130),a(131),a(132);var c=a(96);b.exports=c.Promise},(k,l,a)=>{"use strict";var f=a(9),g=a(10),m=a(28),n=a(81),e=a(84),h=a(57),i=a(73),o=a(47),c=a(16),p=a(99),q=a(101),r=a(87),s=a(102),j=a(37),t=a(104),u=j("toStringTag"),d=g.Error,v=[].push,b=function(f,g){var a,h=arguments.length>2?arguments[2]:void 0,b=m(w,this);e?a=e(new d(void 0),b?n(this):w):(a=b?this:i(w),o(a,u,"Error")),o(a,"message",s(g,"")),t&&o(a,"stack",p(a.stack,1)),q(a,h);var c=[];return r(f,v,{that:c}),o(a,"errors",c),a};e?e(b,d):h(b,d);var w=b.prototype=i(d.prototype,{constructor:c(1,b),message:c(1,""),name:c(1,"AggregateError")});f({global:!0},{AggregateError:b})},(d,g,c)=>{var e,a=c(19),h=c(100),i=a("".replace),j=a("".split),k=a([].join),b=String(Error(e="zxcasd").stack),f=/\n\s*at [^:]*:[^\n]*/,l=f.test(b),m=/@[^\n]*\n/.test(b)&&!/zxcasd/.test(b);d.exports=function(a,b){if("string"!=typeof a)return a;if(l)for(;b--;)a=i(a,f,"");else if(m)return k(h(j(a,"\n"),b),"\n");return a}},(b,d,a)=>{var c=a(10),e=a(62),f=a(64),g=a(95),h=c.Array,i=Math.max;b.exports=function(j,m,k){for(var b=f(j),a=e(m,b),l=e(void 0===k?b:k,b),c=h(i(l-a,0)),d=0;a<l;a++,d++)g(c,d,j[a]);return c.length=d,c}},(b,c,a)=>{var d=a(24),e=a(47);b.exports=function(b,a){d(a)&&"cause"in a&&e(b,"cause",a.cause)}},(a,c,b)=>{var d=b(103);a.exports=function(a,b){return void 0===a?arguments.length<2?"":b:d(a)}},(b,d,a)=>{var c=a(10),e=a(92),f=c.String;b.exports=function(a){if("Symbol"===e(a))throw TypeError("Cannot convert a Symbol value to a string");return f(a)}},(b,d,a)=>{var c=a(13),e=a(16);b.exports=!c(function(){var a=Error("a");return!("stack"in a)||(Object.defineProperty(a,"stack",e(1,7)),7!==a.stack)})},(e,f,a)=>{var b=a(93),c=a(50),d=a(106);b||c(Object.prototype,"toString",d,{unsafe:!0})},(b,d,a)=>{"use strict";var c=a(93),e=a(92);b.exports=c?({}).toString:function(){return"[object "+e(this)+"]"}},(E,F,a)=>{"use strict";var r,s,t,u,f=a(9),k=a(39),d=a(10),v=a(27),G=a(14),g=a(108),l=a(50),w=a(109),m=a(84),x=a(83),y=a(110),H=a(34),n=a(25),I=a(24),J=a(111),K=a(51),L=a(87),z=a(112),M=a(113),N=a(116).set,O=a(121),P=a(124),Q=a(126),o=a(125),R=a(127),i=a(52),A=a(68),B=a(37),S=a(128),T=a(120),U=a(31),V=B("species"),b="Promise",W=i.getterFor(b),X=i.set,Y=i.getterFor(b),c=g&&g.prototype,j=g,h=c,Z=d.TypeError,p=d.document,$=d.process,q=o.f,_=q,aa=!!(p&&p.createEvent&&d.dispatchEvent),ab=n(d.PromiseRejectionEvent),ac="unhandledrejection",ad="rejectionhandled",ae=0,af=1,ag=2,ah=1,ai=2,C=!1,e=A(b,function(){var a=K(j),b=a!==String(j);if(!b&&66===U||k&&!h.finally)return!0;if(U>=51&&/native code/.test(a))return!1;var c=new j(function(a){a(1)}),d=function(a){a(function(){},function(){})};return(c.constructor={})[V]=d,!(C=c.then(function(){}) instanceof d)|| !b&&S&&!ab}),D=e||!z(function(a){j.all(a).catch(function(){})}),aj=function(a){var b;return!!(I(a)&&n(b=a.then))&&b},ak=function(a,b){if(!a.notified){a.notified=!0;var c=a.reactions;O(function(){for(var h=a.value,j=a.state==af,k=0;c.length>k;){var d,l,m,e=c[k++],i=j?e.ok:e.fail,n=e.resolve,g=e.reject,f=e.domain;try{i?(j||(a.rejection===ai&&ao(a),a.rejection=ah),!0===i?d=h:(f&&f.enter(),d=i(h),f&&(f.exit(),m=!0)),d===e.promise?g(Z("Promise-chain cycle")):(l=aj(d))?G(l,d,n,g):n(d)):g(h)}catch(o){f&&!m&&f.exit(),g(o)}}a.reactions=[],a.notified=!1,b&&!a.rejection&&am(a)})}},al=function(b,e,c){var a,f;aa?((a=p.createEvent("Event")).promise=e,a.reason=c,a.initEvent(b,!1,!0),d.dispatchEvent(a)):a={promise:e,reason:c},!ab&&(f=d["on"+b])?f(a):b===ac&&Q("Unhandled promise rejection",c)},am=function(a){G(N,d,function(){var b,c=a.facade,d=a.value;if(an(a)&&(b=R(function(){T?$.emit("unhandledRejection",d,c):al(ac,c,d)}),a.rejection=T||an(a)?ai:ah,b.error))throw b.value})},an=function(a){return a.rejection!==ah&&!a.parent},ao=function(a){G(N,d,function(){var b=a.facade;T?$.emit("rejectionHandled",b):al(ad,b,a.value)})},ap=function(a,b,c){return function(d){a(b,d,c)}},aq=function(a,c,b){a.done||(a.done=!0,b&&(a=b),a.value=c,a.state=ag,ak(a,!0))},ar=function(a,b,c){if(!a.done){a.done=!0,c&&(a=c);try{if(a.facade===b)throw Z("Promise can't be resolved itself");var d=aj(b);d?O(function(){var c={done:!1};try{G(d,b,ap(ar,c,a),ap(aq,c,a))}catch(e){aq(c,e,a)}}):(a.value=b,a.state=af,ak(a,!1))}catch(e){aq({done:!1},e,a)}}};if(e&&(h=(j=function(b){J(this,h),H(b),G(r,this);var a=W(this);try{b(ap(ar,a),ap(aq,a))}catch(c){aq(a,c)}}).prototype,(r=function(a){X(this,{type:b,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:ae,value:void 0})}).prototype=w(h,{then:function(c,d){var b=Y(this),e=b.reactions,a=q(M(this,j));return a.ok=!n(c)||c,a.fail=n(d)&&d,a.domain=T?$.domain:void 0,b.parent=!0,e[e.length]=a,b.state!=ae&&ak(b,!1),a.promise},catch:function(a){return this.then(void 0,a)}}),s=function(){var a=new r,b=W(a);this.promise=a,this.resolve=ap(ar,b),this.reject=ap(aq,b)},o.f=q=function(a){return a===j||a===t?new s(a):_(a)},!k&&n(g)&&c!==Object.prototype)){u=c.then,C||(l(c,"then",function(a,b){var c=this;return new j(function(a,b){G(u,c,a,b)}).then(a,b)},{unsafe:!0}),l(c,"catch",h.catch,{unsafe:!0}));try{delete c.constructor}catch(as){}m&&m(c,h)}f({global:!0,wrap:!0,forced:e},{Promise:j}),x(j,b,!1,!0),y(b),t=v(b),f({target:b,stat:!0,forced:e},{reject:function(b){var a=q(this);return G(a.reject,void 0,b),a.promise}}),f({target:b,stat:!0,forced:k||e},{resolve:function(a){return P(k&&this===t?j:this,a)}}),f({target:b,stat:!0,forced:D},{all:function(e){var c=this,a=q(c),f=a.resolve,d=a.reject,b=R(function(){var g=H(c.resolve),a=[],h=0,b=1;L(e,function(e){var i=h++,j=!1;b++,G(g,c,e).then(function(c){!j&&(j=!0,a[i]=c,--b||f(a))},d)}),--b||f(a)});return b.error&&d(b.value),a.promise},race:function(e){var c=this,a=q(c),d=a.reject,b=R(function(){var b=H(c.resolve);L(e,function(e){G(b,c,e).then(a.resolve,d)})});return b.error&&d(b.value),a.promise}})},(a,d,b)=>{var c=b(10);a.exports=c.Promise},(a,c,b)=>{var d=b(50);a.exports=function(a,b,e){for(var c in b)d(a,c,b[c],e);return a}},(b,d,a)=>{"use strict";var e=a(27),f=a(48),c=a(37),g=a(12),h=c("species");b.exports=function(b){var a=e(b),c=f.f;g&&a&&!a[h]&&c(a,h,{configurable:!0,get:function(){return this}})}},(b,d,a)=>{var c=a(10),e=a(28),f=c.TypeError;b.exports=function(a,b){if(e(b,a))return a;throw f("Incorrect invocation")}},(b,e,c)=>{var d=c(37)("iterator"),f=!1;try{var g=0,a={next:function(){return{done:!!g++}},return:function(){f=!0}};a[d]=function(){return this},Array.from(a,function(){throw 2})}catch(h){}b.exports=function(b,c){if(!c&&!f)return!1;var e=!1;try{var a={};a[d]=function(){return{next:function(){return{done:e=!0}}}},b(a)}catch(g){}return e}},(b,c,a)=>{var d=a(49),e=a(114),f=a(37)("species");b.exports=function(c,g){var a,b=d(c).constructor;return void 0===b|| void 0==(a=d(b)[f])?g:e(a)}},(b,d,a)=>{var c=a(10),e=a(115),f=a(35),g=c.TypeError;b.exports=function(a){if(e(a))return a;throw g(f(a)+" is not a constructor")}},(c,k,a)=>{var d=a(19),e=a(13),l=a(25),m=a(92),f=a(27),n=a(51),g=function(){},o=[],h=f("Reflect","construct"),b=/^\s*(?:class|function)\b/,p=d(b.exec),q=!b.exec(g),i=function(a){if(!l(a))return!1;try{return h(g,o,a),!0}catch(b){return!1}},j=function(a){if(!l(a))return!1;switch(m(a)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return q||!!p(b,n(a))};c.exports=!h||e(function(){var a;return i(i.call)||!i(Object)||!i(function(){a=!0})||a})?j:i},(m,u,b)=>{var d,c,h,e,a=b(10),v=b(117),n=b(88),o=b(25),w=b(42),p=b(13),x=b(76),y=b(118),q=b(46),r=b(119),s=b(120),f=a.setImmediate,g=a.clearImmediate,z=a.process,i=a.Dispatch,A=a.Function,j=a.MessageChannel,B=a.String,C=0,D={},t="onreadystatechange";try{d=a.location}catch(E){}var F=function(a){if(w(D,a)){var b=D[a];delete D[a],b()}},G=function(a){return function(){F(a)}},k=function(a){F(a.data)},l=function(b){a.postMessage(B(b),d.protocol+"//"+d.host)};f&&g||(f=function(a){var b=y(arguments,1);return D[++C]=function(){v(o(a)?a:A(a),void 0,b)},c(C),C},g=function(a){delete D[a]},s?c=function(a){z.nextTick(G(a))}:i&&i.now?c=function(a){i.now(G(a))}:j&&!r?(e=(h=new j).port2,h.port1.onmessage=k,c=n(e.postMessage,e)):a.addEventListener&&o(a.postMessage)&&!a.importScripts&&d&&"file:"!==d.protocol&&!p(l)?(c=l,a.addEventListener("message",k,!1)):c=t in q("script")?function(a){x.appendChild(q("script"))[t]=function(){x.removeChild(this),F(a)}}:function(a){setTimeout(G(a),0)}),m.exports={set:f,clear:g}},b=>{var a=Function.prototype,c=a.apply,d=a.bind,e=a.call;b.exports="object"==typeof Reflect&&Reflect.apply||(d?e.bind(c):function(){return e.apply(c,arguments)})},(a,d,b)=>{var c=b(19);a.exports=c([].slice)},(a,d,b)=>{var c=b(32);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(c)},(b,e,a)=>{var c=a(20),d=a(10);b.exports="process"==c(d.process)},(o,v,a)=>{var f,w,x,c,p,g,e,q,b=a(10),h=a(88),r=a(11).f,i=a(116).set,s=a(119),t=a(122),u=a(123),j=a(120),k=b.MutationObserver||b.WebKitMutationObserver,l=b.document,y=b.process,d=b.Promise,m=r(b,"queueMicrotask"),n=m&&m.value;n||(f=function(){var a,b;for(j&&(a=y.domain)&&a.exit();w;){b=w.fn,w=w.next;try{b()}catch(d){throw w?c():x=void 0,d}}x=void 0,a&&a.enter()},s||j||u||!k||!l?!t&&d&&d.resolve?((e=d.resolve(void 0)).constructor=d,q=h(e.then,e),c=function(){q(f)}):j?c=function(){y.nextTick(f)}:(i=h(i,b),c=function(){i(f)}):(p=!0,g=l.createTextNode(""),new k(f).observe(g,{characterData:!0}),c=function(){g.data=p=!p})),o.exports=n||function(b){var a={fn:b,next:void 0};x&&(x.next=a),w||(w=a,c()),x=a}},(b,e,a)=>{var c=a(32),d=a(10);b.exports=/ipad|iphone|ipod/i.test(c)&& void 0!==d.Pebble},(a,d,b)=>{var c=b(32);a.exports=/web0s(?!.*chrome)/i.test(c)},(b,c,a)=>{var d=a(49),e=a(24),f=a(125);b.exports=function(b,a){if(d(b),e(a)&&a.constructor===b)return a;var c=f.f(b);return(0,c.resolve)(a),c.promise}},(a,c,b)=>{"use strict";var d=b(34),e=function(a){var b,c;this.promise=new a(function(a,d){if(void 0!==b|| void 0!==c)throw TypeError("Bad Promise constructor");b=a,c=d}),this.resolve=d(b),this.reject=d(c)};a.exports.f=function(a){return new e(a)}},(a,c,b)=>{var d=b(10);a.exports=function(b,c){var a=d.console;a&&a.error&&(1==arguments.length?a.error(b):a.error(b,c))}},a=>{a.exports=function(a){try{return{error:!1,value:a()}}catch(b){return{error:!0,value:b}}}},a=>{a.exports="object"==typeof window},(c,d,a)=>{"use strict";var b=a(9),e=a(14),f=a(34),g=a(125),h=a(127),i=a(87);b({target:"Promise",stat:!0},{allSettled:function(j){var c=this,a=g.f(c),k=a.resolve,d=a.reject,b=h(function(){var d=f(c.resolve),a=[],g=0,b=1;i(j,function(f){var h=g++,i=!1;b++,e(d,c,f).then(function(c){!i&&(i=!0,a[h]={status:"fulfilled",value:c},--b||k(a))},function(c){!i&&(i=!0,a[h]={status:"rejected",reason:c},--b||k(a))})}),--b||k(a)});return b.error&&d(b.value),a.promise}})},(c,d,a)=>{"use strict";var b=a(9),e=a(34),f=a(27),g=a(14),h=a(125),i=a(127),j=a(87),k="No one promise resolved";b({target:"Promise",stat:!0},{any:function(l){var c=this,m=f("AggregateError"),a=h.f(c),n=a.resolve,d=a.reject,b=i(function(){var f=e(c.resolve),a=[],h=0,b=1,i=!1;j(l,function(e){var j=h++,l=!1;b++,g(f,c,e).then(function(a){l||i||(i=!0,n(a))},function(c){!l&&!i&&(l=!0,a[j]=c,--b||d(new m(a,k)))})}),--b||d(new m(a,k))});return b.error&&d(b.value),a.promise}})},(k,l,a)=>{"use strict";var d=a(9),e=a(39),b=a(108),f=a(13),g=a(27),h=a(25),m=a(113),n=a(124),i=a(50),j=!!b&&f(function(){b.prototype.finally.call({then:function(){}},function(){})});if(d({target:"Promise",proto:!0,real:!0,forced:j},{finally:function(a){var c=m(this,g("Promise")),b=h(a);return this.then(b?function(b){return n(c,a()).then(function(){return b})}:a,b?function(b){return n(c,a()).then(function(){throw b})}:a)}}),!e&&h(b)){var c=g("Promise").prototype.finally;b.prototype.finally!==c&&i(b.prototype,"finally",c,{unsafe:!0})}},(e,f,a)=>{"use strict";var g=a(133).charAt,h=a(103),b=a(52),c=a(78),d="String Iterator",i=b.set,j=b.getterFor(d);c(String,"String",function(a){i(this,{type:d,string:h(a),index:0})},function(){var a,b=j(this),c=b.string,d=b.index;return d>=c.length?{value:void 0,done:!0}:(a=g(c,d),b.index+=a.length,{value:a,done:!1})})},(d,e,a)=>{var b=a(19),f=a(63),g=a(103),h=a(21),i=b("".charAt),j=b("".charCodeAt),k=b("".slice),c=function(a){return function(m,n){var d,e,c=g(h(m)),b=f(n),l=c.length;return b<0||b>=l?a?"":void 0:(d=j(c,b))<55296||d>56319||b+1===l||(e=j(c,b+1))<56320||e>57343?a?i(c,b):d:a?k(c,b,b+2):(d-55296<<10)+(e-56320)+65536}};d.exports={codeAt:c(!1),charAt:c(!0)}},function(a,b){!function(c,a){a(b)}(this,function(b){"use strict";var q,d,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(a){return"Symbol("+a+")"};function t(){}function u(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:void 0}var A=u();function B(a){return"object"==typeof a&&null!==a||"function"==typeof a}var C=t,r=Promise,D=Promise.prototype.then,E=Promise.resolve.bind(r),F=Promise.reject.bind(r);function G(a){return new r(a)}function H(a){return E(a)}function I(a){return F(a)}function J(a,b,c){return D.call(a,b,c)}function K(a,b,c){J(J(a,b,c),void 0,C)}function L(a,b){K(a,b)}function M(a,b){K(a,void 0,b)}function N(a,b,c){return J(a,b,c)}function O(a){J(a,void 0,C)}var P=function(){var a=A&&A.queueMicrotask;if("function"==typeof a)return a;var b=H(void 0);return function(a){return J(b,a)}}();function Q(a,b,c){if("function"!=typeof a)throw TypeError("Argument is not a function");return Function.prototype.apply.call(a,b,c)}function R(a,b,c){try{return H(Q(a,b,c))}catch(d){return I(d)}}var S=16384,T=function(){function a(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(a.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),a.prototype.push=function(c){var a=this._back,b=a;a._elements.length===S-1&&(b={_elements:[],_next:void 0}),a._elements.push(c),b!==a&&(this._back=b,a._next=b),++this._size},a.prototype.shift=function(){var a=this._front,b=a,c=this._cursor,d=c+1,e=a._elements,f=e[c];return d===S&&(b=a._next,d=0),--this._size,this._cursor=d,a!==b&&(this._front=b),e[c]=void 0,f},a.prototype.forEach=function(d){for(var a=this._cursor,c=this._front,b=c._elements;(a!==b.length|| void 0!==c._next)&&(a!==b.length||(b=(c=c._next)._elements,a=0,0!==b.length));)d(b[a]),++a},a.prototype.peek=function(){var a=this._front,b=this._cursor;return a._elements[b]},a}();function U(a,b){a._ownerReadableStream=b,b._reader=a,"readable"===b._state?Y(a):"closed"===b._state?$(a):Z(a,b._storedError)}function V(a,b){return da(a._ownerReadableStream,b)}function W(a){"readable"===a._ownerReadableStream._state?_(a,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):aa(a,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),a._ownerReadableStream._reader=void 0,a._ownerReadableStream=void 0}function X(a){return TypeError("Cannot "+a+" a stream using a released reader")}function Y(a){a._closedPromise=G(function(b,c){a._closedPromise_resolve=b,a._closedPromise_reject=c})}function Z(a,b){Y(a),_(a,b)}function $(a){Y(a),ab(a)}function _(a,b){void 0!==a._closedPromise_reject&&(O(a._closedPromise),a._closedPromise_reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0)}function aa(a,b){Z(a,b)}function ab(a){void 0!==a._closedPromise_resolve&&(a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0)}var ac=a("[[AbortSteps]]"),ad=a("[[ErrorSteps]]"),ae=a("[[CancelSteps]]"),af=a("[[PullSteps]]"),ag=Number.isFinite||function(a){return"number"==typeof a&&isFinite(a)},ah=Math.trunc||function(a){return a<0?Math.ceil(a):Math.floor(a)};function ai(a){return"object"==typeof a||"function"==typeof a}function aj(a,b){if(void 0!==a&&!ai(a))throw TypeError(b+" is not an object.")}function ak(a,b){if("function"!=typeof a)throw TypeError(b+" is not a function.")}function al(a){return"object"==typeof a&&null!==a||"function"==typeof a}function am(a,b){if(!al(a))throw TypeError(b+" is not an object.")}function an(a,b,c){if(void 0===a)throw TypeError("Parameter "+b+" is required in '"+c+"'.")}function ao(a,b,c){if(void 0===a)throw TypeError(b+" is required in '"+c+"'.")}function ap(a){return Number(a)}function aq(a){return 0===a?0:a}function ar(a){return aq(ah(a))}function as(e,b){var c=0,d=Number.MAX_SAFE_INTEGER,a=Number(e);if(a=aq(a),!ag(a))throw TypeError(b+" is not a finite number");if((a=ar(a))<c||a>d)throw TypeError(b+" is outside the accepted range of "+c+" to "+d+", inclusive");return ag(a)&&0!==a?a:0}function at(a,b){if(!c8(a))throw TypeError(b+" is not a ReadableStream.")}function au(a){return new e(a)}function av(a,b){a._reader._readRequests.push(b)}function aw(b,c,d){var a=b._reader._readRequests.shift();d?a._closeSteps():a._chunkSteps(c)}function ax(a){return a._reader._readRequests.length}function ay(b){var a=b._reader;return!!(void 0!==a&&az(a))}var e=function(){function a(a){if(an(a,1,"ReadableStreamDefaultReader"),at(a,"First parameter"),c9(a))throw TypeError("This stream has already been locked for exclusive reading by another reader");U(this,a),this._readRequests=new T}return Object.defineProperty(a.prototype,"closed",{get:function(){return az(this)?this._closedPromise:I(aB("closed"))},enumerable:!1,configurable:!0}),a.prototype.cancel=function(a){return(void 0===a&&(a=void 0),az(this))?void 0===this._ownerReadableStream?I(X("cancel")):V(this,a):I(aB("cancel"))},a.prototype.read=function(){if(!az(this))return I(aB("read"));if(void 0===this._ownerReadableStream)return I(X("read from"));var c,d,a=G(function(a,b){c=a,d=b}),b={_chunkSteps:function(a){return c({value:a,done:!1})},_closeSteps:function(){return c({value:void 0,done:!0})},_errorSteps:function(a){return d(a)}};return aA(this,b),a},a.prototype.releaseLock=function(){if(!az(this))throw aB("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");W(this)}},a}();function az(a){return!!(B(a)&&Object.prototype.hasOwnProperty.call(a,"_readRequests"))&&a instanceof e}function aA(c,b){var a=c._ownerReadableStream;a._disturbed=!0,"closed"===a._state?b._closeSteps():"errored"===a._state?b._errorSteps(a._storedError):a._readableStreamController[af](b)}function aB(a){return TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}Object.defineProperties(e.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(e.prototype,a.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof a.asyncIterator&&Object.defineProperty(d=((q={})[a.asyncIterator]=function(){return this},q),a.asyncIterator,{enumerable:!1});var aC=function(){function a(a,b){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=a,this._preventCancel=b}return a.prototype.next=function(){var b=this,a=function(){return b._nextSteps()};return this._ongoingPromise=this._ongoingPromise?N(this._ongoingPromise,a,a):a(),this._ongoingPromise},a.prototype.return=function(b){var c=this,a=function(){return c._returnSteps(b)};return this._ongoingPromise?N(this._ongoingPromise,a,a):a()},a.prototype._nextSteps=function(){var d,e,f=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var a=this._reader;if(void 0===a._ownerReadableStream)return I(X("iterate"));var b=G(function(a,b){d=a,e=b}),c={_chunkSteps:function(a){f._ongoingPromise=void 0,P(function(){return d({value:a,done:!1})})},_closeSteps:function(){f._ongoingPromise=void 0,f._isFinished=!0,W(a),d({value:void 0,done:!0})},_errorSteps:function(b){f._ongoingPromise=void 0,f._isFinished=!0,W(a),e(b)}};return aA(a,c),b},a.prototype._returnSteps=function(b){if(this._isFinished)return Promise.resolve({value:b,done:!0});this._isFinished=!0;var a=this._reader;if(void 0===a._ownerReadableStream)return I(X("finish iterating"));if(!this._preventCancel){var c=V(a,b);return W(a),N(c,function(){return{value:b,done:!0}})}return W(a),H({value:b,done:!0})},a}(),v={next:function(){return aE(this)?this._asyncIteratorImpl.next():I(aF("next"))},return:function(a){return aE(this)?this._asyncIteratorImpl.return(a):I(aF("return"))}};function aD(b,c){var d=au(b),e=new aC(d,c),a=Object.create(v);return a._asyncIteratorImpl=e,a}function aE(a){if(!B(a)||!Object.prototype.hasOwnProperty.call(a,"_asyncIteratorImpl"))return!1;try{return a._asyncIteratorImpl instanceof aC}catch(b){return!1}}function aF(a){return TypeError("ReadableStreamAsyncIterator."+a+" can only be used on a ReadableSteamAsyncIterator")}void 0!==d&&Object.setPrototypeOf(v,d);var aG=Number.isNaN||function(a){return a!=a};function aH(a){return a.slice()}function aI(a,b,c,d,e){new Uint8Array(a).set(new Uint8Array(c,d,e),b)}function aJ(a){return a}function aK(a){return!1}function aL(a,b,c){if(a.slice)return a.slice(b,c);var d=c-b,e=new ArrayBuffer(d);return aI(e,0,a,b,d),e}function aM(a){return!("number"!=typeof a||aG(a))&&!(a<0)}function aN(a){var b=aL(a.buffer,a.byteOffset,a.byteOffset+a.byteLength);return new Uint8Array(b)}function aO(a){var b=a._queue.shift();return a._queueTotalSize-=b.size,a._queueTotalSize<0&&(a._queueTotalSize=0),b.value}function aP(b,c,a){if(!aM(a)||a===1/0)throw RangeError("Size must be a finite, non-NaN, non-negative number.");b._queue.push({value:c,size:a}),b._queueTotalSize+=a}function aQ(a){return a._queue.peek().value}function aR(a){a._queue=new T,a._queueTotalSize=0}var f=function(){function a(){throw TypeError("Illegal constructor")}return Object.defineProperty(a.prototype,"view",{get:function(){if(!aT(this))throw bj("view");return this._view},enumerable:!1,configurable:!0}),a.prototype.respond=function(a){if(!aT(this))throw bj("respond");if(an(a,1,"respond"),a=as(a,"First parameter"),void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");aK(this._view.buffer),be(this._associatedReadableByteStreamController,a)},a.prototype.respondWithNewView=function(a){if(!aT(this))throw bj("respondWithNewView");if(an(a,1,"respondWithNewView"),!ArrayBuffer.isView(a))throw TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");aK(a.buffer),bf(this._associatedReadableByteStreamController,a)},a}();Object.defineProperties(f.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(f.prototype,a.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var g=function(){function a(){throw TypeError("Illegal constructor")}return Object.defineProperty(a.prototype,"byobRequest",{get:function(){if(!aS(this))throw bk("byobRequest");return bc(this)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"desiredSize",{get:function(){if(!aS(this))throw bk("desiredSize");return bd(this)},enumerable:!1,configurable:!0}),a.prototype.close=function(){if(!aS(this))throw bk("close");if(this._closeRequested)throw TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableByteStream._state;if("readable"!==a)throw TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");a9(this)},a.prototype.enqueue=function(a){if(!aS(this))throw bk("enqueue");if(an(a,1,"enqueue"),!ArrayBuffer.isView(a))throw TypeError("chunk must be an array buffer view");if(0===a.byteLength)throw TypeError("chunk must have non-zero byteLength");if(0===a.buffer.byteLength)throw TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw TypeError("stream is closed or draining");var b=this._controlledReadableByteStream._state;if("readable"!==b)throw TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");ba(this,a)},a.prototype.error=function(a){if(void 0===a&&(a=void 0),!aS(this))throw bk("error");bb(this,a)},a.prototype[ae]=function(a){aV(this),aR(this);var b=this._cancelAlgorithm(a);return a8(this),b},a.prototype[af]=function(c){var e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var a=this._queue.shift();this._queueTotalSize-=a.byteLength,a_(this);var f=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);c._chunkSteps(f);return}var b=this._autoAllocateChunkSize;if(void 0!==b){var d=void 0;try{d=new ArrayBuffer(b)}catch(g){c._errorSteps(g);return}var h={buffer:d,bufferByteLength:b,byteOffset:0,byteLength:b,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(h)}av(e,c),aU(this)},a}();function aS(a){return!!(B(a)&&Object.prototype.hasOwnProperty.call(a,"_controlledReadableByteStream"))&&a instanceof g}function aT(a){return!!(B(a)&&Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController"))&&a instanceof f}function aU(a){if(a7(a)){if(a._pulling){a._pullAgain=!0;return}a._pulling=!0,K(a._pullAlgorithm(),function(){a._pulling=!1,a._pullAgain&&(a._pullAgain=!1,aU(a))},function(b){bb(a,b)})}}function aV(a){a0(a),a._pendingPullIntos=new T}function aW(a,c){var b=!1;"closed"===a._state&&(b=!0);var d=aX(c);"default"===c.readerType?aw(a,d,b):bn(a,d,b)}function aX(a){var b=a.bytesFilled,c=a.elementSize;return new a.viewConstructor(a.buffer,a.byteOffset,b/c)}function aY(a,c,d,b){a._queue.push({buffer:c,byteOffset:d,byteLength:b}),a._queueTotalSize+=b}function aZ(d,a){var f=a.elementSize,l=a.bytesFilled-a.bytesFilled%f,g=Math.min(d._queueTotalSize,a.byteLength-a.bytesFilled),h=a.bytesFilled+g,i=h-h%f,e=g,j=!1;i>l&&(e=i-a.bytesFilled,j=!0);for(var k=d._queue;e>0;){var c=k.peek(),b=Math.min(e,c.byteLength),m=a.byteOffset+a.bytesFilled;aI(a.buffer,m,c.buffer,c.byteOffset,b),c.byteLength===b?k.shift():(c.byteOffset+=b,c.byteLength-=b),d._queueTotalSize-=b,a$(d,b,a),e-=b}return j}function a$(c,a,b){b.bytesFilled+=a}function a_(a){0===a._queueTotalSize&&a._closeRequested?(a8(a),db(a._controlledReadableByteStream)):aU(a)}function a0(a){null!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=null,a._byobRequest=null)}function a1(a){for(;a._pendingPullIntos.length>0;){if(0===a._queueTotalSize)return;var b=a._pendingPullIntos.peek();aZ(a,b)&&(a6(a),aW(a._controlledReadableByteStream,b))}}function a2(a,b,d){var e=a._controlledReadableByteStream,f=1;b.constructor!==DataView&&(f=b.constructor.BYTES_PER_ELEMENT);var g=b.constructor,h=aJ(b.buffer),c={buffer:h,bufferByteLength:h.byteLength,byteOffset:b.byteOffset,byteLength:b.byteLength,bytesFilled:0,elementSize:f,viewConstructor:g,readerType:"byob"};if(a._pendingPullIntos.length>0){a._pendingPullIntos.push(c),bm(e,d);return}if("closed"===e._state){var j=new g(c.buffer,c.byteOffset,0);d._closeSteps(j);return}if(a._queueTotalSize>0){if(aZ(a,c)){var k=aX(c);a_(a),d._chunkSteps(k);return}if(a._closeRequested){var i=TypeError("Insufficient bytes to fill elements in the given buffer");bb(a,i),d._errorSteps(i);return}}a._pendingPullIntos.push(c),bm(e,d),aU(a)}function a3(b,d){var a=b._controlledReadableByteStream;if(bp(a))for(;bo(a)>0;){var c=a6(b);aW(a,c)}}function a4(b,f,a){if(a$(b,f,a),!(a.bytesFilled<a.elementSize)){a6(b);var c=a.bytesFilled%a.elementSize;if(c>0){var d=a.byteOffset+a.bytesFilled,e=aL(a.buffer,d-c,d);aY(b,e,0,e.byteLength)}a.bytesFilled-=c,aW(b._controlledReadableByteStream,a),a1(b)}}function a5(a,b){var c=a._pendingPullIntos.peek();a0(a);var d=a._controlledReadableByteStream._state;"closed"===d?a3(a):a4(a,b,c),aU(a)}function a6(a){return a._pendingPullIntos.shift()}function a7(b){var a=b._controlledReadableByteStream;return"readable"===a._state&&!b._closeRequested&&!!b._started&&(!!(ay(a)&&ax(a)>0||bp(a)&&bo(a)>0)||bd(b)>0)}function a8(a){a._pullAlgorithm=void 0,a._cancelAlgorithm=void 0}function a9(a){var b=a._controlledReadableByteStream;if(!a._closeRequested&&"readable"===b._state){if(a._queueTotalSize>0){a._closeRequested=!0;return}if(a._pendingPullIntos.length>0&&a._pendingPullIntos.peek().bytesFilled>0){var c=TypeError("Insufficient bytes to fill elements in the given buffer");throw bb(a,c),c}a8(a),db(b)}}function ba(a,f){var b=a._controlledReadableByteStream;if(!a._closeRequested&&"readable"===b._state){var h=f.buffer,c=f.byteOffset,d=f.byteLength,e=aJ(h);if(a._pendingPullIntos.length>0){var g=a._pendingPullIntos.peek();aK(g.buffer),g.buffer=aJ(g.buffer)}if(a0(a),ay(b)){if(0===ax(b))aY(a,e,c,d);else{a._pendingPullIntos.length>0&&a6(a);var i=new Uint8Array(e,c,d);aw(b,i,!1)}}else bp(b)?(aY(a,e,c,d),a1(a)):aY(a,e,c,d);aU(a)}}function bb(a,c){var b=a._controlledReadableByteStream;"readable"===b._state&&(aV(a),aR(a),a8(a),dc(b,c))}function bc(a){if(null===a._byobRequest&&a._pendingPullIntos.length>0){var b=a._pendingPullIntos.peek(),d=new Uint8Array(b.buffer,b.byteOffset+b.bytesFilled,b.byteLength-b.bytesFilled),c=Object.create(f.prototype);bi(c,a,d),a._byobRequest=c}return a._byobRequest}function bd(a){var b=a._controlledReadableByteStream._state;return"errored"===b?null:"closed"===b?0:a._strategyHWM-a._queueTotalSize}function be(c,a){var b=c._pendingPullIntos.peek();if("closed"===c._controlledReadableByteStream._state){if(0!==a)throw TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===a)throw TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(b.bytesFilled+a>b.byteLength)throw RangeError("bytesWritten out of range")}b.buffer=aJ(b.buffer),a5(c,a)}function bf(c,a){var b=c._pendingPullIntos.peek();if("closed"===c._controlledReadableByteStream._state){if(0!==a.byteLength)throw TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===a.byteLength)throw TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(b.byteOffset+b.bytesFilled!==a.byteOffset)throw RangeError("The region specified by view does not match byobRequest");if(b.bufferByteLength!==a.buffer.byteLength)throw RangeError("The buffer of view has different capacity than byobRequest");if(b.bytesFilled+a.byteLength>b.byteLength)throw RangeError("The region specified by view is larger than byobRequest");var d=a.byteLength;b.buffer=aJ(a.buffer),a5(c,d)}function bg(b,a,c,d,e,f,g){a._controlledReadableByteStream=b,a._pullAgain=!1,a._pulling=!1,a._byobRequest=null,a._queue=a._queueTotalSize=void 0,aR(a),a._closeRequested=!1,a._started=!1,a._strategyHWM=f,a._pullAlgorithm=d,a._cancelAlgorithm=e,a._autoAllocateChunkSize=g,a._pendingPullIntos=new T,b._readableStreamController=a,K(H(c()),function(){a._started=!0,aU(a)},function(b){bb(a,b)})}function bh(f,a,h){var i=Object.create(g.prototype),b=function(){},c=function(){return H(void 0)},d=function(){return H(void 0)};void 0!==a.start&&(b=function(){return a.start(i)}),void 0!==a.pull&&(c=function(){return a.pull(i)}),void 0!==a.cancel&&(d=function(b){return a.cancel(b)});var e=a.autoAllocateChunkSize;if(0===e)throw TypeError("autoAllocateChunkSize must be greater than 0");bg(f,i,b,c,d,h,e)}function bi(a,b,c){a._associatedReadableByteStreamController=b,a._view=c}function bj(a){return TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}function bk(a){return TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}function bl(a){return new h(a)}function bm(a,b){a._reader._readIntoRequests.push(b)}function bn(c,a,d){var b=c._reader._readIntoRequests.shift();d?b._closeSteps(a):b._chunkSteps(a)}function bo(a){return a._reader._readIntoRequests.length}function bp(b){var a=b._reader;return!!(void 0!==a&&bq(a))}Object.defineProperties(g.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(g.prototype,a.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var h=function(){function a(a){if(an(a,1,"ReadableStreamBYOBReader"),at(a,"First parameter"),c9(a))throw TypeError("This stream has already been locked for exclusive reading by another reader");if(!aS(a._readableStreamController))throw TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");U(this,a),this._readIntoRequests=new T}return Object.defineProperty(a.prototype,"closed",{get:function(){return bq(this)?this._closedPromise:I(bs("closed"))},enumerable:!1,configurable:!0}),a.prototype.cancel=function(a){return(void 0===a&&(a=void 0),bq(this))?void 0===this._ownerReadableStream?I(X("cancel")):V(this,a):I(bs("cancel"))},a.prototype.read=function(a){if(!bq(this))return I(bs("read"));if(!ArrayBuffer.isView(a))return I(TypeError("view must be an array buffer view"));if(0===a.byteLength)return I(TypeError("view must have non-zero byteLength"));if(0===a.buffer.byteLength)return I(TypeError("view's buffer must have non-zero byteLength"));if(aK(a.buffer),void 0===this._ownerReadableStream)return I(X("read from"));var d,e,b=G(function(a,b){d=a,e=b}),c={_chunkSteps:function(a){return d({value:a,done:!1})},_closeSteps:function(a){return d({value:a,done:!0})},_errorSteps:function(a){return e(a)}};return br(this,a,c),b},a.prototype.releaseLock=function(){if(!bq(this))throw bs("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");W(this)}},a}();function bq(a){return!!(B(a)&&Object.prototype.hasOwnProperty.call(a,"_readIntoRequests"))&&a instanceof h}function br(c,d,b){var a=c._ownerReadableStream;a._disturbed=!0,"errored"===a._state?b._errorSteps(a._storedError):a2(a._readableStreamController,d,b)}function bs(a){return TypeError("ReadableStreamBYOBReader.prototype."+a+" can only be used on a ReadableStreamBYOBReader")}function bt(b,c){var a=b.highWaterMark;if(void 0===a)return c;if(aG(a)||a<0)throw RangeError("Invalid highWaterMark");return a}function bu(a){var b=a.size;return b||function(){return 1}}function bv(a,b){aj(a,b);var c=null==a?void 0:a.highWaterMark,d=null==a?void 0:a.size;return{highWaterMark:void 0===c?void 0:ap(c),size:void 0===d?void 0:bw(d,b+" has member 'size' that")}}function bw(a,b){return ak(a,b),function(b){return ap(a(b))}}function bx(a,b){aj(a,b);var c=null==a?void 0:a.abort,d=null==a?void 0:a.close,e=null==a?void 0:a.start,g=null==a?void 0:a.type,f=null==a?void 0:a.write;return{abort:void 0===c?void 0:by(c,a,b+" has member 'abort' that"),close:void 0===d?void 0:bz(d,a,b+" has member 'close' that"),start:void 0===e?void 0:bA(e,a,b+" has member 'start' that"),write:void 0===f?void 0:bB(f,a,b+" has member 'write' that"),type:g}}function by(a,c,b){return ak(a,b),function(b){return R(a,c,[b])}}function bz(a,c,b){return ak(a,b),function(){return R(a,c,[])}}function bA(a,c,b){return ak(a,b),function(b){return Q(a,c,[b])}}function bB(a,c,b){return ak(a,b),function(b,d){return R(a,c,[b,d])}}function bC(a,b){if(!bJ(a))throw TypeError(b+" is not a WritableStream.")}function bD(a){if("object"!=typeof a||null===a)return!1;try{return"boolean"==typeof a.aborted}catch(b){return!1}}Object.defineProperties(h.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(h.prototype,a.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var bE="function"==typeof AbortController;function bF(){if(bE)return new AbortController}var i=function(){function a(a,b){void 0===a&&(a={}),void 0===b&&(b={}),void 0===a?a=null:am(a,"First parameter");var c=bv(b,"Second parameter"),d=bx(a,"First parameter");if(bI(this),void 0!==d.type)throw RangeError("Invalid type is specified");var e=bu(c),f=bt(c,1);cb(this,d,f,e)}return Object.defineProperty(a.prototype,"locked",{get:function(){if(!bJ(this))throw cn("locked");return bK(this)},enumerable:!1,configurable:!0}),a.prototype.abort=function(a){return(void 0===a&&(a=void 0),bJ(this))?bK(this)?I(TypeError("Cannot abort a stream that already has a writer")):bL(this,a):I(cn("abort"))},a.prototype.close=function(){return bJ(this)?bK(this)?I(TypeError("Cannot close a stream that already has a writer")):bV(this)?I(TypeError("Cannot close an already-closing stream")):bM(this):I(cn("close"))},a.prototype.getWriter=function(){if(!bJ(this))throw cn("getWriter");return bG(this)},a}();function bG(a){return new j(a)}function bH(d,e,f,g,a,b){void 0===a&&(a=1),void 0===b&&(b=function(){return 1});var c=Object.create(i.prototype);return bI(c),ca(c,Object.create(k.prototype),d,e,f,g,a,b),c}function bI(a){a._state="writable",a._storedError=void 0,a._writer=void 0,a._writableStreamController=void 0,a._writeRequests=new T,a._inFlightWriteRequest=void 0,a._closeRequest=void 0,a._inFlightCloseRequest=void 0,a._pendingAbortRequest=void 0,a._backpressure=!1}function bJ(a){return!!(B(a)&&Object.prototype.hasOwnProperty.call(a,"_writableStreamController"))&&a instanceof i}function bK(a){return void 0!==a._writer}function bL(a,b){if("closed"===a._state||"errored"===a._state)return H(void 0);a._writableStreamController._abortReason=b,null===(f=a._writableStreamController._abortController)|| void 0===f||f.abort();var f,c=a._state;if("closed"===c||"errored"===c)return H(void 0);if(void 0!==a._pendingAbortRequest)return a._pendingAbortRequest._promise;var d=!1;"erroring"===c&&(d=!0,b=void 0);var e=G(function(c,e){a._pendingAbortRequest={_promise:void 0,_resolve:c,_reject:e,_reason:b,_wasAlreadyErroring:d}});return a._pendingAbortRequest._promise=e,d||bP(a,b),e}function bM(a){var b=a._state;if("closed"===b||"errored"===b)return I(TypeError("The stream (in "+b+" state) is not in the writable state and cannot be closed"));var d=G(function(b,c){var d={_resolve:b,_reject:c};a._closeRequest=d}),c=a._writer;return void 0!==c&&a._backpressure&&"writable"===b&&cD(c),cd(a._writableStreamController),d}function bN(a){return G(function(b,c){var d={_resolve:b,_reject:c};a._writeRequests.push(d)})}function bO(a,b){if("writable"===a._state){bP(a,b);return}bQ(a)}function bP(a,b){var d=a._writableStreamController;a._state="erroring",a._storedError=b;var c=a._writer;void 0!==c&&b4(c,b),!bW(a)&&d._started&&bQ(a)}function bQ(a){a._state="errored",a._writableStreamController[ad]();var c=a._storedError;if(a._writeRequests.forEach(function(a){a._reject(c)}),a._writeRequests=new T,void 0===a._pendingAbortRequest){bZ(a);return}var b=a._pendingAbortRequest;if(a._pendingAbortRequest=void 0,b._wasAlreadyErroring){b._reject(c),bZ(a);return}K(a._writableStreamController[ac](b._reason),function(){b._resolve(),bZ(a)},function(c){b._reject(c),bZ(a)})}function bR(a){a._inFlightWriteRequest._resolve(void 0),a._inFlightWriteRequest=void 0}function bS(a,b){a._inFlightWriteRequest._reject(b),a._inFlightWriteRequest=void 0,bO(a,b)}function bT(a){a._inFlightCloseRequest._resolve(void 0),a._inFlightCloseRequest=void 0,"erroring"===a._state&&(a._storedError=void 0,void 0!==a._pendingAbortRequest&&(a._pendingAbortRequest._resolve(),a._pendingAbortRequest=void 0)),a._state="closed";var b=a._writer;void 0!==b&&cw(b)}function bU(a,b){a._inFlightCloseRequest._reject(b),a._inFlightCloseRequest=void 0,void 0!==a._pendingAbortRequest&&(a._pendingAbortRequest._reject(b),a._pendingAbortRequest=void 0),bO(a,b)}function bV(a){return void 0!==a._closeRequest|| void 0!==a._inFlightCloseRequest}function bW(a){return void 0!==a._inFlightWriteRequest|| void 0!==a._inFlightCloseRequest}function bX(a){a._inFlightCloseRequest=a._closeRequest,a._closeRequest=void 0}function bY(a){a._inFlightWriteRequest=a._writeRequests.shift()}function bZ(a){void 0!==a._closeRequest&&(a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var b=a._writer;void 0!==b&&cu(b,a._storedError)}function b$(a,b){var c=a._writer;void 0!==c&&b!==a._backpressure&&(b?cB(c):cD(c)),a._backpressure=b}Object.defineProperties(i.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(i.prototype,a.toStringTag,{value:"WritableStream",configurable:!0});var j=function(){function a(a){if(an(a,1,"WritableStreamDefaultWriter"),bC(a,"First parameter"),bK(a))throw TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=a,a._writer=this;var b=a._state;if("writable"===b)!bV(a)&&a._backpressure?cx(this):cz(this),cr(this);else if("erroring"===b)cy(this,a._storedError),cr(this);else if("closed"===b)cz(this),ct(this);else{var c=a._storedError;cy(this,c),cs(this,c)}}return Object.defineProperty(a.prototype,"closed",{get:function(){return b_(this)?this._closedPromise:I(cp("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"desiredSize",{get:function(){if(!b_(this))throw cp("desiredSize");if(void 0===this._ownerWritableStream)throw cq("desiredSize");return b5(this)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ready",{get:function(){return b_(this)?this._readyPromise:I(cp("ready"))},enumerable:!1,configurable:!0}),a.prototype.abort=function(a){return(void 0===a&&(a=void 0),b_(this))?void 0===this._ownerWritableStream?I(cq("abort")):b0(this,a):I(cp("abort"))},a.prototype.close=function(){if(!b_(this))return I(cp("close"));var a=this._ownerWritableStream;return void 0===a?I(cq("close")):bV(a)?I(TypeError("Cannot close an already-closing stream")):b1(this)},a.prototype.releaseLock=function(){if(!b_(this))throw cp("releaseLock");void 0!==this._ownerWritableStream&&b6(this)},a.prototype.write=function(a){return(void 0===a&&(a=void 0),b_(this))?void 0===this._ownerWritableStream?I(cq("write to")):b7(this,a):I(cp("write"))},a}();function b_(a){return!!(B(a)&&Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream"))&&a instanceof j}function b0(a,b){return bL(a._ownerWritableStream,b)}function b1(a){return bM(a._ownerWritableStream)}function b2(b){var a=b._ownerWritableStream,c=a._state;return bV(a)||"closed"===c?H(void 0):"errored"===c?I(a._storedError):b1(b)}function b3(a,b){"pending"===a._closedPromiseState?cu(a,b):cv(a,b)}function b4(a,b){"pending"===a._readyPromiseState?cA(a,b):cC(a,b)}function b5(c){var b=c._ownerWritableStream,a=b._state;return"errored"===a||"erroring"===a?null:"closed"===a?0:cf(b._writableStreamController)}function b6(a){var c=a._ownerWritableStream,b=TypeError("Writer was released and can no longer be used to monitor the stream's closedness");b4(a,b),b3(a,b),c._writer=void 0,a._ownerWritableStream=void 0}function b7(c,d){var a=c._ownerWritableStream,e=a._writableStreamController,f=ce(e,d);if(a!==c._ownerWritableStream)return I(cq("write to"));var b=a._state;if("errored"===b)return I(a._storedError);if(bV(a)||"closed"===b)return I(TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===b)return I(a._storedError);var g=bN(a);return cg(e,d,f),g}Object.defineProperties(j.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(j.prototype,a.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var b8={},k=function(){function a(){throw TypeError("Illegal constructor")}return Object.defineProperty(a.prototype,"abortReason",{get:function(){if(!b9(this))throw co("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"signal",{get:function(){if(!b9(this))throw co("signal");if(void 0===this._abortController)throw TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),a.prototype.error=function(a){if(void 0===a&&(a=void 0),!b9(this))throw co("error");"writable"===this._controlledWritableStream._state&&cm(this,a)},a.prototype[ac]=function(a){var b=this._abortAlgorithm(a);return cc(this),b},a.prototype[ad]=function(){aR(this)},a}();function b9(a){return!!(B(a)&&Object.prototype.hasOwnProperty.call(a,"_controlledWritableStream"))&&a instanceof k}function ca(b,a,c,d,e,f,g,h){a._controlledWritableStream=b,b._writableStreamController=a,a._queue=void 0,a._queueTotalSize=void 0,aR(a),a._abortReason=void 0,a._abortController=bF(),a._started=!1,a._strategySizeAlgorithm=h,a._strategyHWM=g,a._writeAlgorithm=d,a._closeAlgorithm=e,a._abortAlgorithm=f,b$(b,cl(a));var i=c(),j=H(i);K(j,function(){a._started=!0,ch(a)},function(c){a._started=!0,bO(b,c)})}function cb(f,a,g,h){var i=Object.create(k.prototype),b=function(){},c=function(){return H(void 0)},d=function(){return H(void 0)},e=function(){return H(void 0)};void 0!==a.start&&(b=function(){return a.start(i)}),void 0!==a.write&&(c=function(b){return a.write(b,i)}),void 0!==a.close&&(d=function(){return a.close()}),void 0!==a.abort&&(e=function(b){return a.abort(b)}),ca(f,i,b,c,d,e,g,h)}function cc(a){a._writeAlgorithm=void 0,a._closeAlgorithm=void 0,a._abortAlgorithm=void 0,a._strategySizeAlgorithm=void 0}function cd(a){aP(a,b8,0),ch(a)}function ce(a,b){try{return a._strategySizeAlgorithm(b)}catch(c){return ci(a,c),1}}function cf(a){return a._strategyHWM-a._queueTotalSize}function cg(a,c,d){try{aP(a,c,d)}catch(e){ci(a,e);return}var b=a._controlledWritableStream;if(!bV(b)&&"writable"===b._state){var f=cl(a);b$(b,f)}ch(a)}function ch(a){var b=a._controlledWritableStream;if(a._started&& void 0===b._inFlightWriteRequest){if("erroring"===b._state){bQ(b);return}if(0!==a._queue.length){var c=aQ(a);c===b8?cj(a):ck(a,c)}}}function ci(a,b){"writable"===a._controlledWritableStream._state&&cm(a,b)}function cj(a){var b=a._controlledWritableStream;bX(b),aO(a);var c=a._closeAlgorithm();cc(a),K(c,function(){bT(b)},function(a){bU(b,a)})}function ck(a,b){var c=a._controlledWritableStream;bY(c),K(a._writeAlgorithm(b),function(){bR(c);var b=c._state;if(aO(a),!bV(c)&&"writable"===b){var d=cl(a);b$(c,d)}ch(a)},function(b){"writable"===c._state&&cc(a),bS(c,b)})}function cl(a){return 0>=cf(a)}function cm(a,b){var c=a._controlledWritableStream;cc(a),bP(c,b)}function cn(a){return TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}function co(a){return TypeError("WritableStreamDefaultController.prototype."+a+" can only be used on a WritableStreamDefaultController")}function cp(a){return TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter")}function cq(a){return TypeError("Cannot "+a+" a stream using a released writer")}function cr(a){a._closedPromise=G(function(b,c){a._closedPromise_resolve=b,a._closedPromise_reject=c,a._closedPromiseState="pending"})}function cs(a,b){cr(a),cu(a,b)}function ct(a){cr(a),cw(a)}function cu(a,b){void 0!==a._closedPromise_reject&&(O(a._closedPromise),a._closedPromise_reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="rejected")}function cv(a,b){cs(a,b)}function cw(a){void 0!==a._closedPromise_resolve&&(a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved")}function cx(a){a._readyPromise=G(function(b,c){a._readyPromise_resolve=b,a._readyPromise_reject=c}),a._readyPromiseState="pending"}function cy(a,b){cx(a),cA(a,b)}function cz(a){cx(a),cD(a)}function cA(a,b){void 0!==a._readyPromise_reject&&(O(a._readyPromise),a._readyPromise_reject(b),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="rejected")}function cB(a){cx(a)}function cC(a,b){cy(a,b)}function cD(a){void 0!==a._readyPromise_resolve&&(a._readyPromise_resolve(void 0),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="fulfilled")}Object.defineProperties(k.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(k.prototype,a.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var s="undefined"!=typeof DOMException?DOMException:void 0;function w(a){if(!("function"==typeof a||"object"==typeof a))return!1;try{return new a,!0}catch(b){return!1}}function x(){var a=function(a,b){this.message=a||"",this.name=b||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return a.prototype=Object.create(Error.prototype),Object.defineProperty(a.prototype,"constructor",{value:a,writable:!0,configurable:!0}),a}var cE=w(s)?s:x();function cF(a,b,c,d,e,f){var g=au(a),h=bG(b);a._disturbed=!0;var i=!1,j=H(void 0);return G(function(n,o){var k;if(void 0!==f){if(k=function(){var f=new cE("Aborted","AbortError"),c=[];d||c.push(function(){return"writable"===b._state?bL(b,f):H(void 0)}),e||c.push(function(){return"readable"===a._state?da(a,f):H(void 0)}),u(function(){return Promise.all(c.map(function(a){return a()}))},!0,f)},f.aborted){k();return}f.addEventListener("abort",k)}function m(){return G(function(b,c){function a(d){d?b():J(p(),a,c)}a(!1)})}function p(){return i?H(!0):J(h._readyPromise,function(){return G(function(b,a){aA(g,{_chunkSteps:function(a){j=J(b7(h,a),void 0,t),b(!1)},_closeSteps:function(){return b(!0)},_errorSteps:a})})})}if(r(a,g._closedPromise,function(a){d?v(!0,a):u(function(){return bL(b,a)},!0,a)}),r(b,h._closedPromise,function(b){e?v(!0,b):u(function(){return da(a,b)},!0,b)}),s(a,g._closedPromise,function(){c?v():u(function(){return b2(h)})}),bV(b)||"closed"===b._state){var l=TypeError("the destination writable stream closed before all data could be piped to it");e?v(!0,l):u(function(){return da(a,l)},!0,l)}function q(){var a=j;return J(j,function(){return a!==j?q():void 0})}function r(a,c,b){"errored"===a._state?b(a._storedError):M(c,b)}function s(b,c,a){"closed"===b._state?a():L(c,a)}function u(a,c,d){!i&&(i=!0,"writable"!==b._state||bV(b)?e():L(q(),e));function e(){K(a(),function(){return w(c,d)},function(a){return w(!0,a)})}}function v(a,c){!i&&(i=!0,"writable"!==b._state||bV(b)?w(a,c):L(q(),function(){return w(a,c)}))}function w(a,b){b6(h),W(g),void 0!==f&&f.removeEventListener("abort",k),a?o(b):n(void 0)}O(m())})}var l=function(){function a(){throw TypeError("Illegal constructor")}return Object.defineProperty(a.prototype,"desiredSize",{get:function(){if(!cG(this))throw cS("desiredSize");return cN(this)},enumerable:!1,configurable:!0}),a.prototype.close=function(){if(!cG(this))throw cS("close");if(!cP(this))throw TypeError("The stream is not in a state that permits close");cK(this)},a.prototype.enqueue=function(a){if(void 0===a&&(a=void 0),!cG(this))throw cS("enqueue");if(!cP(this))throw TypeError("The stream is not in a state that permits enqueue");return cL(this,a)},a.prototype.error=function(a){if(void 0===a&&(a=void 0),!cG(this))throw cS("error");cM(this,a)},a.prototype[ae]=function(a){aR(this);var b=this._cancelAlgorithm(a);return cJ(this),b},a.prototype[af]=function(a){var b=this._controlledReadableStream;if(this._queue.length>0){var c=aO(this);this._closeRequested&&0===this._queue.length?(cJ(this),db(b)):cH(this),a._chunkSteps(c)}else av(b,a),cH(this)},a}();function cG(a){return!!(B(a)&&Object.prototype.hasOwnProperty.call(a,"_controlledReadableStream"))&&a instanceof l}function cH(a){if(cI(a)){if(a._pulling){a._pullAgain=!0;return}a._pulling=!0,K(a._pullAlgorithm(),function(){a._pulling=!1,a._pullAgain&&(a._pullAgain=!1,cH(a))},function(b){cM(a,b)})}}function cI(a){var b=a._controlledReadableStream;return!!cP(a)&&!!a._started&&(!!(c9(b)&&ax(b)>0)||cN(a)>0)}function cJ(a){a._pullAlgorithm=void 0,a._cancelAlgorithm=void 0,a._strategySizeAlgorithm=void 0}function cK(a){if(cP(a)){var b=a._controlledReadableStream;a._closeRequested=!0,0===a._queue.length&&(cJ(a),db(b))}}function cL(a,b){if(cP(a)){var c=a._controlledReadableStream;if(c9(c)&&ax(c)>0)aw(c,b,!1);else{var d=void 0;try{d=a._strategySizeAlgorithm(b)}catch(e){throw cM(a,e),e}try{aP(a,b,d)}catch(f){throw cM(a,f),f}}cH(a)}}function cM(a,c){var b=a._controlledReadableStream;"readable"===b._state&&(aR(a),cJ(a),dc(b,c))}function cN(a){var b=a._controlledReadableStream._state;return"errored"===b?null:"closed"===b?0:a._strategyHWM-a._queueTotalSize}function cO(a){return!cI(a)}function cP(a){var b=a._controlledReadableStream._state;return!a._closeRequested&&"readable"===b}function cQ(b,a,c,d,e,f,g){a._controlledReadableStream=b,a._queue=void 0,a._queueTotalSize=void 0,aR(a),a._started=!1,a._closeRequested=!1,a._pullAgain=!1,a._pulling=!1,a._strategySizeAlgorithm=g,a._strategyHWM=f,a._pullAlgorithm=d,a._cancelAlgorithm=e,b._readableStreamController=a,K(H(c()),function(){a._started=!0,cH(a)},function(b){cM(a,b)})}function cR(e,a,f,g){var h=Object.create(l.prototype),b=function(){},c=function(){return H(void 0)},d=function(){return H(void 0)};void 0!==a.start&&(b=function(){return a.start(h)}),void 0!==a.pull&&(c=function(){return a.pull(h)}),void 0!==a.cancel&&(d=function(b){return a.cancel(b)}),cQ(e,h,b,c,d,f,g)}function cS(a){return TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function cT(a,b){return aS(a._readableStreamController)?cV(a):cU(a)}function cU(e,i){var j,k,a,b,l,f=au(e),m=!1,n=!1,o=!1,p=!1,q=G(function(a){l=a});function c(){if(m)return n=!0,H(void 0);m=!0;var d={_chunkSteps:function(d){P(function(){n=!1;var e=d,f=d;o||cL(a._readableStreamController,e),p||cL(b._readableStreamController,f),m=!1,n&&c()})},_closeSteps:function(){m=!1,o||cK(a._readableStreamController),p||cK(b._readableStreamController),o&&p||l(void 0)},_errorSteps:function(){m=!1}};return aA(f,d),H(void 0)}function g(a){if(o=!0,j=a,p){var b=aH([j,k]),c=da(e,b);l(c)}return q}function h(a){if(p=!0,k=a,o){var b=aH([j,k]),c=da(e,b);l(c)}return q}function d(){}return a=c5(d,c,g),b=c5(d,c,h),M(f._closedPromise,function(c){cM(a._readableStreamController,c),cM(b._readableStreamController,c),o&&p||l(void 0)}),[a,b]}function cV(d){var k,l,a,b,m,e=au(d),n=!1,o=!1,p=!1,q=!1,r=!1,s=G(function(a){m=a});function f(c){M(c._closedPromise,function(d){c===e&&(bb(a._readableStreamController,d),bb(b._readableStreamController,d),q&&r||m(void 0))})}function t(){bq(e)&&(W(e),e=au(d),f(e));var c={_chunkSteps:function(c){P(function(){o=!1,p=!1;var i=c,f=c;if(!q&&!r)try{f=aN(c)}catch(e){bb(a._readableStreamController,e),bb(b._readableStreamController,e),m(da(d,e));return}q||ba(a._readableStreamController,i),r||ba(b._readableStreamController,f),n=!1,o?g():p&&h()})},_closeSteps:function(){n=!1,q||a9(a._readableStreamController),r||a9(b._readableStreamController),a._readableStreamController._pendingPullIntos.length>0&&be(a._readableStreamController,0),b._readableStreamController._pendingPullIntos.length>0&&be(b._readableStreamController,0),q&&r||m(void 0)},_errorSteps:function(){n=!1}};aA(e,c)}function u(i,c){az(e)&&(W(e),e=bl(d),f(e));var k=c?b:a,l=c?a:b,j={_chunkSteps:function(a){P(function(){o=!1,p=!1;var e=c?r:q;if(c?q:r)e||bf(k._readableStreamController,a);else{var f=void 0;try{f=aN(a)}catch(b){bb(k._readableStreamController,b),bb(l._readableStreamController,b),m(da(d,b));return}e||bf(k._readableStreamController,a),ba(l._readableStreamController,f)}n=!1,o?g():p&&h()})},_closeSteps:function(d){n=!1;var a=c?r:q,b=c?q:r;a||a9(k._readableStreamController),b||a9(l._readableStreamController),void 0!==d&&(a||bf(k._readableStreamController,d),!b&&l._readableStreamController._pendingPullIntos.length>0&&be(l._readableStreamController,0)),a&&b||m(void 0)},_errorSteps:function(){n=!1}};br(e,i,j)}function g(){if(n)return o=!0,H(void 0);n=!0;var b=bc(a._readableStreamController);return null===b?t():u(b._view,!1),H(void 0)}function h(){if(n)return p=!0,H(void 0);n=!0;var a=bc(b._readableStreamController);return null===a?t():u(a._view,!0),H(void 0)}function i(a){if(q=!0,k=a,r){var b=aH([k,l]),c=da(d,b);m(c)}return s}function j(a){if(r=!0,l=a,q){var b=aH([k,l]),c=da(d,b);m(c)}return s}function c(){}return a=c6(c,g,i),b=c6(c,h,j),f(e),[a,b]}function cW(c,b){aj(c,b);var a=c,d=null==a?void 0:a.autoAllocateChunkSize,e=null==a?void 0:a.cancel,f=null==a?void 0:a.pull,g=null==a?void 0:a.start,h=null==a?void 0:a.type;return{autoAllocateChunkSize:void 0===d?void 0:as(d,b+" has member 'autoAllocateChunkSize' that"),cancel:void 0===e?void 0:cX(e,a,b+" has member 'cancel' that"),pull:void 0===f?void 0:cY(f,a,b+" has member 'pull' that"),start:void 0===g?void 0:cZ(g,a,b+" has member 'start' that"),type:void 0===h?void 0:c$(h,b+" has member 'type' that")}}function cX(a,c,b){return ak(a,b),function(b){return R(a,c,[b])}}function cY(a,c,b){return ak(a,b),function(b){return R(a,c,[b])}}function cZ(a,c,b){return ak(a,b),function(b){return Q(a,c,[b])}}function c$(a,b){if("bytes"!=(a=""+a))throw TypeError(b+" '"+a+"' is not a valid enumeration value for ReadableStreamType");return a}function c_(a,b){aj(a,b);var c=null==a?void 0:a.mode;return{mode:void 0===c?void 0:c0(c,b+" has member 'mode' that")}}function c0(a,b){if("byob"!=(a=""+a))throw TypeError(b+" '"+a+"' is not a valid enumeration value for ReadableStreamReaderMode");return a}function c1(a,b){return aj(a,b),{preventCancel:Boolean(null==a?void 0:a.preventCancel)}}function c2(a,c){aj(a,c);var d=null==a?void 0:a.preventAbort,e=null==a?void 0:a.preventCancel,f=null==a?void 0:a.preventClose,b=null==a?void 0:a.signal;return void 0!==b&&c3(b,c+" has member 'signal' that"),{preventAbort:Boolean(d),preventCancel:Boolean(e),preventClose:Boolean(f),signal:b}}function c3(a,b){if(!bD(a))throw TypeError(b+" is not an AbortSignal.")}function c4(a,b){aj(a,b);var c=null==a?void 0:a.readable;ao(c,"readable","ReadableWritablePair"),at(c,b+" has member 'readable' that");var d=null==a?void 0:a.writable;return ao(d,"writable","ReadableWritablePair"),bC(d,b+" has member 'writable' that"),{readable:c,writable:d}}Object.defineProperties(l.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(l.prototype,a.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var c=function(){function a(a,c){void 0===a&&(a={}),void 0===c&&(c={}),void 0===a?a=null:am(a,"First parameter");var b=bv(c,"Second parameter"),d=cW(a,"First parameter");if(c7(this),"bytes"===d.type){if(void 0!==b.size)throw RangeError("The strategy for a byte stream cannot have a size function");var e=bt(b,0);bh(this,d,e)}else{var f=bu(b),e=bt(b,1);cR(this,d,e,f)}}return Object.defineProperty(a.prototype,"locked",{get:function(){if(!c8(this))throw dd("locked");return c9(this)},enumerable:!1,configurable:!0}),a.prototype.cancel=function(a){return(void 0===a&&(a=void 0),c8(this))?c9(this)?I(TypeError("Cannot cancel a stream that already has a reader")):da(this,a):I(dd("cancel"))},a.prototype.getReader=function(a){if(void 0===a&&(a=void 0),!c8(this))throw dd("getReader");return void 0===c_(a,"First parameter").mode?au(this):bl(this)},a.prototype.pipeThrough=function(d,b){if(void 0===b&&(b={}),!c8(this))throw dd("pipeThrough");an(d,1,"pipeThrough");var c=c4(d,"First parameter"),a=c2(b,"Second parameter");if(c9(this))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(bK(c.writable))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var e=cF(this,c.writable,a.preventClose,a.preventAbort,a.preventCancel,a.signal);return O(e),c.readable},a.prototype.pipeTo=function(b,c){var a;if(void 0===c&&(c={}),!c8(this))return I(dd("pipeTo"));if(void 0===b)return I("Parameter 1 is required in 'pipeTo'.");if(!bJ(b))return I(TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));try{a=c2(c,"Second parameter")}catch(d){return I(d)}return c9(this)?I(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):bK(b)?I(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):cF(this,b,a.preventClose,a.preventAbort,a.preventCancel,a.signal)},a.prototype.tee=function(){if(!c8(this))throw dd("tee");var a=cT(this);return aH(a)},a.prototype.values=function(a){if(void 0===a&&(a=void 0),!c8(this))throw dd("values");var b=c1(a,"First parameter");return aD(this,b.preventCancel)},a}();function c5(e,f,g,a,b){void 0===a&&(a=1),void 0===b&&(b=function(){return 1});var d=Object.create(c.prototype);return c7(d),cQ(d,Object.create(l.prototype),e,f,g,a,b),d}function c6(b,d,e){var a=Object.create(c.prototype);return c7(a),bg(a,Object.create(g.prototype),b,d,e,0,void 0),a}function c7(a){a._state="readable",a._reader=void 0,a._storedError=void 0,a._disturbed=!1}function c8(a){return!!(B(a)&&Object.prototype.hasOwnProperty.call(a,"_readableStreamController"))&&a instanceof c}function c9(a){return void 0!==a._reader}function da(a,c){if(a._disturbed=!0,"closed"===a._state)return H(void 0);if("errored"===a._state)return I(a._storedError);db(a);var b=a._reader;void 0!==b&&bq(b)&&(b._readIntoRequests.forEach(function(a){a._closeSteps(void 0)}),b._readIntoRequests=new T);var d=a._readableStreamController[ae](c);return N(d,t)}function db(b){b._state="closed";var a=b._reader;void 0!==a&&(ab(a),az(a)&&(a._readRequests.forEach(function(a){a._closeSteps()}),a._readRequests=new T))}function dc(b,c){b._state="errored",b._storedError=c;var a=b._reader;void 0!==a&&(_(a,c),az(a)?(a._readRequests.forEach(function(a){a._errorSteps(c)}),a._readRequests=new T):(a._readIntoRequests.forEach(function(a){a._errorSteps(c)}),a._readIntoRequests=new T))}function dd(a){return TypeError("ReadableStream.prototype."+a+" can only be used on a ReadableStream")}function de(a,c){aj(a,c);var b=null==a?void 0:a.highWaterMark;return ao(b,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ap(b)}}Object.defineProperties(c.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(c.prototype,a.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof a.asyncIterator&&Object.defineProperty(c.prototype,a.asyncIterator,{value:c.prototype.values,writable:!0,configurable:!0});var y=function(a){return a.byteLength};Object.defineProperty(y,"name",{value:"size",configurable:!0});var m=function(){function a(a){an(a,1,"ByteLengthQueuingStrategy"),a=de(a,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=a.highWaterMark}return Object.defineProperty(a.prototype,"highWaterMark",{get:function(){if(!dg(this))throw df("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){if(!dg(this))throw df("size");return y},enumerable:!1,configurable:!0}),a}();function df(a){return TypeError("ByteLengthQueuingStrategy.prototype."+a+" can only be used on a ByteLengthQueuingStrategy")}function dg(a){return!!(B(a)&&Object.prototype.hasOwnProperty.call(a,"_byteLengthQueuingStrategyHighWaterMark"))&&a instanceof m}Object.defineProperties(m.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(m.prototype,a.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var z=function(){return 1};Object.defineProperty(z,"name",{value:"size",configurable:!0});var n=function(){function a(a){an(a,1,"CountQueuingStrategy"),a=de(a,"First parameter"),this._countQueuingStrategyHighWaterMark=a.highWaterMark}return Object.defineProperty(a.prototype,"highWaterMark",{get:function(){if(!di(this))throw dh("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){if(!di(this))throw dh("size");return z},enumerable:!1,configurable:!0}),a}();function dh(a){return TypeError("CountQueuingStrategy.prototype."+a+" can only be used on a CountQueuingStrategy")}function di(a){return!!(B(a)&&Object.prototype.hasOwnProperty.call(a,"_countQueuingStrategyHighWaterMark"))&&a instanceof n}function dj(a,b){aj(a,b);var c=null==a?void 0:a.flush,f=null==a?void 0:a.readableType,d=null==a?void 0:a.start,e=null==a?void 0:a.transform,g=null==a?void 0:a.writableType;return{flush:void 0===c?void 0:dk(c,a,b+" has member 'flush' that"),readableType:f,start:void 0===d?void 0:dl(d,a,b+" has member 'start' that"),transform:void 0===e?void 0:dm(e,a,b+" has member 'transform' that"),writableType:g}}function dk(a,c,b){return ak(a,b),function(b){return R(a,c,[b])}}function dl(a,c,b){return ak(a,b),function(b){return Q(a,c,[b])}}function dm(a,c,b){return ak(a,b),function(b,d){return R(a,c,[b,d])}}Object.defineProperties(n.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(n.prototype,a.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var o=function(){function a(a,c,d){void 0===a&&(a={}),void 0===c&&(c={}),void 0===d&&(d={}),void 0===a&&(a=null);var e,f=bv(c,"Second parameter"),g=bv(d,"Third parameter"),b=dj(a,"First parameter");if(void 0!==b.readableType)throw RangeError("Invalid readableType specified");if(void 0!==b.writableType)throw RangeError("Invalid writableType specified");var h=bt(g,0),i=bu(g),j=bt(f,1),k=bu(f),l=G(function(a){e=a});dn(this,l,j,k,h,i),dv(this,b),void 0!==b.start?e(b.start(this._transformStreamController)):e(void 0)}return Object.defineProperty(a.prototype,"readable",{get:function(){if(!dp(this))throw dG("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"writable",{get:function(){if(!dp(this))throw dG("writable");return this._writable},enumerable:!1,configurable:!0}),a}();function dn(a,l,c,d,e,f){function b(){return l}function g(b){return dB(a,b)}function h(b){return dC(a,b)}function i(){return dD(a)}function j(){return dE(a)}function k(b){return dr(a,b),H(void 0)}a._writable=bH(b,g,i,h,c,d),a._readable=c5(b,j,k,e,f),a._backpressure=void 0,a._backpressureChangePromise=void 0,a._backpressureChangePromise_resolve=void 0,ds(a,!0),a._transformStreamController=void 0}function dp(a){return!!(B(a)&&Object.prototype.hasOwnProperty.call(a,"_transformStreamController"))&&a instanceof o}function dq(a,b){cM(a._readable._readableStreamController,b),dr(a,b)}function dr(a,b){dw(a._transformStreamController),ci(a._writable._writableStreamController,b),a._backpressure&&ds(a,!1)}function ds(a,b){void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(),a._backpressureChangePromise=G(function(b){a._backpressureChangePromise_resolve=b}),a._backpressure=b}Object.defineProperties(o.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(o.prototype,a.toStringTag,{value:"TransformStream",configurable:!0});var p=function(){function a(){throw TypeError("Illegal constructor")}return Object.defineProperty(a.prototype,"desiredSize",{get:function(){if(!dt(this))throw dF("desiredSize");return cN(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),a.prototype.enqueue=function(a){if(void 0===a&&(a=void 0),!dt(this))throw dF("enqueue");dx(this,a)},a.prototype.error=function(a){if(void 0===a&&(a=void 0),!dt(this))throw dF("error");dy(this,a)},a.prototype.terminate=function(){if(!dt(this))throw dF("terminate");dA(this)},a}();function dt(a){return!!(B(a)&&Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream"))&&a instanceof p}function du(b,a,c,d){a._controlledTransformStream=b,b._transformStreamController=a,a._transformAlgorithm=c,a._flushAlgorithm=d}function dv(d,a){var e=Object.create(p.prototype),b=function(a){try{return dx(e,a),H(void 0)}catch(b){return I(b)}},c=function(){return H(void 0)};void 0!==a.transform&&(b=function(b){return a.transform(b,e)}),void 0!==a.flush&&(c=function(){return a.flush(e)}),du(d,e,b,c)}function dw(a){a._transformAlgorithm=void 0,a._flushAlgorithm=void 0}function dx(c,d){var a=c._controlledTransformStream,b=a._readable._readableStreamController;if(!cP(b))throw TypeError("Readable side is not in a state that permits enqueue");try{cL(b,d)}catch(e){throw dr(a,e),a._readable._storedError}cO(b)!==a._backpressure&&ds(a,!0)}function dy(a,b){dq(a._controlledTransformStream,b)}function dz(a,b){return N(a._transformAlgorithm(b),void 0,function(b){throw dq(a._controlledTransformStream,b),b})}function dA(b){var a=b._controlledTransformStream;cK(a._readable._readableStreamController);var c=TypeError("TransformStream terminated");dr(a,c)}function dB(a,b){var c=a._transformStreamController;return a._backpressure?N(a._backpressureChangePromise,function(){var d=a._writable;if("erroring"===d._state)throw d._storedError;return dz(c,b)}):dz(c,b)}function dC(a,b){return dq(a,b),H(void 0)}function dD(a){var d=a._readable,b=a._transformStreamController,c=b._flushAlgorithm();return dw(b),N(c,function(){if("errored"===d._state)throw d._storedError;cK(d._readableStreamController)},function(b){throw dq(a,b),d._storedError})}function dE(a){return ds(a,!1),a._backpressureChangePromise}function dF(a){return TypeError("TransformStreamDefaultController.prototype."+a+" can only be used on a TransformStreamDefaultController")}function dG(a){return TypeError("TransformStream.prototype."+a+" can only be used on a TransformStream")}Object.defineProperties(p.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(p.prototype,a.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),b.ByteLengthQueuingStrategy=m,b.CountQueuingStrategy=n,b.ReadableByteStreamController=g,b.ReadableStream=c,b.ReadableStreamBYOBReader=h,b.ReadableStreamBYOBRequest=f,b.ReadableStreamDefaultController=l,b.ReadableStreamDefaultReader=e,b.TransformStream=o,b.TransformStreamDefaultController=p,b.WritableStream=i,b.WritableStreamDefaultController=k,b.WritableStreamDefaultWriter=j,Object.defineProperty(b,"__esModule",{value:!0})})},(g,a,b)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.BaseStandardFontDataFactory=a.BaseSVGFactory=a.BaseCanvasFactory=a.BaseCMapReaderFactory=void 0;var h=j(b(2)),i=b(4);function j(a){return a&&a.__esModule?a:{default:a}}function k(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function l(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){k(g,e,f,d,h,"next",a)}function h(a){k(g,e,f,d,h,"throw",a)}d(void 0)})}}function m(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function n(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function o(a,b,c){return b&&n(a.prototype,b),c&&n(a,c),a}var c=function(){function a(){m(this,a),this.constructor===a&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}return o(a,[{key:"create",value:function(a,b){if(a<=0||b<=0)throw Error("Invalid canvas size");var c=this._createCanvas(a,b);return{canvas:c,context:c.getContext("2d")}}},{key:"reset",value:function(a,b,c){if(!a.canvas)throw Error("Canvas is not specified");if(b<=0||c<=0)throw Error("Invalid canvas size");a.canvas.width=b,a.canvas.height=c}},{key:"destroy",value:function(a){if(!a.canvas)throw Error("Canvas is not specified");a.canvas.width=0,a.canvas.height=0,a.canvas=null,a.context=null}},{key:"_createCanvas",value:function(a,b){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}]),a}();a.BaseCanvasFactory=c;var d=function(){function a(b){var c=b.baseUrl,e=void 0===c?null:c,d=b.isCompressed,f=void 0!==d&&d;m(this,a),this.constructor===a&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=f}return o(a,[{key:"fetch",value:function(){var b=l(h.default.mark(function a(b){var c,d,e,f=this;return h.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=b.name,this.baseUrl){a.next=3;break}throw Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(c){a.next=5;break}throw Error("CMap name must be specified.");case 5:return d=this.baseUrl+c+(this.isCompressed?".bcmap":""),e=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE,a.abrupt("return",this._fetchData(d,e).catch(function(a){throw Error("Unable to load ".concat(f.isCompressed?"binary ":"","CMap at: ").concat(d))}));case 8:case"end":return a.stop()}},a,this)}));function a(a){return b.apply(this,arguments)}return a}()},{key:"_fetchData",value:function(a,b){(0,i.unreachable)("Abstract method `_fetchData` called.")}}]),a}();a.BaseCMapReaderFactory=d;var e=function(){function a(c){var b=c.baseUrl,d=void 0===b?null:b;m(this,a),this.constructor===a&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=d}return o(a,[{key:"fetch",value:function(){var b=l(h.default.mark(function a(b){var c,d;return h.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=b.filename,this.baseUrl){a.next=3;break}throw Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(c){a.next=5;break}throw Error("Font filename must be specified.");case 5:return d="".concat(this.baseUrl).concat(c),a.abrupt("return",this._fetchData(d).catch(function(a){throw Error("Unable to load font data at: ".concat(d))}));case 7:case"end":return a.stop()}},a,this)}));function a(a){return b.apply(this,arguments)}return a}()},{key:"_fetchData",value:function(a){(0,i.unreachable)("Abstract method `_fetchData` called.")}}]),a}();a.BaseStandardFontDataFactory=e;var f=function(){function a(){m(this,a),this.constructor===a&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}return o(a,[{key:"create",value:function(b,c){if(b<=0||c<=0)throw Error("Invalid SVG dimensions");var a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),a.setAttribute("width","".concat(b,"px")),a.setAttribute("height","".concat(c,"px")),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox","0 0 ".concat(b," ").concat(c)),a}},{key:"createElement",value:function(a){if("string"!=typeof a)throw Error("Invalid SVG element type");return this._createSVG(a)}},{key:"_createSVG",value:function(a){(0,i.unreachable)("Abstract method `_createSVG` called.")}}]),a}();a.BaseSVGFactory=f},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(4),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(137),_node_utils=__w_pdfjs_require__(138),_annotation_storage=__w_pdfjs_require__(139),_canvas=__w_pdfjs_require__(140),_worker_options=__w_pdfjs_require__(142),_is_node=__w_pdfjs_require__(6),_message_handler=__w_pdfjs_require__(143),_metadata=__w_pdfjs_require__(144),_optional_content_config=__w_pdfjs_require__(145),_transport_stream=__w_pdfjs_require__(146),_xfa_text=__w_pdfjs_require__(147);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classPrivateFieldInitSpec(a,b,c){_checkPrivateRedeclaration(a,b),b.set(a,c)}function _checkPrivateRedeclaration(a,b){if(b.has(a))throw TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(a,c,b){var d=_classExtractFieldDescriptor(a,c,"set");return _classApplyDescriptorSet(a,d,b),b}function _classApplyDescriptorSet(c,a,b){if(a.set)a.set.call(c,b);else{if(!a.writable)throw TypeError("attempted to set read only private field");a.value=b}}function _classPrivateFieldGet(a,b){var c=_classExtractFieldDescriptor(a,b,"get");return _classApplyDescriptorGet(a,c)}function _classExtractFieldDescriptor(a,b,c){if(!b.has(a))throw TypeError("attempted to "+c+" private field on non-instance");return b.get(a)}function _classApplyDescriptorGet(b,a){return a.get?a.get.call(b):a.value}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _createForOfIteratorHelper(a,d){var b="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!b){if(Array.isArray(a)||(b=_unsupportedIterableToArray(a))||d&&a&&"number"==typeof a.length){b&&(a=b);var e=0,c=function(){};return{s:c,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a},f:c}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){b=b.call(a)},n:function(){var a=b.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==b.return||b.return()}finally{if(h)throw f}}}}function _classCallCheck(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function _defineProperties(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}function asyncGeneratorStep(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function _asyncToGenerator(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){asyncGeneratorStep(g,e,f,d,h,"next",a)}function h(a){asyncGeneratorStep(g,e,f,d,h,"throw",a)}d(void 0)})}}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,c){if(a){if("string"==typeof a)return _arrayLikeToArray(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return _arrayLikeToArray(a,c)}}function _arrayLikeToArray(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function _iterableToArrayLimit(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _typeof(a){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;function setPDFNetworkStreamFactory(a){createPDFNetworkStream=a}function getDocument(c){var e,g=new PDFDocumentLoadingTask;if("string"==typeof c||c instanceof URL)e={url:c};else if((0,_util.isArrayBuffer)(c))e={data:c};else if(c instanceof PDFDataRangeTransport)e={range:c};else{if("object"!==_typeof(c))throw Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!c.url&&!c.data&&!c.range)throw Error("Invalid parameter object: need either .data, .range or .url");e=c}var a=Object.create(null),i=null,f=null;for(var d in e){var b=e[d];switch(d){case"url":if("undefined"!=typeof window)try{a[d]=new URL(b,window.location).href;continue}catch(j){(0,_util.warn)('Cannot create valid URL: "'.concat(j,'".'))}else if("string"==typeof b||b instanceof URL){a[d]=b.toString();continue}throw Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=b;continue;case"worker":f=b;continue;case"data":if(_is_node.isNodeJS&& void 0!==Buffer&&b instanceof Buffer)a[d]=new Uint8Array(b);else if(b instanceof Uint8Array)break;else if("string"==typeof b)a[d]=(0,_util.stringToBytes)(b);else if("object"!==_typeof(b)||null===b||isNaN(b.length)){if((0,_util.isArrayBuffer)(b))a[d]=new Uint8Array(b);else throw Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.")}else a[d]=new Uint8Array(b);continue}a[d]=b}if(a.rangeChunkSize=a.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,a.CMapReaderFactory=a.CMapReaderFactory||DefaultCMapReaderFactory,a.StandardFontDataFactory=a.StandardFontDataFactory||DefaultStandardFontDataFactory,a.ignoreErrors=!0!==a.stopAtErrors,a.fontExtraProperties=!0===a.fontExtraProperties,a.pdfBug=!0===a.pdfBug,a.enableXfa=!0===a.enableXfa,("string"!=typeof a.docBaseUrl||(0,_display_utils.isDataScheme)(a.docBaseUrl))&&(a.docBaseUrl=null),Number.isInteger(a.maxImageSize)||(a.maxImageSize=-1),"boolean"!=typeof a.useWorkerFetch&&(a.useWorkerFetch=a.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&a.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof a.isEvalSupported&&(a.isEvalSupported=!0),"boolean"!=typeof a.disableFontFace&&(a.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof a.useSystemFonts&&(a.useSystemFonts=!_is_node.isNodeJS&&!a.disableFontFace),void 0===a.ownerDocument&&(a.ownerDocument=globalThis.document),"boolean"!=typeof a.disableRange&&(a.disableRange=!1),"boolean"!=typeof a.disableStream&&(a.disableStream=!1),"boolean"!=typeof a.disableAutoFetch&&(a.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(a.verbosity),!f){var h={verbosity:a.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};f=h.port?PDFWorker.fromPort(h):new PDFWorker(h),g._worker=f}var k=g.docId;return f.promise.then(function(){if(g.destroyed)throw Error("Loading aborted");var b=_fetchDocument(f,a,i,k),c=new Promise(function(c){var b;i?b=new _transport_stream.PDFDataTransportStream({length:a.length,initialData:a.initialData,progressiveDone:a.progressiveDone,contentDispositionFilename:a.contentDispositionFilename,disableRange:a.disableRange,disableStream:a.disableStream},i):a.data||(b=createPDFNetworkStream({url:a.url,length:a.length,httpHeaders:a.httpHeaders,withCredentials:a.withCredentials,rangeChunkSize:a.rangeChunkSize,disableRange:a.disableRange,disableStream:a.disableStream})),c(b)});return Promise.all([b,c]).then(function(d){var b=_slicedToArray(d,2),e=b[0],h=b[1];if(g.destroyed)throw Error("Loading aborted");var c=new _message_handler.MessageHandler(k,e,f.port),i=new WorkerTransport(c,g,h,a);g._transport=i,c.send("Ready",null)})}).catch(g._capability.reject),g}function _fetchDocument(a,b,c,d){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(_regenerator.default.mark(function a(b,c,d,e){var f;return _regenerator.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!b.destroyed){a.next=2;break}throw Error("Worker was destroyed");case 2:return d&&(c.length=d.length,c.initialData=d.initialData,c.progressiveDone=d.progressiveDone,c.contentDispositionFilename=d.contentDispositionFilename),a.next=5,b.messageHandler.sendWithPromise("GetDocRequest",{docId:e,apiVersion:"2.12.313",source:{data:c.data,url:c.url,password:c.password,disableAutoFetch:c.disableAutoFetch,rangeChunkSize:c.rangeChunkSize,length:c.length},maxImageSize:c.maxImageSize,disableFontFace:c.disableFontFace,docBaseUrl:c.docBaseUrl,ignoreErrors:c.ignoreErrors,isEvalSupported:c.isEvalSupported,fontExtraProperties:c.fontExtraProperties,enableXfa:c.enableXfa,useSystemFonts:c.useSystemFonts,cMapUrl:c.useWorkerFetch?c.cMapUrl:null,standardFontDataUrl:c.useWorkerFetch?c.standardFontDataUrl:null});case 5:if(f=a.sent,!b.destroyed){a.next=8;break}throw Error("Worker was destroyed");case 8:return a.abrupt("return",f);case 9:case"end":return a.stop()}},a)}))).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;var PDFDocumentLoadingTask=function(){function a(){_classCallCheck(this,a),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat(a.idCounters.doc++),this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(a,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var b=_asyncToGenerator(_regenerator.default.mark(function a(){var b;return _regenerator.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.destroyed=!0,a.next=3,null===(b=this._transport)|| void 0===b?void 0:b.destroy();case 3:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 5:case"end":return a.stop()}},a,this)}));function a(){return b.apply(this,arguments)}return a}()}],[{key:"idCounters",get:function(){return(0,_util.shadow)(this,"idCounters",{doc:0})}}]),a}();exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var PDFDataRangeTransport=function(){function a(b,c){var d=arguments.length>2&& void 0!==arguments[2]&&arguments[2],e=arguments.length>3&& void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,a),this.length=b,this.initialData=c,this.progressiveDone=d,this.contentDispositionFilename=e,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(a,[{key:"addRangeListener",value:function(a){this._rangeListeners.push(a)}},{key:"addProgressListener",value:function(a){this._progressListeners.push(a)}},{key:"addProgressiveReadListener",value:function(a){this._progressiveReadListeners.push(a)}},{key:"addProgressiveDoneListener",value:function(a){this._progressiveDoneListeners.push(a)}},{key:"onDataRange",value:function(c,d){var b,a=_createForOfIteratorHelper(this._rangeListeners);try{for(a.s();!(b=a.n()).done;)(0,b.value)(c,d)}catch(e){a.e(e)}finally{a.f()}}},{key:"onDataProgress",value:function(a,b){var c=this;this._readyCapability.promise.then(function(){var e,d=_createForOfIteratorHelper(c._progressListeners);try{for(d.s();!(e=d.n()).done;)(0,e.value)(a,b)}catch(f){d.e(f)}finally{d.f()}})}},{key:"onDataProgressiveRead",value:function(a){var b=this;this._readyCapability.promise.then(function(){var d,c=_createForOfIteratorHelper(b._progressiveReadListeners);try{for(c.s();!(d=c.n()).done;)(0,d.value)(a)}catch(e){c.e(e)}finally{c.f()}})}},{key:"onDataProgressiveDone",value:function(){var a=this;this._readyCapability.promise.then(function(){var c,b=_createForOfIteratorHelper(a._progressiveDoneListeners);try{for(b.s();!(c=b.n()).done;)(0,c.value)()}catch(d){b.e(d)}finally{b.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(a,b){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),a}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function a(b,c){var d=this;_classCallCheck(this,a),this._pdfInfo=b,this._transport=c,Object.defineProperty(this,"fingerprint",{get:function(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:function(){var b=_asyncToGenerator(_regenerator.default.mark(function a(){return _regenerator.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),a.abrupt("return",d.stats||{streamTypes:{},fontTypes:{}});case 2:case"end":return a.stop()}},a)}));function a(){return b.apply(this,arguments)}return a}()})}return _createClass(a,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"stats",get:function(){return this._transport.stats}},{key:"isPureXfa",get:function(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(a){return this._transport.getPage(a)}},{key:"getPageIndex",value:function(a){return this._transport.getPageIndex(a)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(a){return this._transport.getDestination(a)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function(){var a=arguments.length>0&& void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(a||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),a}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function a(d,e,b,f){var c=arguments.length>4&& void 0!==arguments[4]&&arguments[4];_classCallCheck(this,a),this._pageIndex=d,this._pageInfo=e,this._ownerDocument=f,this._transport=b,this._stats=c?new _display_utils.StatTimer:null,this._pdfBug=c,this.commonObjs=b.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}return _createClass(a,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},f=a.scale,b=a.rotation,g=void 0===b?this.rotate:b,c=a.offsetX,h=void 0===c?0:c,d=a.offsetY,i=void 0===d?0:d,e=a.dontFlip,j=void 0!==e&&e;return new _display_utils.PageViewport({viewBox:this.view,scale:f,rotation:g,offsetX:h,offsetY:i,dontFlip:j})}},{key:"getAnnotations",value:function(){var d=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},c=d.intent,e=void 0===c?"display":c,b=this._transport.getRenderingIntent(e),a=this._annotationPromises.get(b.cacheKey);return a||(a=this._transport.getAnnotations(this._pageIndex,b.renderingIntent),this._annotationPromises.set(b.cacheKey,a),a=a.then(function(b){var c,a=_createForOfIteratorHelper(b);try{var d=function(){var a=c.value;void 0!==a.titleObj&&Object.defineProperty(a,"title",{get:function(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),a.titleObj.str}}),void 0!==a.contentsObj&&Object.defineProperty(a,"contents",{get:function(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),a.contentsObj.str}})};for(a.s();!(c=a.n()).done;)d()}catch(e){a.e(e)}finally{a.f()}return b})),a}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:function(){var b=_asyncToGenerator(_regenerator.default.mark(function a(){var b;return _regenerator.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(null===(b=this._transport._htmlForXfa)|| void 0===b?void 0:b.children[this._pageIndex])||null);case 1:case"end":return a.stop()}},a,this)}));function a(){return b.apply(this,arguments)}return a}()},{key:"render",value:function(b){var e,f,h,D=this,s=b.canvasContext,t=b.viewport,i=b.intent,u=void 0===i?"display":i,j=b.annotationMode,c=void 0===j?_util.AnnotationMode.ENABLE:j,k=b.transform,v=void 0===k?null:k,l=b.imageLayer,w=void 0===l?null:l,m=b.canvasFactory,x=void 0===m?null:m,n=b.background,y=void 0===n?null:n,o=b.optionalContentConfigPromise,g=void 0===o?null:o,p=b.annotationCanvasMap,z=void 0===p?null:p;(null===(e=arguments[0])|| void 0===e?void 0:e.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_FORMS)),(null===(f=arguments[0])|| void 0===f?void 0:f.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");var d=this._transport.getRenderingIntent(u,c);this.pendingCleanup=!1,g||(g=this._transport.getOptionalContentConfig());var a=this._intentStates.get(d.cacheKey);a||(a=Object.create(null),this._intentStates.set(d.cacheKey,a)),a.streamReaderCancelTimeout&&(clearTimeout(a.streamReaderCancelTimeout),a.streamReaderCancelTimeout=null);var A=x||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),B=!!(d.renderingIntent&_util.RenderingIntentFlag.PRINT);a.displayReadyCapability||(a.displayReadyCapability=(0,_util.createPromiseCapability)(),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(d));var q=function(b){a.renderTasks.delete(r),(D.cleanupAfterRender||B)&&(D.pendingCleanup=!0),D._tryCleanup(),b?(r.capability.reject(b),D._abortOperatorList({intentState:a,reason:b instanceof Error?b:Error(b)})):r.capability.resolve(),D._stats&&(D._stats.timeEnd("Rendering"),D._stats.timeEnd("Overall"))},r=new InternalRenderTask({callback:q,params:{canvasContext:s,viewport:t,transform:v,imageLayer:w,background:y},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:z,operatorList:a.operatorList,pageIndex:this._pageIndex,canvasFactory:A,useRequestAnimationFrame:!B,pdfBug:this._pdfBug});((h=a).renderTasks||(h.renderTasks=new Set)).add(r);var C=r.task;return Promise.all([a.displayReadyCapability.promise,g]).then(function(b){var a=_slicedToArray(b,2),c=a[0],d=a[1];if(D.pendingCleanup){q();return}D._stats&&D._stats.time("Rendering"),r.initializeGraphics({transparency:c,optionalContentConfig:d}),r.operatorListChanged()}).catch(q),C}},{key:"getOperatorList",value:function(){var c,d,e=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},f=e.intent,h=void 0===f?"display":f,g=e.annotationMode,i=void 0===g?_util.AnnotationMode.ENABLE:g;function j(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(c))}var b=this._transport.getRenderingIntent(h,i,!0),a=this._intentStates.get(b.cacheKey);return a||(a=Object.create(null),this._intentStates.set(b.cacheKey,a)),a.opListReadCapability||((c=Object.create(null)).operatorListChanged=j,a.opListReadCapability=(0,_util.createPromiseCapability)(),((d=a).renderTasks||(d.renderTasks=new Set)).add(c),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(b)),a.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},b=a.normalizeWhitespace,e=void 0!==b&&b,c=a.disableCombineTextItems,f=void 0!==c&&c,d=a.includeMarkedContent,g=void 0!==d&&d,h=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===e,combineTextItems:!0!==f,includeMarkedContent:!0===g},{highWaterMark:h,size:function(a){return a.items.length}})}},{key:"getTextContent",value:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(function(a){return _xfa_text.XfaText.textContent(a)});var b=this.streamTextContent(a);return new Promise(function(c,d){function a(){e.read().then(function(b){var d,e=b.value;if(b.done){c(f);return}Object.assign(f.styles,e.styles),(d=f.items).push.apply(d,_toConsumableArray(e.items)),a()},d)}var e=b.getReader(),f={items:[],styles:Object.create(null)};a()})}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0;var d,e=[],a=_createForOfIteratorHelper(this._intentStates.values());try{for(a.s();!(d=a.n()).done;){var c=d.value;if(this._abortOperatorList({intentState:c,reason:Error("Page was destroyed."),force:!0}),!c.opListReadCapability){var f,b=_createForOfIteratorHelper(c.renderTasks);try{for(b.s();!(f=b.n()).done;){var g=f.value;e.push(g.completed),g.cancel()}}catch(h){b.e(h)}finally{b.f()}}}}catch(i){a.e(i)}finally{a.f()}return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(e)}},{key:"cleanup",value:function(){var a=arguments.length>0&& void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(a)}},{key:"_tryCleanup",value:function(){var d=arguments.length>0&& void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var b,a=_createForOfIteratorHelper(this._intentStates.values());try{for(a.s();!(b=a.n()).done;){var c=b.value,e=c.renderTasks,f=c.operatorList;if(e.size>0||!f.lastChunk)return!1}}catch(g){a.e(g)}finally{a.f()}return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,d&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(b,c){var a=this._intentStates.get(c);a&&(this._stats&&this._stats.timeEnd("Page Request"),a.displayReadyCapability&&a.displayReadyCapability.resolve(b))}},{key:"_renderPageChunk",value:function(a,b){for(var c=0,f=a.length;c<f;c++)b.operatorList.fnArray.push(a.fnArray[c]),b.operatorList.argsArray.push(a.argsArray[c]);b.operatorList.lastChunk=a.lastChunk;var e,d=_createForOfIteratorHelper(b.renderTasks);try{for(d.s();!(e=d.n()).done;)e.value.operatorListChanged()}catch(g){d.e(g)}finally{d.f()}a.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(a){var f=this,b=a.renderingIntent,c=a.cacheKey,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:b,cacheKey:c,annotationStorage:b&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),e=this._intentStates.get(c);e.streamReader=d,function a(){d.read().then(function(b){var c=b.value,d=b.done;if(d){e.streamReader=null;return}!f._transport.destroyed&&(f._renderPageChunk(c,e),a())},function(b){if(e.streamReader=null,!f._transport.destroyed){if(e.operatorList){e.operatorList.lastChunk=!0;var c,a=_createForOfIteratorHelper(e.renderTasks);try{for(a.s();!(c=a.n()).done;)c.value.operatorListChanged()}catch(d){a.e(d)}finally{a.f()}f._tryCleanup()}if(e.displayReadyCapability)e.displayReadyCapability.reject(b);else if(e.opListReadCapability)e.opListReadCapability.reject(b);else throw b}})}()}},{key:"_abortOperatorList",value:function(c){var l=this,a=c.intentState,d=c.reason,e=c.force,h=void 0!==e&&e;if(a.streamReader){if(!h){if(a.renderTasks.size>0)return;if(d instanceof _display_utils.RenderingCancelledException){a.streamReaderCancelTimeout=setTimeout(function(){l._abortOperatorList({intentState:a,reason:d,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(a.streamReader.cancel(new _util.AbortException(d.message)).catch(function(){}),a.streamReader=null,!this._transport.destroyed){var f,b=_createForOfIteratorHelper(this._intentStates);try{for(b.s();!(f=b.n()).done;){var g=_slicedToArray(f.value,2),i=g[0],j=g[1];if(j===a){this._intentStates.delete(i);break}}}catch(k){b.e(k)}finally{b.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),a}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function a(){_classCallCheck(this,a),this._listeners=[],this._deferred=Promise.resolve()}return _createClass(a,[{key:"postMessage",value:function(a,c){var d=this;function b(a){if(globalThis.structuredClone)return globalThis.structuredClone(a,c);function b(a){if("function"==typeof a||"symbol"===_typeof(a)||a instanceof URL)throw Error("LoopbackPort.postMessage - cannot clone: ".concat(null==a?void 0:a.toString()));if("object"!==_typeof(a)||null===a)return a;if(d.has(a))return d.get(a);if((t=a.buffer)&&(0,_util.isArrayBuffer)(t))return e=null!=c&&c.includes(t)?new a.constructor(t,a.byteOffset,a.byteLength):new a.constructor(a),d.set(a,e),e;if(a instanceof Map){e=new Map,d.set(a,e);var t,e,l,f=_createForOfIteratorHelper(a);try{for(f.s();!(l=f.n()).done;){var m=_slicedToArray(l.value,2),o=m[0],p=m[1];e.set(o,b(p))}}catch(q){f.e(q)}finally{f.f()}return e}if(a instanceof Set){e=new Set,d.set(a,e);var n,g=_createForOfIteratorHelper(a);try{for(g.s();!(n=g.n()).done;){var r=n.value;e.add(b(r))}}catch(s){g.e(s)}finally{g.f()}return e}for(var i in e=Array.isArray(a)?[]:Object.create(null),d.set(a,e),a){for(var j,h=void 0,k=a;!(h=Object.getOwnPropertyDescriptor(k,i));)k=Object.getPrototypeOf(k);void 0!==h.value&&("function"!=typeof h.value||null!==(j=a.hasOwnProperty)&& void 0!==j&&j.call(a,i))&&(e[i]=b(h.value))}return e}var d=new WeakMap;return b(a)}var e={data:b(a)};this._deferred.then(function(){var b,a=_createForOfIteratorHelper(d._listeners);try{for(a.s();!(b=a.n()).done;)b.value.call(d,e)}catch(c){a.e(c)}finally{a.f()}})}},{key:"addEventListener",value:function(b,a){this._listeners.push(a)}},{key:"removeEventListener",value:function(c,a){var b=this._listeners.indexOf(a);this._listeners.splice(b,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),a}();exports.LoopbackPort=LoopbackPort;var PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(("undefined"==typeof document?"undefined":_typeof(document))==="object"){var createPDFNetworkStream,_document,_document$currentScri,pdfjsFilePath=null===(_document=document)|| void 0===_document?void 0:null===(_document$currentScri=_document.currentScript)|| void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(a){var b='importScripts("'.concat(a,'");');return URL.createObjectURL(new Blob([b]))};var PDFWorker=function(){function PDFWorker(){var b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},c=b.name,f=void 0===c?null:c,d=b.port,a=void 0===d?null:d,e=b.verbosity,g=void 0===e?(0,_util.getVerbosityLevel)():e;if(_classCallCheck(this,PDFWorker),a&&PDFWorker._workerPorts.has(a))throw Error("Cannot use more than one PDFWorker per port.");if(this.name=f,this.destroyed=!1,this.verbosity=g,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a){PDFWorker._workerPorts.set(a,this),this._initializeFromPort(a);return}this._initialize()}return _createClass(PDFWorker,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(a){this._port=a,this._messageHandler=new _message_handler.MessageHandler("main","worker",a),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var f=this;if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){var a=PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,a)||(a=PDFWorkerUtil.createCDNWrapper(new URL(a,window.location).href));var b=new Worker(a),c=new _message_handler.MessageHandler("main","worker",b),g=function(){b.removeEventListener("error",d),c.destroy(),b.terminate(),f.destroyed?f._readyCapability.reject(Error("Worker was destroyed")):f._setupFakeWorker()},d=function(){f._webWorker||g()};b.addEventListener("error",d),c.on("test",function(a){if(b.removeEventListener("error",d),f.destroyed){g();return}a?(f._messageHandler=c,f._port=b,f._webWorker=b,f._readyCapability.resolve(),c.send("configure",{verbosity:f.verbosity})):(f._setupFakeWorker(),c.destroy(),b.terminate())}),c.on("ready",function(a){if(b.removeEventListener("error",d),f.destroyed){g();return}try{e()}catch(c){f._setupFakeWorker()}});var e=function(){var a=new Uint8Array([255]);try{c.send("test",a,[a.buffer])}catch(b){(0,_util.warn)("Cannot use postMessage transfers."),a[0]=0,c.send("test",a)}};e();return}catch(h){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var a=this;PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(function(e){if(a.destroyed){a._readyCapability.reject(Error("Worker was destroyed"));return}var b=new LoopbackPort;a._port=b;var c="fake".concat(PDFWorkerUtil.fakeWorkerId++),f=new _message_handler.MessageHandler(c+"_worker",c,b);e.setup(f,b);var d=new _message_handler.MessageHandler(c,c+"_worker",b);a._messageHandler=d,a._readyCapability.resolve(),d.send("configure",{verbosity:a.verbosity})}).catch(function(b){a._readyCapability.reject(Error('Setting up fake worker failed: "'.concat(b.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"_workerPorts",get:function(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}},{key:"fromPort",value:function(a){if(!(null!=a&&a.port))throw Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(a.port)?this._workerPorts.get(a.port):new PDFWorker(a)}},{key:"workerSrc",get:function(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function(){try{var a;return(null===(a=globalThis.pdfjsWorker)|| void 0===a?void 0:a.WorkerMessageHandler)||null}catch(b){return null}}},{key:"_setupFakeWorkerGlobal",get:function get(){var _ref15,_this11=this,loader=(_ref15=_asyncToGenerator(_regenerator.default.mark(function _callee4(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(!(mainWorkerMessageHandler=_this11._mainThreadWorkerMessageHandler)){_context4.next=3;break}return _context4.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context4.next=6;break}return worker=eval("require")(_this11.workerSrc),_context4.abrupt("return",worker.WorkerMessageHandler);case 6:return _context4.next=8,(0,_display_utils.loadScript)(_this11.workerSrc);case 8:return _context4.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context4.stop()}},_callee4)})),function(){return _ref15.apply(this,arguments)});return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}]),PDFWorker}();exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap,WorkerTransport=function(){function a(d,c,e,b){_classCallCheck(this,a),_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=d,this.loadingTask=c,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:c.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:b.ownerDocument,styleElement:b.styleElement}),this._params=b,b.useWorkerFetch||(this.CMapReaderFactory=new b.CMapReaderFactory({baseUrl:b.cMapUrl,isCompressed:b.cMapPacked}),this.StandardFontDataFactory=new b.StandardFontDataFactory({baseUrl:b.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=e,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(a,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"stats",get:function(){return _classPrivateFieldGet(this,_docStats)}},{key:"getRenderingIntent",value:function(b){var c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,e=arguments.length>2&& void 0!==arguments[2]&&arguments[2],a=_util.RenderingIntentFlag.DISPLAY,d="";switch(b){case"any":a=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":a=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(b))}switch(c){case _util.AnnotationMode.DISABLE:a+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:a+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:a+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,d=this.annotationStorage.lastModified;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(c))}return e&&(a+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:a,cacheKey:"".concat(a,"_").concat(d)}}},{key:"destroy",value:function(){var g=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(Error("Worker was destroyed during onPassword callback"));var c,b=[],a=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values());try{for(a.s();!(c=a.n()).done;){var d=c.value;b.push(d._destroy())}}catch(e){a.e(e)}finally{a.f()}_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var f=this.messageHandler.sendWithPromise("Terminate",null);return b.push(f),Promise.all(b).then(function(){g.commonObjs.clear(),g.fontLoader.clear(),_classPrivateFieldSet(g,_metadataPromise,null),g._getFieldObjectsPromise=null,g._hasJSActionsPromise=null,g._networkStream&&g._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),g.messageHandler&&(g.messageHandler.destroy(),g.messageHandler=null),g.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var b=this,a=this.messageHandler,c=this.loadingTask;a.on("GetReader",function(c,a){(0,_util.assert)(b._networkStream,"GetReader - no `IPDFStream` instance available."),b._fullReader=b._networkStream.getFullReader(),b._fullReader.onProgress=function(a){b._lastProgress={loaded:a.loaded,total:a.total}},a.onPull=function(){b._fullReader.read().then(function(c){var b=c.value;if(c.done){a.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(b),"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(b),1,[b])}).catch(function(b){a.error(b)})},a.onCancel=function(c){b._fullReader.cancel(c),a.ready.catch(function(a){if(!b.destroyed)throw a})}}),a.on("ReaderHeadersReady",function(e){var a=(0,_util.createPromiseCapability)(),d=b._fullReader;return d.headersReady.then(function(){if(!d.isStreamingSupported||!d.isRangeSupported){if(b._lastProgress){var e;null===(e=c.onProgress)|| void 0===e||e.call(c,b._lastProgress)}d.onProgress=function(b){var a;null===(a=c.onProgress)|| void 0===a||a.call(c,{loaded:b.loaded,total:b.total})}}a.resolve({isStreamingSupported:d.isStreamingSupported,isRangeSupported:d.isRangeSupported,contentLength:d.contentLength})},a.reject),a.promise}),a.on("GetRangeReader",function(c,a){(0,_util.assert)(b._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var d=b._networkStream.getRangeReader(c.begin,c.end);if(!d){a.close();return}a.onPull=function(){d.read().then(function(c){var b=c.value;if(c.done){a.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(b),"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(b),1,[b])}).catch(function(b){a.error(b)})},a.onCancel=function(c){d.cancel(c),a.ready.catch(function(a){if(!b.destroyed)throw a})}}),a.on("GetDoc",function(d){var a=d.pdfInfo;b._numPages=a.numPages,b._htmlForXfa=a.htmlForXfa,delete a.htmlForXfa,c._capability.resolve(new PDFDocumentProxy(a,b))}),a.on("DocException",function(a){var b;switch(a.name){case"PasswordException":b=new _util.PasswordException(a.message,a.code);break;case"InvalidPDFException":b=new _util.InvalidPDFException(a.message);break;case"MissingPDFException":b=new _util.MissingPDFException(a.message);break;case"UnexpectedResponseException":b=new _util.UnexpectedResponseException(a.message,a.status);break;case"UnknownErrorException":b=new _util.UnknownErrorException(a.message,a.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}c._capability.reject(b)}),a.on("PasswordRequest",function(a){if(b._passwordCapability=(0,_util.createPromiseCapability)(),c.onPassword){var d=function(a){b._passwordCapability.resolve({password:a})};try{c.onPassword(d,a.code)}catch(e){b._passwordCapability.reject(e)}}else b._passwordCapability.reject(new _util.PasswordException(a.message,a.code));return b._passwordCapability.promise}),a.on("DataLoaded",function(a){var d;null===(d=c.onProgress)|| void 0===d||d.call(c,{loaded:a.length,total:a.length}),b.downloadInfoCapability.resolve(a)}),a.on("StartRenderPage",function(a){!b.destroyed&&_classPrivateFieldGet(b,_pageCache).get(a.pageIndex)._startRenderPage(a.transparency,a.cacheKey)}),a.on("commonobj",function(k){var e,f=_slicedToArray(k,3),g=f[0],h=f[1],c=f[2];if(!(b.destroyed||b.commonObjs.has(g)))switch(h){case"Font":var d=b._params;if("error"in c){var i=c.error;(0,_util.warn)("Error during font loading: ".concat(i)),b.commonObjs.resolve(g,i);break}var j=null;d.pdfBug&&null!==(e=globalThis.FontInspector)&& void 0!==e&&e.enabled&&(j={registerFont:function(a,b){globalThis.FontInspector.fontAdded(a,b)}});var l=new _font_loader.FontFaceObject(c,{isEvalSupported:d.isEvalSupported,disableFontFace:d.disableFontFace,ignoreErrors:d.ignoreErrors,onUnsupportedFeature:b._onUnsupportedFeature.bind(b),fontRegistry:j});b.fontLoader.bind(l).catch(function(b){return a.sendWithPromise("FontFallback",{id:g})}).finally(function(){!d.fontExtraProperties&&l.data&&(l.data=null),b.commonObjs.resolve(g,l)});break;case"FontPath":case"Image":b.commonObjs.resolve(g,c);break;default:throw Error("Got unknown common object type ".concat(h))}}),a.on("obj",function(h){var e,a=_slicedToArray(h,4),f=a[0],i=a[1],g=a[2],c=a[3];if(!b.destroyed){var d=_classPrivateFieldGet(b,_pageCache).get(i);if(!d.objs.has(f))switch(g){case"Image":d.objs.resolve(f,c);var j=8e6;(null==c?void 0:null===(e=c.data)|| void 0===e?void 0:e.length)>j&&(d.cleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(f,c);break;default:throw Error("Got unknown object type ".concat(g))}}}),a.on("DocProgress",function(d){var a;!b.destroyed&&(null===(a=c.onProgress)|| void 0===a||a.call(c,{loaded:d.loaded,total:d.total}))}),a.on("DocStats",function(a){!b.destroyed&&_classPrivateFieldSet(b,_docStats,Object.freeze({streamTypes:Object.freeze(a.streamTypes),fontTypes:Object.freeze(a.fontTypes)}))}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",function(a){return b.destroyed?Promise.reject(Error("Worker was destroyed.")):b.CMapReaderFactory?b.CMapReaderFactory.fetch(a):Promise.reject(Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))}),a.on("FetchStandardFontData",function(a){return b.destroyed?Promise.reject(Error("Worker was destroyed.")):b.StandardFontDataFactory?b.StandardFontDataFactory.fetch(a):Promise.reject(Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))})}},{key:"_onUnsupportedFeature",value:function(c){var a,b,d=c.featureId;!this.destroyed&&(null===(a=(b=this.loadingTask).onUnsupportedFeature)|| void 0===a||a.call(b,d))}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(a){var e=this;if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(Error("Invalid page request"));var b=a-1,c=_classPrivateFieldGet(this,_pagePromises).get(b);if(c)return c;var d=this.messageHandler.sendWithPromise("GetPage",{pageIndex:b}).then(function(c){if(e.destroyed)throw Error("Transport destroyed");var a=new PDFPageProxy(b,c,e,e._params.ownerDocument,e._params.pdfBug);return _classPrivateFieldGet(e,_pageCache).set(b,a),a});return _classPrivateFieldGet(this,_pagePromises).set(b,d),d}},{key:"getPageIndex",value:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a})}},{key:"getAnnotations",value:function(a,b){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:b})}},{key:"saveDocument",value:function(){var a,b,c=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(a=null===(b=this._fullReader)|| void 0===b?void 0:b.filename)&& void 0!==a?a:null}).finally(function(){c.annotationStorage.resetModified()})}},{key:"getFieldObjects",value:function(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(a){return"string"!=typeof a?Promise.reject(Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}},{key:"getStructTree",value:function(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(a){return new _optional_content_config.OptionalContentConfig(a)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var a=this;return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(function(b){var c,d,e,f;return{info:b[0],metadata:b[1]?new _metadata.Metadata(b[1]):null,contentDispositionFilename:null!==(c=null===(d=a._fullReader)|| void 0===d?void 0:d.filename)&& void 0!==c?c:null,contentLength:null!==(e=null===(f=a._fullReader)|| void 0===f?void 0:f.contentLength)&& void 0!==e?e:null}}))}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:function(){var b=_asyncToGenerator(_regenerator.default.mark(function a(){var b,c,d,e,f,g=arguments;return _regenerator.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b=g.length>0&& void 0!==g[0]&&g[0],a.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){a.next=5;break}return a.abrupt("return");case 5:c=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values()),a.prev=6,c.s();case 8:if((d=c.n()).done){a.next=15;break}if(f=(e=d.value).cleanup()){a.next=13;break}throw Error("startCleanup: Page ".concat(e.pageNumber," is currently rendering."));case 13:a.next=8;break;case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(6),c.e(a.t0);case 20:return a.prev=20,c.f(),a.finish(20);case 23:this.commonObjs.clear(),b||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null;case 28:case"end":return a.stop()}},a,this,[[6,17,20,23]])}));function a(){return b.apply(this,arguments)}return a}()},{key:"loadingParams",get:function(){var a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}]),a}(),PDFObjects=function(){function a(){_classCallCheck(this,a),this._objs=Object.create(null)}return _createClass(a,[{key:"_ensureObj",value:function(a){return this._objs[a]?this._objs[a]:this._objs[a]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(a){var c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null;if(c)return this._ensureObj(a).capability.promise.then(c),null;var b=this._objs[a];if(!b||!b.resolved)throw Error("Requesting object that isn't resolved yet ".concat(a,"."));return b.data}},{key:"has",value:function(b){var a=this._objs[b];return(null==a?void 0:a.resolved)||!1}},{key:"resolve",value:function(c,b){var a=this._ensureObj(c);a.resolved=!0,a.data=b,a.capability.resolve(b)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),a}(),RenderTask=function(){function a(b){_classCallCheck(this,a),this._internalRenderTask=b,this.onContinue=null}return _createClass(a,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),a}();exports.RenderTask=RenderTask;var InternalRenderTask=function(){function a(b){var f=b.callback,c=b.params,g=b.objs,h=b.commonObjs,i=b.annotationCanvasMap,j=b.operatorList,k=b.pageIndex,l=b.canvasFactory,d=b.useRequestAnimationFrame,m=void 0!==d&&d,e=b.pdfBug,n=void 0!==e&&e;_classCallCheck(this,a),this.callback=f,this.params=c,this.objs=g,this.commonObjs=h,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=j,this._pageIndex=k,this.canvasFactory=l,this._pdfBug=n,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===m&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=c.canvasContext.canvas}return _createClass(a,[{key:"completed",get:function(){return this.capability.promise.catch(function(){})}},{key:"initializeGraphics",value:function(d){var c,e=d.transparency,f=void 0!==e&&e,g=d.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(a.canvasInUse.has(this._canvas))throw Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");a.canvasInUse.add(this._canvas)}this._pdfBug&&null!==(c=globalThis.StepperManager)&& void 0!==c&&c.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var b=this.params,h=b.canvasContext,i=b.viewport,j=b.transform,k=b.imageLayer,l=b.background;this.gfx=new _canvas.CanvasGraphics(h,this.commonObjs,this.objs,this.canvasFactory,k,g,this.annotationCanvasMap),this.gfx.beginDrawing({transform:j,viewport:i,transparency:f,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&a.canvasInUse.delete(this._canvas),this.callback(b||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}},{key:"_continue",value:function(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var a=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){a._nextBound().catch(a._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:function(){var c=_asyncToGenerator(_regenerator.default.mark(function b(){return _regenerator.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!this.cancelled){b.next=2;break}return b.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&a.canvasInUse.delete(this._canvas),this.callback()));case 4:case"end":return b.stop()}},b,this)}));function b(){return c.apply(this,arguments)}return b}()}],[{key:"canvasInUse",get:function(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}}]),a}(),version="2.12.313";exports.version=version;var build="a2ae56f39";exports.build=build},(f,a,b)=>{"use strict";function g(a){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}Object.defineProperty(a,"__esModule",{value:!0}),a.FontLoader=a.FontFaceObject=void 0;var c,h=j(b(2)),i=b(4);function j(a){return a&&a.__esModule?a:{default:a}}function k(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a&&l(b,a)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a){var b=p();return function(){var c,d=q(a);if(b){var e=q(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return n(this,c)}}function n(b,a){if(a&&("object"===g(a)||"function"==typeof a))return a;if(void 0!==a)throw TypeError("Derived constructors may only return object or undefined");return o(b)}function o(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function p(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function q(a){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function r(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function s(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){r(g,e,f,d,h,"next",a)}function h(a){r(g,e,f,d,h,"throw",a)}d(void 0)})}}function t(a,d){var b="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!b){if(Array.isArray(a)||(b=u(a))||d&&a&&"number"==typeof a.length){b&&(a=b);var e=0,c=function(){};return{s:c,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a},f:c}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){b=b.call(a)},n:function(){var a=b.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==b.return||b.return()}finally{if(h)throw f}}}}function u(a,c){if(a){if("string"==typeof a)return v(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return v(a,c)}}function v(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function w(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function x(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function y(a,b,c){return b&&x(a.prototype,b),c&&x(a,c),a}var d=function(){function a(b){var d=b.docId,e=b.onUnsupportedFeature,c=b.ownerDocument,f=void 0===c?globalThis.document:c;b.styleElement,w(this,a),this.constructor===a&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=d,this._onUnsupportedFeature=e,this._document=f,this.nativeFontFaces=[],this.styleElement=null}return y(a,[{key:"addNativeFontFace",value:function(a){this.nativeFontFaces.push(a),this._document.fonts.add(a)}},{key:"insertRule",value:function(c){var a=this.styleElement;a||((a=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(a));var b=a.sheet;b.insertRule(c,b.cssRules.length)}},{key:"clear",value:function(){var b,a=t(this.nativeFontFaces);try{for(a.s();!(b=a.n()).done;){var c=b.value;this._document.fonts.delete(c)}}catch(d){a.e(d)}finally{a.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){var b=s(h.default.mark(function a(b){var c,d,e=this;return h.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(b.attached||b.missingFile)){a.next=2;break}return a.abrupt("return");case 2:if(b.attached=!0,!this.isFontLoadingAPISupported){a.next=19;break}if(!(c=b.createNativeFontFace())){a.next=18;break}return this.addNativeFontFace(c),a.prev=7,a.next=10,c.loaded;case 10:a.next=18;break;case 12:throw a.prev=12,a.t0=a.catch(7),this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)("Failed to load font '".concat(c.family,"': '").concat(a.t0,"'.")),b.disableFontFace=!0,a.t0;case 18:return a.abrupt("return");case 19:if(!(d=b.createFontFaceRule())){a.next=26;break}if(this.insertRule(d),!this.isSyncFontLoadingSupported){a.next=24;break}return a.abrupt("return");case 24:return a.next=26,new Promise(function(a){var c=e._queueLoadingCallback(a);e._prepareFontLoadEvent([d],[b],c)});case 26:case"end":return a.stop()}},a,this,[[7,12]])}));function a(a){return b.apply(this,arguments)}return a}()},{key:"_queueLoadingCallback",value:function(a){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var a,b=!!(null!==(a=this._document)&& void 0!==a&&a.fonts);return(0,i.shadow)(this,"isFontLoadingAPISupported",b)}},{key:"isSyncFontLoadingSupported",get:function(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(a,b,c){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),a}();a.FontLoader=c,a.FontLoader=c=function(b){k(a,b);var c=m(a);function a(d){var b;return w(this,a),(b=c.call(this,d)).loadingContext={requests:[],nextRequestId:0},b.loadTestFontId=0,b}return y(a,[{key:"isSyncFontLoadingSupported",get:function(){var a=!1;if("undefined"==typeof navigator)a=!0;else{var b=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==b?void 0:b[1])>=14&&(a=!0)}return(0,i.shadow)(this,"isSyncFontLoadingSupported",a)}},{key:"_queueLoadingCallback",value:function(c){function d(){for((0,i.assert)(!b.done,"completeRequest() cannot be called twice."),b.done=!0;a.requests.length>0&&a.requests[0].done;)setTimeout(a.requests.shift().callback,0)}var a=this.loadingContext,b={id:"pdfjs-font-loading-".concat(a.nextRequestId++),done:!1,complete:d,callback:c};return a.requests.push(b),b}},{key:"_loadTestFont",get:function(){var a=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,i.shadow)(this,"_loadTestFont",a())}},{key:"_prepareFontLoadEvent",value:function(y,q,z){function f(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|255&a.charCodeAt(b+3)}function l(a,b,c,d){var e=a.substring(0,b),f=a.substring(b+c);return e+d+f}var g=this._document.createElement("canvas");g.width=1,g.height=1;var A=g.getContext("2d"),B=0;function r(b,a){if(++B>30){(0,i.warn)("Load test font never loaded."),a();return}if(A.font="30px "+b,A.fillText(".",0,20),A.getImageData(0,0,1,1).data[3]>0){a();return}setTimeout(r.bind(null,b,a))}var a="lt".concat(Date.now()).concat(this.loadTestFontId++),c=this._loadTestFont;c=l(c,976,a.length,a);var m=16,n=1482184792,d=f(c,m);for(C=0,D=a.length-3;C<D;C+=4)d=d-n+f(a,C)|0;C<a.length&&(d=d-n+f(a+"XXX",C)|0),c=l(c,m,4,(0,i.string32)(d));var s="url(data:font/opentype;base64,".concat(btoa(c),");"),u='@font-face {font-family:"'.concat(a,'";src:').concat(s,"}");this.insertRule(u);var C,D,o,h=[],e=t(q);try{for(e.s();!(o=e.n()).done;){var v=o.value;h.push(v.loadedName)}}catch(w){e.e(w)}finally{e.f()}h.push(a);var b=this._document.createElement("div");b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px";for(var j=0,p=h;j<p.length;j++){var x=p[j],k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=x,b.appendChild(k)}this._document.body.appendChild(b),r(a,function(){b.remove(),z.complete()})}}]),a}(d);var e=function(){function a(c,b){var d=b.isEvalSupported,i=void 0===d||d,e=b.disableFontFace,j=void 0!==e&&e,f=b.ignoreErrors,k=void 0!==f&&f,l=b.onUnsupportedFeature,g=b.fontRegistry,m=void 0===g?null:g;for(var h in w(this,a),this.compiledGlyphs=Object.create(null),c)this[h]=c[h];this.isEvalSupported=!1!==i,this.disableFontFace=!0===j,this.ignoreErrors=!0===k,this._onUnsupportedFeature=l,this.fontRegistry=m}return y(a,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;if(this.cssFontInfo){var a,b={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(b.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),a=new FontFace(this.cssFontInfo.fontFamily,this.data,b)}else a=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),a}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var a,d=(0,i.bytesToString)(this.data),b="url(data:".concat(this.mimetype,";base64,").concat(btoa(d),");");if(this.cssFontInfo){var c="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(c+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),a='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(c,"src:").concat(b,"}")}else a='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(b,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,b),a}},{key:"getPathGenerator",value:function(g,a){if(void 0!==this.compiledGlyphs[a])return this.compiledGlyphs[a];try{h=g.get(this.loadedName+"_path_"+a)}catch(d){if(!this.ignoreErrors)throw d;return this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)('getPathGenerator - ignoring character: "'.concat(d,'".')),this.compiledGlyphs[a]=function(a,b){}}if(this.isEvalSupported&&i.IsEvalSupportedCached.value){var h,e,f=[],b=t(h);try{for(b.s();!(e=b.n()).done;){var c=e.value,j=void 0!==c.args?c.args.join(","):"";f.push("c.",c.cmd,"(",j,");\n")}}catch(k){b.e(k)}finally{b.f()}return this.compiledGlyphs[a]=Function("c","size",f.join(""))}return this.compiledGlyphs[a]=function(c,d){var e,a=t(h);try{for(a.s();!(e=a.n()).done;){var b=e.value;"scale"===b.cmd&&(b.args=[d,-d]),c[b.cmd].apply(c,b.args)}}catch(f){a.e(f)}finally{a.f()}}}}]),a}();a.FontFaceObject=e},(h,a,b)=>{"use strict";function i(a){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}Object.defineProperty(a,"__esModule",{value:!0}),a.NodeStandardFontDataFactory=a.NodeCanvasFactory=a.NodeCMapReaderFactory=void 0;var c=b(135),g=b(6),j=b(4);function k(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function l(a,b,c){return b&&k(a.prototype,b),c&&k(a,c),a}function m(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a&&n(b,a)}function n(a,b){return(n=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function o(a){var b=r();return function(){var c,d=s(a);if(b){var e=s(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return p(this,c)}}function p(b,a){if(a&&("object"===i(a)||"function"==typeof a))return a;if(void 0!==a)throw TypeError("Derived constructors may only return object or undefined");return q(b)}function q(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function r(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function s(a){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function t(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}var d=function a(){t(this,a),(0,j.unreachable)("Not implemented: NodeCanvasFactory")};a.NodeCanvasFactory=d;var e=function a(){t(this,a),(0,j.unreachable)("Not implemented: NodeCMapReaderFactory")};a.NodeCMapReaderFactory=e;var f=function a(){t(this,a),(0,j.unreachable)("Not implemented: NodeStandardFontDataFactory")};if(a.NodeStandardFontDataFactory=f,g.isNodeJS){var u=function(a){return new Promise(function(b,c){__webpack_require__(2767).readFile(a,function(a,d){if(a||!d){c(Error(a));return}b(new Uint8Array(d))})})};a.NodeCanvasFactory=d=function(b){m(a,b);var c=o(a);function a(){return t(this,a),c.apply(this,arguments)}return l(a,[{key:"_createCanvas",value:function(a,b){return __webpack_require__(4601).createCanvas(a,b)}}]),a}(c.BaseCanvasFactory),a.NodeCMapReaderFactory=e=function(b){m(a,b);var c=o(a);function a(){return t(this,a),c.apply(this,arguments)}return l(a,[{key:"_fetchData",value:function(a,b){return u(a).then(function(a){return{cMapData:a,compressionType:b}})}}]),a}(c.BaseCMapReaderFactory),a.NodeStandardFontDataFactory=f=function(b){m(a,b);var c=o(a);function a(){return t(this,a),c.apply(this,arguments)}return l(a,[{key:"_fetchData",value:function(a){return u(a)}}]),a}(c.BaseStandardFontDataFactory)}},(d,a,b)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationStorage=void 0;var e=b(4);function f(a,b){return k(a)||j(a,b)||h(a,b)||g()}function g(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(a,c){if(a){if("string"==typeof a)return i(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return i(a,c)}}function i(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function j(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}function k(a){if(Array.isArray(a))return a}function l(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function m(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function n(a,b,c){return b&&m(a.prototype,b),c&&m(a,c),a}var c=function(){function a(){l(this,a),this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}return n(a,[{key:"getValue",value:function(c,a){var b=this._storage.get(c);return void 0===b?a:Object.assign(a,b)}},{key:"setValue",value:function(d,e){var a=this._storage.get(d),b=!1;if(void 0!==a)for(var c=0,g=Object.entries(e);c<g.length;c++){var h=f(g[c],2),i=h[0],j=h[1];a[i]!==j&&(b=!0,a[i]=j)}else b=!0,this._storage.set(d,e);b&&(this._timeStamp=Date.now(),this._setModified())}},{key:"getAll",value:function(){return this._storage.size>0?(0,e.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}},{key:"lastModified",get:function(){return this._timeStamp.toString()}}]),a}();a.AnnotationStorage=c},(f,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CanvasGraphics=void 0;var e=c(4),g=c(141),h=c(1);function i(a){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function j(a,d){var b="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!b){if(Array.isArray(a)||(b=p(a))||d&&a&&"number"==typeof a.length){b&&(a=b);var e=0,c=function(){};return{s:c,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a},f:c}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){b=b.call(a)},n:function(){var a=b.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==b.return||b.return()}finally{if(h)throw f}}}}function k(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function l(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function m(a,b,c){return b&&l(a.prototype,b),c&&l(a,c),a}function n(a,b){return s(a)||r(a,b)||p(a,b)||o()}function o(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(a,c){if(a){if("string"==typeof a)return q(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return q(a,c)}}function q(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function r(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}function s(a){if(Array.isArray(a))return a}var t=16,u=100,v=4096,w=15,x=10,y=!0,z=1e3,A=16,B=1.000001;function C(a,b){if(a._removeMirroring)throw Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=function(){a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){b.save(),this.__originalSave()},a.restore=function(){b.restore(),this.__originalRestore()},a.translate=function(a,c){b.translate(a,c),this.__originalTranslate(a,c)},a.scale=function(a,c){b.scale(a,c),this.__originalScale(a,c)},a.transform=function(a,c,d,e,f,g){b.transform(a,c,d,e,f,g),this.__originalTransform(a,c,d,e,f,g)},a.setTransform=function(a,c,d,e,f,g){b.setTransform(a,c,d,e,f,g),this.__originalSetTransform(a,c,d,e,f,g)},a.resetTransform=function(){b.resetTransform(),this.__originalResetTransform()},a.rotate=function(a){b.rotate(a),this.__originalRotate(a)},a.clip=function(a){b.clip(a),this.__originalClip(a)},a.moveTo=function(a,c){b.moveTo(a,c),this.__originalMoveTo(a,c)},a.lineTo=function(a,c){b.lineTo(a,c),this.__originalLineTo(a,c)},a.bezierCurveTo=function(a,c,d,e,f,g){b.bezierCurveTo(a,c,d,e,f,g),this.__originalBezierCurveTo(a,c,d,e,f,g)},a.rect=function(a,c,d,e){b.rect(a,c,d,e),this.__originalRect(a,c,d,e)},a.closePath=function(){b.closePath(),this.__originalClosePath()},a.beginPath=function(){b.beginPath(),this.__originalBeginPath()}}function D(a){if(!a.mozCurrentTransform){a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,a._originalSetTransform=a.setTransform,a._originalResetTransform=a.resetTransform,a._transformMatrix=a._transformMatrix||[1,0,0,1,0,0],a._transformStack=[];try{var b=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(a),"lineWidth");a._setLineWidth=b.set,a._getLineWidth=b.get,Object.defineProperty(a,"lineWidth",{set:function(a){this._setLineWidth(a*B)},get:function(){return this._getLineWidth()}})}catch(c){}Object.defineProperty(a,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var a=n(this._transformMatrix,6),b=a[0],c=a[1],d=a[2],e=a[3],h=a[4],i=a[5],f=b*e-c*d,g=c*d-b*e;return[e/f,c/g,d/g,b/f,(e*h-d*i)/g,(c*h-b*i)/f]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a),this._transformMatrix=a.slice(0,6),this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=function(b,c){var a=this._transformMatrix;a[4]=a[0]*b+a[2]*c+a[4],a[5]=a[1]*b+a[3]*c+a[5],this._originalTranslate(b,c)},a.scale=function(b,c){var a=this._transformMatrix;a[0]*=b,a[1]*=b,a[2]*=c,a[3]*=c,this._originalScale(b,c)},a.transform=function(c,d,e,f,g,h){var b=this._transformMatrix;this._transformMatrix=[b[0]*c+b[2]*d,b[1]*c+b[3]*d,b[0]*e+b[2]*f,b[1]*e+b[3]*f,b[0]*g+b[2]*h+b[4],b[1]*g+b[3]*h+b[5]],a._originalTransform(c,d,e,f,g,h)},a.setTransform=function(b,c,d,e,f,g){this._transformMatrix=[b,c,d,e,f,g],a._originalSetTransform(b,c,d,e,f,g)},a.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],a._originalResetTransform()},a.rotate=function(d){var b=Math.cos(d),c=Math.sin(d),a=this._transformMatrix;this._transformMatrix=[a[0]*b+a[2]*c,a[1]*b+a[3]*c,-(a[0]*c)+a[2]*b,-(a[1]*c)+a[3]*b,a[4],a[5]],this._originalRotate(d)}}}var E=function(){function a(b){k(this,a),this.canvasFactory=b,this.cache=Object.create(null)}return m(a,[{key:"getCanvas",value:function(b,c,d,e){var a;return void 0!==this.cache[b]?(a=this.cache[b],this.canvasFactory.reset(a,c,d),a.context.setTransform(1,0,0,1,0,0)):(a=this.canvasFactory.create(c,d),this.cache[b]=a),e&&D(a.context),a}},{key:"clear",value:function(){for(var a in this.cache){var b=this.cache[a];this.canvasFactory.destroy(b),delete this.cache[a]}}}]),a}();function F(o){var d,r,f,i,s=1e3,t=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),k=o.width,m=o.height,h=k+1,e=new Uint8Array(h*(m+1)),j=k+7& -8,u=o.data,b=new Uint8Array(j*m),a=0;for(d=0,r=u.length;d<r;d++)for(var x=u[d],p=128;p>0;)b[a++]=x&p?0:255,p>>=1;var g=0;for(0!==b[a=0]&&(e[0]=1,++g),f=1;f<k;f++)b[a]!==b[a+1]&&(e[f]=b[a]?2:1,++g),a++;for(0!==b[a]&&(e[f]=2,++g),d=1;d<m;d++){a=d*j,i=d*h,b[a-j]!==b[a]&&(e[i]=b[a]?1:8,++g);var q=(b[a]?4:0)+(b[a-j]?8:0);for(f=1;f<k;f++)t[q=(q>>2)+(b[a+1]?4:0)+(b[a-j+1]?8:0)]&&(e[i+f]=t[q],++g),a++;if(b[a-j]!==b[a]&&(e[i+f]=b[a]?2:4,++g),g>s)return null}for(a=j*(m-1),i=d*h,0!==b[a]&&(e[i]=8,++g),f=1;f<k;f++)b[a]!==b[a+1]&&(e[i+f]=b[a]?4:8,++g),a++;if(0!==b[a]&&(e[i+f]=4,++g),g>s)return null;var y=new Int32Array([0,h,-1,0,-h,0,0,0,1]),z=[];for(d=0;g&&d<=m;d++){for(var c=d*h,v=c+k;c<v&&!e[c];)c++;if(c!==v){var w=[c%h,d],A=c,l=e[c];do{var B=y[l];do c+=B;while(!e[c])var n=e[c];5!==n&&10!==n?(l=n,e[c]=0):(l=n&51*l>>4,e[c]&=l>>2|l<<2),w.push(c%h,c/h|0),!e[c]&& --g}while(A!==c)z.push(w),--d}}return function(a){a.save(),a.scale(1/k,-1/m),a.translate(0,-m),a.beginPath();for(var d=0,e=z.length;d<e;d++){var b=z[d];a.moveTo(b[0],b[1]);for(var c=2,f=b.length;c<f;c+=2)a.lineTo(b[c],b[c+1])}a.fill(),a.beginPath(),a.restore()}}var G=function(){function a(b,c){k(this,a),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=e.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=e.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=e.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,b,c])}return m(a,[{key:"clone",value:function(){var a=Object.create(this);return a.clipBox=this.clipBox.slice(),a}},{key:"setCurrentPoint",value:function(a,b){this.x=a,this.y=b}},{key:"updatePathMinMax",value:function(d,a,b){var f=e.Util.applyTransform([a,b],d),c=n(f,2);a=c[0],b=c[1],this.minX=Math.min(this.minX,a),this.minY=Math.min(this.minY,b),this.maxX=Math.max(this.maxX,a),this.maxY=Math.max(this.maxY,b)}},{key:"updateCurvePathMinMax",value:function(b,c,d,f,g,h,i,j,k){var a=e.Util.bezierBoundingBox(c,d,f,g,h,i,j,k);this.updatePathMinMax(b,a[0],a[1]),this.updatePathMinMax(b,a[2],a[3])}},{key:"getPathBoundingBox",value:function(){var h=arguments.length>0&& void 0!==arguments[0]?arguments[0]:g.PathType.FILL,b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null,a=[this.minX,this.minY,this.maxX,this.maxY];if(h===g.PathType.STROKE){b||(0,e.unreachable)("Stroke bounding box must include transform.");var c=e.Util.singularValueDecompose2dScale(b),d=c[0]*this.lineWidth/2,f=c[1]*this.lineWidth/2;a[0]-=d,a[1]-=f,a[2]+=d,a[3]+=f}return a}},{key:"updateClipFromPath",value:function(){var a=e.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(a||[0,0,0,0])}},{key:"startNewPathAndClipBox",value:function(a){this.clipBox=a,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}},{key:"getClippedPathBoundingBox",value:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:g.PathType.FILL,b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null;return e.Util.intersect(this.clipBox,this.getPathBoundingBox(a,b))}}]),a}();function H(v,o){var c,p,B,j,k,l,m,w,n=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof ImageData&&o instanceof ImageData){v.putImageData(o,0,0);return}var b,F=o.height,u=o.width,x=F%A,y=(F-x)/A,E=0===x?y:y+1,z=v.createImageData(u,A),d=0,q=o.data,a=z.data;if(n)switch(n.length){case 1:k=n[0],l=n[0],m=n[0],w=n[0];break;case 4:k=n[0],l=n[1],m=n[2],w=n[3]}if(o.kind===e.ImageKind.GRAYSCALE_1BPP){var K=q.byteLength,f=new Uint32Array(a.buffer,0,a.byteLength>>2),L=f.length,M=u+7>>3,g=4294967295,h=e.IsLittleEndianCached.value?4278190080:255;if(w&&255===w[0]&&0===w[255]){var G=[h,g];g=G[0],h=G[1]}for(c=0;c<E;c++){for(p=0,B=c<y?A:x,b=0;p<B;p++){for(var H=K-d,C=0,I=H>M?u:8*H-7,N=-8&I,D=0,i=0;C<N;C+=8)i=q[d++],f[b++]=128&i?g:h,f[b++]=64&i?g:h,f[b++]=32&i?g:h,f[b++]=16&i?g:h,f[b++]=8&i?g:h,f[b++]=4&i?g:h,f[b++]=2&i?g:h,f[b++]=1&i?g:h;for(;C<I;C++)0===D&&(i=q[d++],D=128),f[b++]=i&D?g:h,D>>=1}for(;b<L;)f[b++]=0;v.putImageData(z,0,c*A)}}else if(o.kind===e.ImageKind.RGBA_32BPP){var J=!!(k||l||m);for(c=0,p=0,j=u*A*4;c<y;c++){if(a.set(q.subarray(d,d+j)),d+=j,J)for(var r=0;r<j;r+=4)k&&(a[r+0]=k[a[r+0]]),l&&(a[r+1]=l[a[r+1]]),m&&(a[r+2]=m[a[r+2]]);v.putImageData(z,0,p),p+=A}if(c<E){if(j=u*x*4,a.set(q.subarray(d,d+j)),J)for(var s=0;s<j;s+=4)k&&(a[s+0]=k[a[s+0]]),l&&(a[s+1]=l[a[s+1]]),m&&(a[s+2]=m[a[s+2]]);v.putImageData(z,0,p)}}else if(o.kind===e.ImageKind.RGB_24BPP){var O=!!(k||l||m);for(c=0,j=u*(B=A);c<E;c++){for(c>=y&&(j=u*(B=x)),b=0,p=j;p--;)a[b++]=q[d++],a[b++]=q[d++],a[b++]=q[d++],a[b++]=255;if(O)for(var t=0;t<b;t+=4)k&&(a[t+0]=k[a[t+0]]),l&&(a[t+1]=l[a[t+1]]),m&&(a[t+2]=m[a[t+2]]);v.putImageData(z,0,c*A)}}else throw Error("bad image kind: ".concat(o.kind))}function I(f,c){for(var g=c.height,h=c.width,d=g%A,e=(g-d)/A,n=0===d?e:e+1,i=f.createImageData(h,A),o=0,p=c.data,q=i.data,a=0;a<n;a++){for(var r=a<e?A:d,j=3,k=0;k<r;k++)for(var l=void 0,b=0,m=0;m<h;m++)b||(l=p[o++],b=128),q[j]=l&b?0:255,j+=4,b>>=1;f.putImageData(i,0,a*A)}}function J(a,b){for(var e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],c=0,f=e.length;c<f;c++){var d=e[c];void 0!==a[d]&&(b[d]=a[d])}void 0!==a.setLineDash&&(b.setLineDash(a.getLineDash()),b.lineDashOffset=a.lineDashOffset)}function K(a){a.strokeStyle="#000000",a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",void 0!==a.setLineDash&&(a.setLineDash([]),a.lineDashOffset=0)}function L(b,e,f,g){for(var h=b.length,a=3;a<h;a+=4){var c=b[a];if(0===c)b[a-3]=e,b[a-2]=f,b[a-1]=g;else if(c<255){var d=255-c;b[a-3]=b[a-3]*c+e*d>>8,b[a-2]=b[a-2]*c+f*d>>8,b[a-1]=b[a-1]*c+g*d>>8}}}function M(b,c,d){for(var e=b.length,f=1/255,a=3;a<e;a+=4){var g=d?d[b[a]]:b[a];c[a]=c[a]*g*f|0}}function N(b,c,d){for(var f=b.length,a=3;a<f;a+=4){var e=77*b[a-3]+152*b[a-2]+28*b[a-1];c[a]=d?c[a]*d[e>>8]>>8:c[a]*e>>16}}function O(n,h,d,e,o,b,p,f,g,q,r){var i,c=!!b,s=c?b[0]:0,t=c?b[1]:0,u=c?b[2]:0;i="Luminosity"===o?N:M;for(var v=1048576,j=Math.min(e,Math.ceil(v/d)),a=0;a<e;a+=j){var k=Math.min(j,e-a),l=n.getImageData(f-q,a+(g-r),d,k),m=h.getImageData(f,a+g,d,k);c&&L(l.data,s,t,u),i(l.data,m.data,p),h.putImageData(m,f,a+g)}}function P(a,b,d,c){var e=c[0],f=c[1],g=c[2]-e,h=c[3]-f;0!==g&&0!==h&&(O(b.context,d,g,h,b.subtype,b.backdrop,b.transferMap,e,f,b.offsetX,b.offsetY),a.save(),a.globalAlpha=1,a.globalCompositeOperation="source-over",a.setTransform(1,0,0,1,0,0),a.drawImage(d.canvas,0,0),a.restore())}function Q(d,b){var a=e.Util.singularValueDecompose2dScale(d);a[0]=Math.fround(a[0]),a[1]=Math.fround(a[1]);var c=Math.fround((globalThis.devicePixelRatio||1)*h.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==b?b:!!(a[0]<=c)||!!(a[1]<=c)}var R=["butt","round","square"],S=["miter","round","bevel"],T={},U={},a=function(){function a(b,c,d,e,f,g,h){k(this,a),this.ctx=b,this.current=new G(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=c,this.objs=d,this.canvasFactory=e,this.imageLayer=f,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=g,this.cachedCanvases=new E(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,b&&D(b),this._cachedGetSinglePixelWidth=null}return m(a,[{key:"beginDrawing",value:function(a){var b=a.transform,c=a.viewport,d=a.transparency,i=void 0!==d&&d,e=a.background,j=void 0===e?null:e,f=this.ctx.canvas.width,g=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=j||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,f,g),this.ctx.restore(),i){var h=this.cachedCanvases.getCanvas("transparent",f,g,!0);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),K(this.ctx),b&&(this.ctx.transform.apply(this.ctx,b),this.outputScaleX=b[0],this.outputScaleY=b[0]),this.ctx.transform.apply(this.ctx,c.transform),this.viewportScale=c.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(i,o,b,d){var f=i.argsArray,p=i.fnArray,a=o||0,g=f.length;if(g===a)return a;for(var k=g-a>x&&"function"==typeof b,q=k?Date.now()+w:0,l=0,r=this.commonObjs,s=this.objs;;){if(void 0!==d&&a===d.nextBreakPoint)return d.breakIt(a,b),a;if((u=p[a])!==e.OPS.dependency)this[u].apply(this,f[a]);else{var u,m,c=j(f[a]);try{for(c.s();!(m=c.n()).done;){var h=m.value,n=h.startsWith("g_")?r:s;if(!n.has(h))return n.get(h,b),a}}catch(t){c.e(t)}finally{c.f()}}if(++a===g)return a;if(k&& ++l>x){if(Date.now()>q)return b(),a;l=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||null!==this.current.activeSMask;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function(e,f){for(var j,k,l=e.width,m=e.height,g=Math.max(Math.hypot(f[0],f[1]),1),h=Math.max(Math.hypot(f[2],f[3]),1),a=l,b=m,i="prescale1";g>2&&a>1||h>2&&b>1;){var c=a,d=b;g>2&&a>1&&(c=Math.ceil(a/2),g/=a/c),h>2&&b>1&&(d=Math.ceil(b/2),h/=b/d),(k=(j=this.cachedCanvases.getCanvas(i,c,d)).context).clearRect(0,0,c,d),k.drawImage(e,0,0,a,b,0,0,c,d),e=j.canvas,a=c,b=d,i="prescale1"===i?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:b}}},{key:"_createMaskCanvas",value:function(f){var n=this.ctx,c=f.width,b=f.height,o=this.current.fillColor,r=this.current.patternFill,p=this.cachedCanvases.getCanvas("maskCanvas",c,b);I(p.context,f);var s=n.mozCurrentTransform,d=e.Util.transform(s,[1/c,0,0,-1/b,0,0]);d=e.Util.transform(d,[1,0,0,1,0,-b]);var h=e.Util.applyTransform([0,0],d),i=e.Util.applyTransform([c,b],d),j=e.Util.normalizeRect([h[0],h[1],i[0],i[1]]),t=Math.ceil(j[2]-j[0]),u=Math.ceil(j[3]-j[1]),q=this.cachedCanvases.getCanvas("fillCanvas",t,u,!0),a=q.context,k=Math.min(h[0],i[0]),l=Math.min(h[1],i[1]);a.translate(-k,-l),a.transform.apply(a,d);var m=this._scaleImage(p.canvas,a.mozCurrentTransformInverse);a.imageSmoothingEnabled=Q(a.mozCurrentTransform,f.interpolate),a.drawImage(m.img,0,0,m.img.width,m.img.height,0,0,c,b),a.globalCompositeOperation="source-in";var v=e.Util.transform(a.mozCurrentTransformInverse,[1,0,0,1,-k,-l]);return a.fillStyle=r?o.getPattern(n,this,v,g.PathType.FILL):o,a.fillRect(0,0,c,b),{canvas:q.canvas,offsetX:Math.round(k),offsetY:Math.round(l)}}},{key:"setLineWidth",value:function(a){this.current.lineWidth=a,this.ctx.lineWidth=a}},{key:"setLineCap",value:function(a){this.ctx.lineCap=R[a]}},{key:"setLineJoin",value:function(a){this.ctx.lineJoin=S[a]}},{key:"setMiterLimit",value:function(a){this.ctx.miterLimit=a}},{key:"setDash",value:function(b,c){var a=this.ctx;void 0!==a.setLineDash&&(a.setLineDash(b),a.lineDashOffset=c)}},{key:"setRenderingIntent",value:function(a){}},{key:"setFlatness",value:function(a){}},{key:"setGState",value:function(d){for(var c=0,e=d.length;c<e;c++){var b=d[c],f=b[0],a=b[1];switch(f){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=b[1];break;case"ca":this.current.fillAlpha=b[1],this.ctx.globalAlpha=b[1];break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=a}}}},{key:"checkSMaskState",value:function(){var a=!!this.suspendedCtx;this.current.activeSMask&&!a?this.beginSMaskMode():!this.current.activeSMask&&a&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function(){if(this.suspendedCtx)throw Error("beginSMaskMode called while already in smask mode");var b=this.ctx.canvas.width,c=this.ctx.canvas.height,d="smaskGroupAt"+this.groupLevel,e=this.cachedCanvases.getCanvas(d,b,c,!0);this.suspendedCtx=this.ctx,this.ctx=e.context;var a=this.ctx;a.setTransform.apply(a,this.suspendedCtx.mozCurrentTransform),J(this.suspendedCtx,a),C(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function(){if(!this.suspendedCtx)throw Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),J(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.current.activeSMask=null,this.suspendedCtx=null}},{key:"compose",value:function(a){if(this.current.activeSMask){a?(a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.ceil(a[2]),a[3]=Math.ceil(a[3])):a=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];var c,b=this.current.activeSMask;P(this.suspendedCtx,b,this.ctx,a),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}}},{key:"save",value:function(){this.ctx.save();var a=this.current;this.stateStack.push(a),this.current=a.clone()}},{key:"restore",value:function(){0===this.stateStack.length&&this.current.activeSMask&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}},{key:"transform",value:function(a,b,c,d,e,f){this.ctx.transform(a,b,c,d,e,f),this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(m,b){for(var h,i,f=this.ctx,g=this.current,c=g.x,d=g.y,l=0,a=0,p=m.length;l<p;l++)switch(0|m[l]){case e.OPS.rectangle:c=b[a++],d=b[a++];var n=b[a++],o=b[a++],j=c+n,k=d+o;f.moveTo(c,d),0===n||0===o?f.lineTo(j,k):(f.lineTo(j,d),f.lineTo(j,k),f.lineTo(c,k)),g.updatePathMinMax(f.mozCurrentTransform,c,d),g.updatePathMinMax(f.mozCurrentTransform,j,k),f.closePath();break;case e.OPS.moveTo:c=b[a++],d=b[a++],f.moveTo(c,d),g.updatePathMinMax(f.mozCurrentTransform,c,d);break;case e.OPS.lineTo:c=b[a++],d=b[a++],f.lineTo(c,d),g.updatePathMinMax(f.mozCurrentTransform,c,d);break;case e.OPS.curveTo:h=c,i=d,c=b[a+4],d=b[a+5],f.bezierCurveTo(b[a],b[a+1],b[a+2],b[a+3],c,d),g.updateCurvePathMinMax(f.mozCurrentTransform,h,i,b[a],b[a+1],b[a+2],b[a+3],c,d),a+=6;break;case e.OPS.curveTo2:h=c,i=d,f.bezierCurveTo(c,d,b[a],b[a+1],b[a+2],b[a+3]),g.updateCurvePathMinMax(f.mozCurrentTransform,h,i,c,d,b[a],b[a+1],b[a+2],b[a+3]),c=b[a+2],d=b[a+3],a+=4;break;case e.OPS.curveTo3:h=c,i=d,c=b[a+2],d=b[a+3],f.bezierCurveTo(b[a],b[a+1],c,d,c,d),g.updateCurvePathMinMax(f.mozCurrentTransform,h,i,b[a],b[a+1],c,d,c,d),a+=4;break;case e.OPS.closePath:f.closePath()}g.setCurrentPoint(c,d)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(b){b=void 0===b||b;var a=this.ctx,c=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible){if("object"===i(c)&&null!=c&&c.getPattern){var e=this.getSinglePixelWidth();a.save(),a.strokeStyle=c.getPattern(a,this,a.mozCurrentTransformInverse,g.PathType.STROKE),a.lineWidth=Math.max(e,this.current.lineWidth),a.stroke(),a.restore()}else{var d=this.getSinglePixelWidth();d<0&& -d>=this.current.lineWidth?(a.save(),a.resetTransform(),a.lineWidth=Math.round(this._combinedScaleFactor),a.stroke(),a.restore()):(a.lineWidth=Math.max(d,this.current.lineWidth),a.stroke())}}b&&this.consumePath(this.current.getClippedPathBoundingBox()),a.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(b){b=void 0===b||b;var a=this.ctx,e=this.current.fillColor,f=this.current.patternFill,c=!1;f&&(a.save(),a.fillStyle=e.getPattern(a,this,a.mozCurrentTransformInverse,g.PathType.FILL),c=!0);var d=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==d&&(this.pendingEOFill?(a.fill("evenodd"),this.pendingEOFill=!1):a.fill()),c&&a.restore(),b&&this.consumePath(d)}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=T}},{key:"eoClip",value:function(){this.pendingClip=U}},{key:"beginText",value:function(){this.current.textMatrix=e.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var c=this.pendingTextPaths,a=this.ctx;if(void 0===c){a.beginPath();return}a.save(),a.beginPath();for(var d=0;d<c.length;d++){var b=c[d];a.setTransform.apply(a,b.transform),a.translate(b.x,b.y),b.addToPath(a,b.fontSize)}a.restore(),a.clip(),a.beginPath(),delete this.pendingTextPaths}},{key:"setCharSpacing",value:function(a){this.current.charSpacing=a}},{key:"setWordSpacing",value:function(a){this.current.wordSpacing=a}},{key:"setHScale",value:function(a){this.current.textHScale=a/100}},{key:"setLeading",value:function(a){this.current.leading=-a}},{key:"setFont",value:function(f,b){var a=this.commonObjs.get(f),c=this.current;if(!a)throw Error("Can't find font for ".concat(f));if(c.fontMatrix=a.fontMatrix||e.FONT_IDENTITY_MATRIX,(0===c.fontMatrix[0]||0===c.fontMatrix[3])&&(0,e.warn)("Invalid font matrix for font "+f),b<0?(b=-b,c.fontDirection=-1):c.fontDirection=1,this.current.font=a,this.current.fontSize=b,!a.isType3Font){var h=a.loadedName||"sans-serif",g="normal";a.black?g="900":a.bold&&(g="bold");var i=a.italic?"italic":"normal",j='"'.concat(h,'", ').concat(a.fallbackName),d=b;b<t?d=t:b>u&&(d=u),this.current.fontSizeScale=b/d,this.ctx.font="".concat(i," ").concat(g," ").concat(d,"px ").concat(j)}}},{key:"setTextRenderingMode",value:function(a){this.current.textRenderingMode=a}},{key:"setTextRise",value:function(a){this.current.textRise=a}},{key:"moveText",value:function(a,b){this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=b}},{key:"setLeadingMoveText",value:function(b,a){this.setLeading(-a),this.moveText(b,a)}},{key:"setTextMatrix",value:function(a,b,c,d,e,f){this.current.textMatrix=[a,b,c,d,e,f],this.current.textMatrixScale=Math.hypot(a,b),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(g,c,d,j,k){var i,a=this.ctx,f=this.current,h=f.font,l=f.textRenderingMode,m=f.fontSize/f.fontSizeScale,b=l&e.TextRenderingMode.FILL_STROKE_MASK,n=!!(l&e.TextRenderingMode.ADD_TO_PATH_FLAG),o=f.patternFill&&!h.missingFile;(h.disableFontFace||n||o)&&(i=h.getPathGenerator(this.commonObjs,g)),h.disableFontFace||o?(a.save(),a.translate(c,d),a.beginPath(),i(a,m),j&&a.setTransform.apply(a,j),(b===e.TextRenderingMode.FILL||b===e.TextRenderingMode.FILL_STROKE)&&a.fill(),(b===e.TextRenderingMode.STROKE||b===e.TextRenderingMode.FILL_STROKE)&&(k&&(a.resetTransform(),a.lineWidth=Math.round(this._combinedScaleFactor)),a.stroke()),a.restore()):((b===e.TextRenderingMode.FILL||b===e.TextRenderingMode.FILL_STROKE)&&a.fillText(g,c,d),(b===e.TextRenderingMode.STROKE||b===e.TextRenderingMode.FILL_STROKE)&&(k?(a.save(),a.moveTo(c,d),a.resetTransform(),a.lineWidth=Math.round(this._combinedScaleFactor),a.strokeText(g,0,0),a.restore()):a.strokeText(g,c,d))),n&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:a.mozCurrentTransform,x:c,y:d,fontSize:m,addToPath:i})}},{key:"isFontSubpixelAAEnabled",get:function(){var b=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;b.scale(1.5,1),b.fillText("I",0,10);for(var c=b.getImageData(0,0,10,10).data,d=!1,a=3;a<c.length;a+=4)if(c[a]>0&&c[a]<255){d=!0;break}return(0,e.shadow)(this,"isFontSubpixelAAEnabled",d)}},{key:"showText",value:function(u){var a=this.current,j=a.font;if(j.isType3Font)return this.showType3Text(u);var h=a.fontSize;if(0!==h){var b=this.ctx,c=a.fontSizeScale,E=a.charSpacing,F=a.wordSpacing,o=a.fontDirection,v=a.textHScale*o,G=u.length,p=j.vertical,H=p?1:-1,I=j.defaultVMetrics,q=h*a.fontMatrix[0],J=a.textRenderingMode===e.TextRenderingMode.FILL&&!j.disableFontFace&&!a.patternFill;if(b.save(),b.transform.apply(b,a.textMatrix),b.translate(a.x,a.y+a.textRise),o>0?b.scale(v,-1):b.scale(v,1),a.patternFill){b.save();var K=a.fillColor.getPattern(b,this,b.mozCurrentTransformInverse,g.PathType.FILL);A=b.mozCurrentTransform,b.restore(),b.fillStyle=K}var l=a.lineWidth,w=!1,y=a.textMatrixScale;if(0===y||0===l){var z=a.textRenderingMode&e.TextRenderingMode.FILL_STROKE_MASK;(z===e.TextRenderingMode.STROKE||z===e.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,w=(l=this.getSinglePixelWidth())<0)}else l/=y;1!==c&&(b.scale(c,c),l/=c),b.lineWidth=l;var A,r,k=0;for(r=0;r<G;++r){var f=u[r];if((0,e.isNum)(f)){k+=H*f*h/1e3;continue}var B=!1,C=(f.isSpace?F:0)+E,x=f.fontChar,m=f.accent,i=void 0,n=void 0,d=f.width;if(p){var s=f.vmetric||I,L=-(f.vmetric?s[1]:.5*d)*q,M=s[2]*q;d=s?-s[0]:d,i=L/c,n=(k+M)/c}else i=k/c,n=0;if(j.remeasure&&d>0){var t=1e3*b.measureText(x).width/h*c;if(d<t&&this.isFontSubpixelAAEnabled){var D=d/t;B=!0,b.save(),b.scale(D,1),i/=D}else d!==t&&(i+=(d-t)/2e3*h/c)}if(this.contentVisible&&(f.isInFont||j.missingFile)){if(J&&!m)b.fillText(x,i,n);else if(this.paintChar(x,i,n,A,w),m){var N=i+h*m.offset.x/c,O=n-h*m.offset.y/c;this.paintChar(m.fontChar,N,O,A,w)}}var P=void 0;k+=P=p?d*q-C*o:d*q+C*o,B&&b.restore()}p?a.y-=k:a.x+=k*v,b.restore(),this.compose()}}},{key:"showType3Text",value:function(j){var f,c,g,h,b=this.ctx,a=this.current,k=a.font,d=a.fontSize,l=a.fontDirection,o=k.vertical?1:-1,p=a.charSpacing,q=a.wordSpacing,i=a.textHScale*l,m=a.fontMatrix||e.FONT_IDENTITY_MATRIX,r=j.length,s=a.textRenderingMode===e.TextRenderingMode.INVISIBLE;if(!s&&0!==d){for(this._cachedGetSinglePixelWidth=null,b.save(),b.transform.apply(b,a.textMatrix),b.translate(a.x,a.y),b.scale(i,l),f=0;f<r;++f){if(c=j[f],(0,e.isNum)(c)){h=o*c*d/1e3,this.ctx.translate(h,0),a.x+=h*i;continue}var t=(c.isSpace?q:0)+p,n=k.charProcOperatorList[c.operatorListId];if(!n){(0,e.warn)('Type3 character "'.concat(c.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=c,this.save(),b.scale(d,d),b.transform.apply(b,m),this.executeOperatorList(n),this.restore()),g=e.Util.applyTransform([c.width,0],m)[0]*d+t,b.translate(g,0),a.x+=g*i}b.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(a,b){}},{key:"setCharWidthAndBounds",value:function(e,f,a,b,c,d){this.ctx.rect(a,b,c-a,d-b),this.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(b){var c,h=this;if("TilingPattern"===b[0]){var d=b[1],e=this.baseTransform||this.ctx.mozCurrentTransform.slice(),f={createCanvasGraphics:function(b){return new a(b,h.commonObjs,h.objs,h.canvasFactory)}};c=new g.TilingPattern(b,d,this.ctx,f,e)}else c=this._getPattern(b[1],b[2]);return c}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(b,c,d){var a=e.Util.makeHexColor(b,c,d);this.ctx.strokeStyle=a,this.current.strokeColor=a}},{key:"setFillRGBColor",value:function(b,c,d){var a=e.Util.makeHexColor(b,c,d);this.ctx.fillStyle=a,this.current.fillColor=a,this.current.patternFill=!1}},{key:"_getPattern",value:function(b){var a,c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(b)?a=this.cachedPatterns.get(b):(a=(0,g.getShadingPattern)(this.objs.get(b)),this.cachedPatterns.set(b,a)),c&&(a.matrix=c),a}},{key:"shadingFill",value:function(n){if(this.contentVisible){var a=this.ctx;this.save();var o=this._getPattern(n);a.fillStyle=o.getPattern(a,this,a.mozCurrentTransformInverse,g.PathType.SHADING);var b=a.mozCurrentTransformInverse;if(b){var i=a.canvas,j=i.width,k=i.height,c=e.Util.applyTransform([0,0],b),d=e.Util.applyTransform([0,k],b),f=e.Util.applyTransform([j,0],b),h=e.Util.applyTransform([j,k],b),l=Math.min(c[0],d[0],f[0],h[0]),m=Math.min(c[1],d[1],f[1],h[1]),p=Math.max(c[0],d[0],f[0],h[0]),q=Math.max(c[1],d[1],f[1],h[1]);this.ctx.fillRect(l,m,p-l,q-m)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}}},{key:"beginInlineImage",value:function(){(0,e.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,e.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(b,a){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(b)&&6===b.length&&this.transform.apply(this,b),this.baseTransform=this.ctx.mozCurrentTransform,a)){var c=a[2]-a[0],d=a[3]-a[1];this.ctx.rect(a[0],a[1],c,d),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,a[0],a[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,a[2],a[3]),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(b){if(this.contentVisible){this.save();var n=this.suspendedCtx;this.current.activeSMask&&(this.suspendedCtx=null,this.current.activeSMask=null);var a=this.ctx;b.isolated||(0,e.info)("TODO: Support non-isolated groups."),b.knockout&&(0,e.warn)("Knockout groups not supported.");var o=a.mozCurrentTransform;if(b.matrix&&a.transform.apply(a,b.matrix),!b.bbox)throw Error("Bounding box is required.");var d=e.Util.getAxialAlignedBoundingBox(b.bbox,a.mozCurrentTransform),p=[0,0,a.canvas.width,a.canvas.height],h=Math.floor((d=e.Util.intersect(d,p)||[0,0,0,0])[0]),i=Math.floor(d[1]),f=Math.max(Math.ceil(d[2])-h,1),g=Math.max(Math.ceil(d[3])-i,1),j=1,k=1;f>v&&(j=f/v,f=v),g>v&&(k=g/v,g=v),this.current.startNewPathAndClipBox([0,0,f,g]);var l="groupAt"+this.groupLevel;b.smask&&(l+="_smask_"+(this.smaskCounter++)%2);var m=this.cachedCanvases.getCanvas(l,f,g,!0),c=m.context;c.scale(1/j,1/k),c.translate(-h,-i),c.transform.apply(c,o),b.smask?this.smaskStack.push({canvas:m.canvas,context:c,offsetX:h,offsetY:i,scaleX:j,scaleY:k,subtype:b.smask.subtype,backdrop:b.smask.backdrop,transferMap:b.smask.transferMap||null,startTransformInverse:null}):(a.setTransform(1,0,0,1,0,0),a.translate(h,i),a.scale(j,k),a.save()),J(a,c),this.ctx=c,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push({ctx:a,suspendedCtx:n}),this.groupLevel++}}},{key:"endGroup",value:function(f){if(this.contentVisible){this.groupLevel--;var a=this.ctx,b=this.groupStack.pop(),g=b.ctx,c=b.suspendedCtx;if(this.ctx=g,this.ctx.imageSmoothingEnabled=!1,c&&(this.suspendedCtx=c),f.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();var d=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,d);var h=e.Util.getAxialAlignedBoundingBox([0,0,a.canvas.width,a.canvas.height],d);this.ctx.drawImage(a.canvas,0,0),this.ctx.restore(),this.compose(h)}}}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(k,a,b,l,m){if(this.save(),Array.isArray(a)&&4===a.length){var d=a[2]-a[0],c=a[3]-a[1];if(m&&this.annotationCanvasMap){b=b.slice(),b[4]-=a[0],b[5]-=a[1],(a=a.slice())[0]=a[1]=0,a[2]=d,a[3]=c;var g=n(e.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),2),o=g[0],h=g[1],i=this.viewportScale,p=Math.ceil(d*this.outputScaleX*i),q=Math.ceil(c*this.outputScaleY*i);this.annotationCanvas=this.canvasFactory.create(p,q);var j=this.annotationCanvas,f=j.canvas,r=j.context;f.style.width="calc(".concat(d,"px * var(--viewport-scale-factor))"),f.style.height="calc(".concat(c,"px * var(--viewport-scale-factor))"),this.annotationCanvasMap.set(k,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=r,this.ctx.setTransform(o,0,0,-h,0,c*h),D(this.ctx),K(this.ctx)}else K(this.ctx),this.ctx.rect(a[0],a[1],d,c),this.clip(),this.endPath()}this.current=new G(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,b),this.transform.apply(this,l)}},{key:"endAnnotation",value:function(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}},{key:"paintImageMaskXObject",value:function(c){if(this.contentVisible){var b=this.ctx,e=c.width,f=c.height,a=this.processingType3;if(y&&a&& void 0===a.compiled&&(e<=z&&f<=z?a.compiled=F({data:c.data,width:e,height:f}):a.compiled=null),null!=a&&a.compiled){a.compiled(b);return}var d=this._createMaskCanvas(c),g=d.canvas;b.save(),b.setTransform(1,0,0,1,0,0),b.drawImage(g,d.offsetX,d.offsetY),b.restore(),this.compose()}}},{key:"paintImageMaskXObjectRepeat",value:function(j,d){var f=arguments.length>2&& void 0!==arguments[2]?arguments[2]:0,g=arguments.length>3&& void 0!==arguments[3]?arguments[3]:0,h=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var a=this.ctx;a.save();var k=a.mozCurrentTransform;a.transform(d,f,g,h,0,0);var l=this._createMaskCanvas(j);a.setTransform(1,0,0,1,0,0);for(var b=0,m=c.length;b<m;b+=2){var o=e.Util.transform(k,[d,f,g,h,c[b],c[b+1]]),p=e.Util.applyTransform([0,0],o),i=n(p,2),q=i[0],r=i[1];a.drawImage(l.canvas,q,r)}a.restore(),this.compose()}}},{key:"paintImageMaskXObjectGroup",value:function(h){if(this.contentVisible){for(var a=this.ctx,i=this.current.fillColor,k=this.current.patternFill,d=0,l=h.length;d<l;d++){var c=h[d],e=c.width,f=c.height,j=this.cachedCanvases.getCanvas("maskCanvas",e,f),b=j.context;b.save(),I(b,c),b.globalCompositeOperation="source-in",b.fillStyle=k?i.getPattern(b,this,a.mozCurrentTransformInverse,g.PathType.FILL):i,b.fillRect(0,0,e,f),b.restore(),a.save(),a.transform.apply(a,c.transform),a.scale(1,-1),a.drawImage(j.canvas,0,0,e,f,0,-1,1,1),a.restore()}this.compose()}}},{key:"paintImageXObject",value:function(a){if(this.contentVisible){var b=a.startsWith("g_")?this.commonObjs.get(a):this.objs.get(a);if(!b){(0,e.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(b)}}},{key:"paintImageXObjectRepeat",value:function(c,g,h,d){if(this.contentVisible){var a=c.startsWith("g_")?this.commonObjs.get(c):this.objs.get(c);if(!a){(0,e.warn)("Dependent image isn't ready yet");return}for(var i=a.width,j=a.height,f=[],b=0,k=d.length;b<k;b+=2)f.push({transform:[g,0,0,h,d[b],d[b+1]],x:0,y:0,w:i,h:j});this.paintInlineImageXObjectGroup(a,f)}}},{key:"paintInlineImageXObject",value:function(a){if(this.contentVisible){var e,d=a.width,c=a.height,b=this.ctx;if(this.save(),b.scale(1/d,-1/c),"function"==typeof HTMLElement&&a instanceof HTMLElement||!a.data)e=a;else{var g=this.cachedCanvases.getCanvas("inlineImage",d,c);H(g.context,a,this.current.transferMaps),e=g.canvas}var f=this._scaleImage(e,b.mozCurrentTransformInverse);if(b.imageSmoothingEnabled=Q(b.mozCurrentTransform,a.interpolate),b.drawImage(f.img,0,0,f.paintWidth,f.paintHeight,0,-c,d,c),this.imageLayer){var h=this.getCanvasPosition(0,-c);this.imageLayer.appendImage({imgData:a,left:h[0],top:h[1],width:d/b.mozCurrentTransformInverse[0],height:c/b.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(c,e){if(this.contentVisible){var k,b=this.ctx,f=c.width,g=c.height,h=this.cachedCanvases.getCanvas("inlineImage",f,g);H(h.context,c,this.current.transferMaps);for(var d=0,j=e.length;d<j;d++){var a=e[d];if(b.save(),b.transform.apply(b,a.transform),b.scale(1,-1),b.drawImage(h.canvas,a.x,a.y,a.w,a.h,0,-1,1,1),this.imageLayer){var i=this.getCanvasPosition(a.x,a.y);this.imageLayer.appendImage({imgData:c,left:i[0],top:i[1],width:f,height:g})}b.restore()}this.compose()}}},{key:"paintSolidColorImageMask",value:function(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}},{key:"markPoint",value:function(a){}},{key:"markPointProps",value:function(a,b){}},{key:"beginMarkedContent",value:function(a){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(a,b){"OC"===a?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(b)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(b){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(b);var a=this.ctx;this.pendingClip&&(this.pendingClip===U?a.clip("evenodd"):a.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),a.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(null===this._cachedGetSinglePixelWidth){var a=this.ctx.mozCurrentTransform,c=Math.abs(a[0]*a[3]-a[2]*a[1]),d=Math.pow(a[0],2)+Math.pow(a[2],2),e=Math.pow(a[1],2)+Math.pow(a[3],2),b=Math.sqrt(Math.max(d,e))/c;d!==e&&this._combinedScaleFactor*b>1?this._cachedGetSinglePixelWidth=-(this._combinedScaleFactor*b):c>Number.EPSILON?this._cachedGetSinglePixelWidth=b:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth}},{key:"getCanvasPosition",value:function(b,c){var a=this.ctx.mozCurrentTransform;return[a[0]*b+a[2]*c+a[4],a[1]*b+a[3]*c+a[5]]}},{key:"isContentVisible",value:function(){for(var a=this.markedContentStack.length-1;a>=0;a--)if(!this.markedContentStack[a].visible)return!1;return!0}}]),a}();for(var d in b.CanvasGraphics=a,e.OPS)void 0!==a.prototype[d]&&(a.prototype[e.OPS[d]]=a.prototype[d])},(f,a,c)=>{"use strict";function g(a){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}Object.defineProperty(a,"__esModule",{value:!0}),a.TilingPattern=a.PathType=void 0,a.getShadingPattern=B;var h=c(4);function i(a,d){var b="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!b){if(Array.isArray(a)||(b=j(a))||d&&a&&"number"==typeof a.length){b&&(a=b);var e=0,c=function(){};return{s:c,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a},f:c}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){b=b.call(a)},n:function(){var a=b.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==b.return||b.return()}finally{if(h)throw f}}}}function j(a,c){if(a){if("string"==typeof a)return k(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return k(a,c)}}function k(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function l(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a&&m(b,a)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function n(a){var b=q();return function(){var c,d=r(a);if(b){var e=r(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return o(this,c)}}function o(b,a){if(a&&("object"===g(a)||"function"==typeof a))return a;if(void 0!==a)throw TypeError("Derived constructors may only return object or undefined");return p(b)}function p(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function q(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function r(a){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function s(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function t(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function u(a,b,c){return b&&t(a.prototype,b),c&&t(a,c),a}var d={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function v(c,a){if(a&&"undefined"!=typeof Path2D){var d=a[2]-a[0],e=a[3]-a[1],b=new Path2D;b.rect(a[0],a[1],d,e),c.clip(b)}}a.PathType=d;var b=function(){function a(){s(this,a),this.constructor===a&&(0,h.unreachable)("Cannot initialize BaseShadingPattern.")}return u(a,[{key:"getPattern",value:function(){(0,h.unreachable)("Abstract method `getPattern` called.")}}]),a}(),w=function(b){l(a,b);var c=n(a);function a(d){var b;return s(this,a),(b=c.call(this))._type=d[1],b._bbox=d[2],b._colorStops=d[3],b._p0=d[4],b._p1=d[5],b._r0=d[6],b._r1=d[7],b.matrix=null,b}return u(a,[{key:"_createGradient",value:function(b){"axial"===this._type?c=b.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(c=b.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var c,d,a=i(this._colorStops);try{for(a.s();!(d=a.n()).done;){var e=d.value;c.addColorStop(e[0],e[1])}}catch(f){a.e(f)}finally{a.f()}return c}},{key:"getPattern",value:function(c,f,g,i){var e;if(i===d.STROKE||i===d.FILL){var b=f.current.getClippedPathBoundingBox(i,c.mozCurrentTransform)||[0,0,0,0],l=Math.ceil(b[2]-b[0])||1,m=Math.ceil(b[3]-b[1])||1,j=f.cachedCanvases.getCanvas("pattern",l,m,!0),a=j.context;a.clearRect(0,0,a.canvas.width,a.canvas.height),a.beginPath(),a.rect(0,0,a.canvas.width,a.canvas.height),a.translate(-b[0],-b[1]),g=h.Util.transform(g,[1,0,0,1,b[0],b[1]]),a.transform.apply(a,f.baseTransform),this.matrix&&a.transform.apply(a,this.matrix),v(a,this._bbox),a.fillStyle=this._createGradient(a),a.fill(),e=c.createPattern(j.canvas,"no-repeat");var n=new DOMMatrix(g);try{e.setTransform(n)}catch(k){(0,h.warn)('RadialAxialShadingPattern.getPattern: "'.concat(null==k?void 0:k.message,'".'))}}else v(c,this._bbox),e=this._createGradient(c);return e}}]),a}(b);function x(H,a,i,d,n,k,g,o){var b,m,q,r,s,t,I,J,K,c=a.coords,h=a.colors,u=H.data,Q=4*H.width;c[i+1]>c[d+1]&&(b=i,i=d,d=b,b=k,k=g,g=b),c[d+1]>c[n+1]&&(b=d,d=n,n=b,b=g,g=o,o=b),c[i+1]>c[d+1]&&(b=i,i=d,d=b,b=k,k=g,g=b);var v=(c[i]+a.offsetX)*a.scaleX,j=(c[i+1]+a.offsetY)*a.scaleY,C=(c[d]+a.offsetX)*a.scaleX,p=(c[d+1]+a.offsetY)*a.scaleY,L=(c[n]+a.offsetX)*a.scaleX,l=(c[n+1]+a.offsetY)*a.scaleY;if(!(j>=l))for(var w=h[k],x=h[k+1],y=h[k+2],D=h[g],E=h[g+1],F=h[g+2],M=h[o],N=h[o+1],O=h[o+2],R=Math.round(j),S=Math.round(l),e=R;e<=S;e++){if(e<p){var z=void 0;m=v-(v-C)*(z=e<j?0:(j-e)/(j-p)),q=w-(w-D)*z,r=x-(x-E)*z,s=y-(y-F)*z}else{var A=void 0;m=C-(C-L)*(A=e>l?1:p===l?0:(p-e)/(p-l)),q=D-(D-M)*A,r=E-(E-N)*A,s=F-(F-O)*A}var f=void 0;t=v-(v-L)*(f=e<j?0:e>l?1:(j-e)/(j-l)),I=w-(w-M)*f,J=x-(x-N)*f,K=y-(y-O)*f;for(var P=Math.round(Math.min(m,t)),T=Math.round(Math.max(m,t)),B=Q*e+4*P,G=P;G<=T;G++)(f=(m-G)/(m-t))<0?f=0:f>1&&(f=1),u[B++]=q-(q-I)*f|0,u[B++]=r-(r-J)*f|0,u[B++]=s-(s-K)*f|0,u[B++]=255}}function y(g,f,h){var a,i,c=f.coords,d=f.colors;switch(f.type){case"lattice":var e=f.verticesPerRow,k=Math.floor(c.length/e)-1,l=e-1;for(a=0;a<k;a++)for(var b=a*e,j=0;j<l;j++,b++)x(g,h,c[b],c[b+1],c[b+e],d[b],d[b+1],d[b+e]),x(g,h,c[b+e+1],c[b+1],c[b+e],d[b+e+1],d[b+1],d[b+e]);break;case"triangles":for(a=0,i=c.length;a<i;a+=3)x(g,h,c[a],c[a+1],c[a+2],d[a],d[a+1],d[a+2]);break;default:throw Error("illegal figure")}}var z=function(b){l(a,b);var c=n(a);function a(d){var b;return s(this,a),(b=c.call(this))._coords=d[2],b._colors=d[3],b._figures=d[4],b._bounds=d[5],b._bbox=d[7],b._background=d[8],b.matrix=null,b}return u(a,[{key:"_createMeshCanvas",value:function(n,d,v){var o=1.1,p=3e3,a=2,f=Math.floor(this._bounds[0]),g=Math.floor(this._bounds[1]),q=Math.ceil(this._bounds[2])-f,r=Math.ceil(this._bounds[3])-g,h=Math.min(Math.ceil(Math.abs(q*n[0]*o)),p),j=Math.min(Math.ceil(Math.abs(r*n[1]*o)),p),k=q/h,l=r/j,w={coords:this._coords,colors:this._colors,offsetX:-f,offsetY:-g,scaleX:1/k,scaleY:1/l},x=h+2*a,z=j+2*a,s=v.getCanvas("mesh",x,z,!1),t=s.context,m=t.createImageData(h,j);if(d)for(var c=m.data,b=0,A=c.length;b<A;b+=4)c[b]=d[0],c[b+1]=d[1],c[b+2]=d[2],c[b+3]=255;var u,e=i(this._figures);try{for(e.s();!(u=e.n()).done;){var B=u.value;y(m,B,w)}}catch(C){e.e(C)}finally{e.f()}return t.putImageData(m,a,a),{canvas:s.canvas,offsetX:f-a*k,offsetY:g-a*l,scaleX:k,scaleY:l}}},{key:"getPattern",value:function(a,e,i,f){if(v(a,this._bbox),f===d.SHADING)c=h.Util.singularValueDecompose2dScale(a.mozCurrentTransform);else if(c=h.Util.singularValueDecompose2dScale(e.baseTransform),this.matrix){var c,g=h.Util.singularValueDecompose2dScale(this.matrix);c=[c[0]*g[0],c[1]*g[1]]}var b=this._createMeshCanvas(c,f===d.SHADING?null:this._background,e.cachedCanvases);return f!==d.SHADING&&(a.setTransform.apply(a,e.baseTransform),this.matrix&&a.transform.apply(a,this.matrix)),a.translate(b.offsetX,b.offsetY),a.scale(b.scaleX,b.scaleY),a.createPattern(b.canvas,"no-repeat")}}]),a}(b),A=function(b){l(a,b);var c=n(a);function a(){return s(this,a),c.apply(this,arguments)}return u(a,[{key:"getPattern",value:function(){return"hotpink"}}]),a}(b);function B(a){switch(a[0]){case"RadialAxial":return new w(a);case"Mesh":return new z(a);case"Dummy":return new A}throw Error("Unknown IR type: ".concat(a[0]))}var C={COLORED:1,UNCOLORED:2},e=function(){function a(b,c,d,e,f){s(this,a),this.operatorList=b[2],this.matrix=b[3]||[1,0,0,1,0,0],this.bbox=b[4],this.xstep=b[5],this.ystep=b[6],this.paintType=b[7],this.tilingType=b[8],this.color=c,this.ctx=d,this.canvasGraphicsFactory=e,this.baseTransform=f}return u(a,[{key:"createPatternCanvas",value:function(j){var r=this.operatorList,b=this.bbox,s=this.xstep,t=this.ystep,u=this.paintType,v=this.tilingType,w=this.color,x=this.canvasGraphicsFactory;(0,h.info)("TilingType: "+v);var g=b[0],i=b[1],y=b[2],z=b[3],k=h.Util.singularValueDecompose2dScale(this.matrix),l=h.Util.singularValueDecompose2dScale(this.baseTransform),m=[k[0]*l[0],k[1]*l[1]],c=this.getSizeAndScale(s,this.ctx.canvas.width,m[0]),d=this.getSizeAndScale(t,this.ctx.canvas.height,m[1]),n=j.cachedCanvases.getCanvas("pattern",c.size,d.size,!0),o=n.context,a=x.createCanvasGraphics(o);a.groupLevel=j.groupLevel,this.setFillAndStrokeStyleToContext(a,u,w);var e=g,f=i,p=y,q=z;return g<0&&(e=0,p+=Math.abs(g)),i<0&&(f=0,q+=Math.abs(i)),o.translate(-(c.scale*e),-(d.scale*f)),a.transform(c.scale,0,0,d.scale,0,0),this.clipBbox(a,e,f,p,q),a.baseTransform=a.ctx.mozCurrentTransform.slice(),a.executeOperatorList(r),a.endDrawing(),{canvas:n.canvas,scaleX:c.scale,scaleY:d.scale,offsetX:e,offsetY:f}}},{key:"getSizeAndScale",value:function(b,f,d){b=Math.abs(b);var e=Math.max(a.MAX_PATTERN_SIZE,f),c=Math.ceil(b*d);return c>=e?c=e:d=c/b,{scale:d,size:c}}},{key:"clipBbox",value:function(a,b,c,d,e){var f=d-b,g=e-c;a.ctx.rect(b,c,f,g),a.clip(),a.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(f,g,e){var a=f.ctx,b=f.current;switch(g){case C.COLORED:var c=this.ctx;a.fillStyle=c.fillStyle,a.strokeStyle=c.strokeStyle,b.fillColor=c.fillStyle,b.strokeColor=c.strokeStyle;break;case C.UNCOLORED:var d=h.Util.makeHexColor(e[0],e[1],e[2]);a.fillStyle=d,a.strokeStyle=d,b.fillColor=d,b.strokeColor=d;break;default:throw new h.FormatError("Unsupported paint type: ".concat(g))}}},{key:"getPattern",value:function(i,e,j,k){var a=j;k!==d.SHADING&&(a=h.Util.transform(a,e.baseTransform),this.matrix&&(a=h.Util.transform(a,this.matrix)));var b=this.createPatternCanvas(e),c=new DOMMatrix(a);c=(c=c.translate(b.offsetX,b.offsetY)).scale(1/b.scaleX,1/b.scaleY);var f=i.createPattern(b.canvas,"repeat");try{f.setTransform(c)}catch(g){(0,h.warn)('TilingPattern.getPattern: "'.concat(null==g?void 0:g.message,'".'))}return f}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,h.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),a}();a.TilingPattern=e},(c,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GlobalWorkerOptions=void 0;var a=Object.create(null);b.GlobalWorkerOptions=a,a.workerPort=void 0===a.workerPort?null:a.workerPort,a.workerSrc=void 0===a.workerSrc?"":a.workerSrc},(d,a,b)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.MessageHandler=void 0;var e=g(b(2)),f=b(4);function g(a){return a&&a.__esModule?a:{default:a}}function h(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function i(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){h(g,e,f,d,i,"next",a)}function i(a){h(g,e,f,d,i,"throw",a)}d(void 0)})}}function j(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function k(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function l(a,b,c){return b&&k(a.prototype,b),c&&k(a,c),a}function m(a){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var n={UNKNOWN:0,DATA:1,ERROR:2},o={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function p(a){if(!(a instanceof Error||"object"===m(a)&&null!==a))return(0,f.warn)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a;switch(a.name){case"AbortException":return new f.AbortException(a.message);case"MissingPDFException":return new f.MissingPDFException(a.message);case"PasswordException":return new f.PasswordException(a.message,a.code);case"UnexpectedResponseException":return new f.UnexpectedResponseException(a.message,a.status);case"UnknownErrorException":return new f.UnknownErrorException(a.message,a.details);default:return new f.UnknownErrorException(a.message,a.toString())}}var c=function(){function a(c,d,b){var e=this;j(this,a),this.sourceName=c,this.targetName=d,this.comObj=b,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(g){var a=g.data;if(a.targetName===e.sourceName){if(a.stream){e._processStreamMessage(a);return}if(a.callback){var c=a.callbackId,d=e.callbackCapabilities[c];if(!d)throw Error("Cannot resolve callback ".concat(c));if(delete e.callbackCapabilities[c],a.callback===n.DATA)d.resolve(a.data);else if(a.callback===n.ERROR)d.reject(p(a.reason));else throw Error("Unexpected callback case");return}var f=e.actionHandler[a.action];if(!f)throw Error("Unknown action from worker: ".concat(a.action));if(a.callbackId){var h=e.sourceName,i=a.sourceName;new Promise(function(b){b(f(a.data))}).then(function(c){b.postMessage({sourceName:h,targetName:i,callback:n.DATA,callbackId:a.callbackId,data:c})},function(c){b.postMessage({sourceName:h,targetName:i,callback:n.ERROR,callbackId:a.callbackId,reason:p(c)})});return}if(a.streamId){e._createStreamSink(a);return}f(a.data)}},b.addEventListener("message",this._onComObjOnMessage)}return l(a,[{key:"on",value:function(a,c){var b=this.actionHandler;if(b[a])throw Error('There is already an actionName called "'.concat(a,'"'));b[a]=c}},{key:"send",value:function(a,b,c){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,data:b},c)}},{key:"sendWithPromise",value:function(c,d,e){var b=this.callbackId++,a=(0,f.createPromiseCapability)();this.callbackCapabilities[b]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,callbackId:b,data:d},e)}catch(g){a.reject(g)}return a.promise}},{key:"sendWithStream",value:function(b,c,a,d){var e=this,g=this.streamId++,h=this.sourceName,i=this.targetName,j=this.comObj;return new ReadableStream({start:function(a){var k=(0,f.createPromiseCapability)();return e.streamControllers[g]={controller:a,startCall:k,pullCall:null,cancelCall:null,isClosed:!1},j.postMessage({sourceName:h,targetName:i,action:b,streamId:g,data:c,desiredSize:a.desiredSize},d),k.promise},pull:function(b){var a=(0,f.createPromiseCapability)();return e.streamControllers[g].pullCall=a,j.postMessage({sourceName:h,targetName:i,stream:o.PULL,streamId:g,desiredSize:b.desiredSize}),a.promise},cancel:function(a){(0,f.assert)(a instanceof Error,"cancel must have a valid reason");var b=(0,f.createPromiseCapability)();return e.streamControllers[g].cancelCall=b,e.streamControllers[g].isClosed=!0,j.postMessage({sourceName:h,targetName:i,stream:o.CANCEL,streamId:g,reason:p(a)}),b.promise}},a)}},{key:"_createStreamSink",value:function(a){var c=a.streamId,d=this.sourceName,e=a.sourceName,g=this.comObj,h=this,i=this.actionHandler[a.action],b={enqueue:function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:1,h=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var i=this.desiredSize;this.desiredSize-=b,i>0&&this.desiredSize<=0&&(this.sinkCapability=(0,f.createPromiseCapability)(),this.ready=this.sinkCapability.promise),g.postMessage({sourceName:d,targetName:e,stream:o.ENQUEUE,streamId:c,chunk:a},h)}},close:function(){!this.isCancelled&&(this.isCancelled=!0,g.postMessage({sourceName:d,targetName:e,stream:o.CLOSE,streamId:c}),delete h.streamSinks[c])},error:function(a){(0,f.assert)(a instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,g.postMessage({sourceName:d,targetName:e,stream:o.ERROR,streamId:c,reason:p(a)}))},sinkCapability:(0,f.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:a.desiredSize,ready:null};b.sinkCapability.resolve(),b.ready=b.sinkCapability.promise,this.streamSinks[c]=b,new Promise(function(c){c(i(a.data,b))}).then(function(){g.postMessage({sourceName:d,targetName:e,stream:o.START_COMPLETE,streamId:c,success:!0})},function(a){g.postMessage({sourceName:d,targetName:e,stream:o.START_COMPLETE,streamId:c,reason:p(a)})})}},{key:"_processStreamMessage",value:function(b){var c=b.streamId,e=this.sourceName,g=b.sourceName,h=this.comObj,a=this.streamControllers[c],d=this.streamSinks[c];switch(b.stream){case o.START_COMPLETE:b.success?a.startCall.resolve():a.startCall.reject(p(b.reason));break;case o.PULL_COMPLETE:b.success?a.pullCall.resolve():a.pullCall.reject(p(b.reason));break;case o.PULL:if(!d){h.postMessage({sourceName:e,targetName:g,stream:o.PULL_COMPLETE,streamId:c,success:!0});break}d.desiredSize<=0&&b.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=b.desiredSize,new Promise(function(a){a(d.onPull&&d.onPull())}).then(function(){h.postMessage({sourceName:e,targetName:g,stream:o.PULL_COMPLETE,streamId:c,success:!0})},function(a){h.postMessage({sourceName:e,targetName:g,stream:o.PULL_COMPLETE,streamId:c,reason:p(a)})});break;case o.ENQUEUE:if((0,f.assert)(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(b.chunk);break;case o.CLOSE:if((0,f.assert)(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this._deleteStreamController(a,c);break;case o.ERROR:(0,f.assert)(a,"error should have stream controller"),a.controller.error(p(b.reason)),this._deleteStreamController(a,c);break;case o.CANCEL_COMPLETE:b.success?a.cancelCall.resolve():a.cancelCall.reject(p(b.reason)),this._deleteStreamController(a,c);break;case o.CANCEL:if(!d)break;new Promise(function(a){a(d.onCancel&&d.onCancel(p(b.reason)))}).then(function(){h.postMessage({sourceName:e,targetName:g,stream:o.CANCEL_COMPLETE,streamId:c,success:!0})},function(a){h.postMessage({sourceName:e,targetName:g,stream:o.CANCEL_COMPLETE,streamId:c,reason:p(a)})}),d.sinkCapability.reject(p(b.reason)),d.isCancelled=!0,delete this.streamSinks[c];break;default:throw Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:function(){var b=i(e.default.mark(function a(b,c){return e.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Promise.allSettled([b.startCall&&b.startCall.promise,b.pullCall&&b.pullCall.promise,b.cancelCall&&b.cancelCall.promise]);case 2:delete this.streamControllers[c];case 3:case"end":return a.stop()}},a,this)}));function a(a,c){return b.apply(this,arguments)}return a}()},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),a}();a.MessageHandler=c},(d,a,b)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.Metadata=void 0;var e=b(4);function f(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function g(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b,c){j(a,b),b.set(a,c)}function j(a,b){if(b.has(a))throw TypeError("Cannot initialize the same private elements twice on an object")}function k(a,b){var c=n(a,b,"get");return l(a,c)}function l(b,a){return a.get?a.get.call(b):a.value}function m(a,c,b){var d=n(a,c,"set");return o(a,d,b),b}function n(a,b,c){if(!b.has(a))throw TypeError("attempted to "+c+" private field on non-instance");return b.get(a)}function o(c,a,b){if(a.set)a.set.call(c,b);else{if(!a.writable)throw TypeError("attempted to set read only private field");a.value=b}}var p=new WeakMap,q=new WeakMap,c=function(){function a(b){var c=b.parsedData,d=b.rawData;f(this,a),i(this,p,{writable:!0,value:void 0}),i(this,q,{writable:!0,value:void 0}),m(this,p,c),m(this,q,d)}return h(a,[{key:"getRaw",value:function(){return k(this,q)}},{key:"get",value:function(b){var a;return null!==(a=k(this,p).get(b))&& void 0!==a?a:null}},{key:"getAll",value:function(){return(0,e.objectFromMap)(k(this,p))}},{key:"has",value:function(a){return k(this,p).has(a)}}]),a}();a.Metadata=c},(d,a,b)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.OptionalContentConfig=void 0;var e=b(4);function f(a,d){var b="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!b){if(Array.isArray(a)||(b=g(a))||d&&a&&"number"==typeof a.length){b&&(a=b);var e=0,c=function(){};return{s:c,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a},f:c}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,h=!0,i=!1;return{s:function(){b=b.call(a)},n:function(){var a=b.next();return h=a.done,a},e:function(a){i=!0,f=a},f:function(){try{h||null==b.return||b.return()}finally{if(i)throw f}}}}function g(a,c){if(a){if("string"==typeof a)return h(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return h(a,c)}}function h(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function i(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function j(a,b,c){return b&&i(a.prototype,b),c&&i(a,c),a}function k(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}var l=function a(b,c){k(this,a),this.visible=!0,this.name=b,this.intent=c},c=function(){function a(b){if(k(this,a),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==b){this.name=b.name,this.creator=b.creator,this._order=b.order;var i,c=f(b.groups);try{for(c.s();!(i=c.n()).done;){var h=i.value;this._groups.set(h.id,new l(h.name,h.intent))}}catch(o){c.e(o)}finally{c.f()}if("OFF"===b.baseState){var j,d=f(this._groups);try{for(d.s();!(j=d.n()).done;)j.value.visible=!1}catch(p){d.e(p)}finally{d.f()}}var m,e=f(b.on);try{for(e.s();!(m=e.n()).done;){var q=m.value;this._groups.get(q).visible=!0}}catch(r){e.e(r)}finally{e.f()}var n,g=f(b.off);try{for(g.s();!(n=g.n()).done;){var s=n.value;this._groups.get(s).visible=!1}}catch(t){g.e(t)}finally{g.f()}}}return j(a,[{key:"_evaluateVisibilityExpression",value:function(c){var f=c.length;if(f<2)return!0;for(var g=c[0],d=1;d<f;d++){var a=c[d],b=void 0;if(Array.isArray(a))b=this._evaluateVisibilityExpression(a);else{if(!this._groups.has(a))return(0,e.warn)("Optional content group not found: ".concat(a)),!0;b=this._groups.get(a).visible}switch(g){case"And":if(!b)return!1;break;case"Or":if(b)return!0;break;case"Not":return!b;default:return!0}}return"And"===g}},{key:"isVisible",value:function(a){if(0===this._groups.size)return!0;if(!a)return(0,e.warn)("Optional content group not defined."),!0;if("OCG"===a.type)return this._groups.has(a.id)?this._groups.get(a.id).visible:((0,e.warn)("Optional content group not found: ".concat(a.id)),!0);if("OCMD"===a.type){if(a.expression)return this._evaluateVisibilityExpression(a.expression);if(a.policy&&"AnyOn"!==a.policy){if("AllOn"===a.policy){var l,b=f(a.ids);try{for(b.s();!(l=b.n()).done;){var h=l.value;if(!this._groups.has(h)){(0,e.warn)("Optional content group not found: ".concat(h));break}if(!this._groups.get(h).visible)return!1}}catch(p){b.e(p)}finally{b.f()}return!0}if("AnyOff"===a.policy){var m,c=f(a.ids);try{for(c.s();!(m=c.n()).done;){var i=m.value;if(!this._groups.has(i))return(0,e.warn)("Optional content group not found: ".concat(i)),!0;if(!this._groups.get(i).visible)return!0}}catch(q){c.e(q)}finally{c.f()}return!1}else if("AllOff"===a.policy){var n,d=f(a.ids);try{for(d.s();!(n=d.n()).done;){var j=n.value;if(!this._groups.has(j)){(0,e.warn)("Optional content group not found: ".concat(j));break}if(this._groups.get(j).visible)return!1}}catch(r){d.e(r)}finally{d.f()}return!0}}else{var o,g=f(a.ids);try{for(g.s();!(o=g.n()).done;){var k=o.value;if(!this._groups.has(k))return(0,e.warn)("Optional content group not found: ".concat(k)),!0;if(this._groups.get(k).visible)return!0}}catch(s){g.e(s)}finally{g.f()}return!1}return(0,e.warn)("Unknown optional content policy ".concat(a.policy,".")),!0}return(0,e.warn)("Unknown group type ".concat(a.type,".")),!0}},{key:"setVisibility",value:function(a){var b=!(arguments.length>1)|| void 0===arguments[1]||arguments[1];if(!this._groups.has(a)){(0,e.warn)("Optional content group not found: ".concat(a));return}this._groups.get(a).visible=!!b}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,e.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(a){return this._groups.get(a)||null}}]),a}();a.OptionalContentConfig=c},(d,a,b)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.PDFDataTransportStream=void 0;var e=h(b(2)),f=b(4),g=b(1);function h(a){return a&&a.__esModule?a:{default:a}}function i(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function j(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){i(g,e,f,d,h,"next",a)}function h(a){i(g,e,f,d,h,"throw",a)}d(void 0)})}}function k(a,d){var b="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!b){if(Array.isArray(a)||(b=l(a))||d&&a&&"number"==typeof a.length){b&&(a=b);var e=0,c=function(){};return{s:c,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a},f:c}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){b=b.call(a)},n:function(){var a=b.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==b.return||b.return()}finally{if(h)throw f}}}}function l(a,c){if(a){if("string"==typeof a)return m(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return m(a,c)}}function m(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function n(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function o(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function p(a,b,c){return b&&o(a.prototype,b),c&&o(a,c),a}var c=function(){function a(b,d){var g=this;n(this,a),(0,f.assert)(d,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=b.progressiveDone||!1,this._contentDispositionFilename=b.contentDispositionFilename||null;var c=b.initialData;if((null==c?void 0:c.length)>0){var e=new Uint8Array(c).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=d,this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._contentLength=b.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(a,b){g._onReceiveData({begin:a,chunk:b})}),this._pdfDataRangeTransport.addProgressListener(function(a,b){g._onProgress({loaded:a,total:b})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(a){g._onReceiveData({chunk:a})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){g._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return p(a,[{key:"_onReceiveData",value:function(a){var b=new Uint8Array(a.chunk).buffer;if(void 0===a.begin)this._fullRequestReader?this._fullRequestReader._enqueue(b):this._queuedChunks.push(b);else{var c=this._rangeReaders.some(function(c){return c._begin===a.begin&&(c._enqueue(b),!0)});(0,f.assert)(c,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var a,b;return null!==(a=null===(b=this._fullRequestReader)|| void 0===b?void 0:b._loaded)&& void 0!==a?a:0}},{key:"_onProgress",value:function(a){if(void 0===a.total){var b=this._rangeReaders[0];null!=b&&b.onProgress&&b.onProgress({loaded:a.loaded})}else{var c=this._fullRequestReader;null!=c&&c.onProgress&&c.onProgress({loaded:a.loaded,total:a.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(b){var a=this._rangeReaders.indexOf(b);a>=0&&this._rangeReaders.splice(a,1)}},{key:"getFullReader",value:function(){(0,f.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var a=this._queuedChunks;return this._queuedChunks=null,new q(this,a,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(b,a){if(a<=this._progressiveDataLength)return null;var c=new r(this,b,a);return this._pdfDataRangeTransport.requestDataRange(b,a),this._rangeReaders.push(c),c}},{key:"cancelAllRequests",value:function(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);var c,a=k(this._rangeReaders.slice(0));try{for(a.s();!(c=a.n()).done;)c.value.cancel(b)}catch(d){a.e(d)}finally{a.f()}this._pdfDataRangeTransport.abort()}}]),a}();a.PDFDataTransportStream=c;var q=function(){function a(c,f){var h=arguments.length>2&& void 0!==arguments[2]&&arguments[2],d=arguments.length>3&& void 0!==arguments[3]?arguments[3]:null;n(this,a),this._stream=c,this._done=h||!1,this._filename=(0,g.isPdfFile)(d)?d:null,this._queuedChunks=f||[],this._loaded=0;var e,b=k(this._queuedChunks);try{for(b.s();!(e=b.n()).done;){var i=e.value;this._loaded+=i.byteLength}}catch(j){b.e(j)}finally{b.f()}this._requests=[],this._headersReady=Promise.resolve(),c._fullRequestReader=this,this.onProgress=null}return p(a,[{key:"_enqueue",value:function(a){!this._done&&(this._requests.length>0?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunks.push(a),this._loaded+=a.byteLength)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:function(){var b=j(e.default.mark(function a(){var b,c;return e.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(this._queuedChunks.length>0)){a.next=3;break}return b=this._queuedChunks.shift(),a.abrupt("return",{value:b,done:!1});case 3:if(!this._done){a.next=5;break}return a.abrupt("return",{value:void 0,done:!0});case 5:return c=(0,f.createPromiseCapability)(),this._requests.push(c),a.abrupt("return",c.promise);case 8:case"end":return a.stop()}},a,this)}));function a(){return b.apply(this,arguments)}return a}()},{key:"cancel",value:function(d){this._done=!0;var b,a=k(this._requests);try{for(a.s();!(b=a.n()).done;)b.value.resolve({value:void 0,done:!0})}catch(c){a.e(c)}finally{a.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){!this._done&&(this._done=!0)}}]),a}(),r=function(){function a(b,c,d){n(this,a),this._stream=b,this._begin=c,this._end=d,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return p(a,[{key:"_enqueue",value:function(b){if(!this._done){if(0===this._requests.length)this._queuedChunk=b;else{this._requests.shift().resolve({value:b,done:!1});var c,a=k(this._requests);try{for(a.s();!(c=a.n()).done;)c.value.resolve({value:void 0,done:!0})}catch(d){a.e(d)}finally{a.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var b=j(e.default.mark(function a(){var b,c;return e.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this._queuedChunk){a.next=4;break}return b=this._queuedChunk,this._queuedChunk=null,a.abrupt("return",{value:b,done:!1});case 4:if(!this._done){a.next=6;break}return a.abrupt("return",{value:void 0,done:!0});case 6:return c=(0,f.createPromiseCapability)(),this._requests.push(c),a.abrupt("return",c.promise);case 9:case"end":return a.stop()}},a,this)}));function a(){return b.apply(this,arguments)}return a}()},{key:"cancel",value:function(d){this._done=!0;var b,a=k(this._requests);try{for(a.s();!(b=a.n()).done;)b.value.resolve({value:void 0,done:!0})}catch(c){a.e(c)}finally{a.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),a}()},(c,a)=>{"use strict";function d(a,d){var b="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!b){if(Array.isArray(a)||(b=e(a))||d&&a&&"number"==typeof a.length){b&&(a=b);var f=0,c=function(){};return{s:c,n:function(){return f>=a.length?{done:!0}:{done:!1,value:a[f++]}},e:function(a){throw a},f:c}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g,h=!0,i=!1;return{s:function(){b=b.call(a)},n:function(){var a=b.next();return h=a.done,a},e:function(a){i=!0,g=a},f:function(){try{h||null==b.return||b.return()}finally{if(i)throw g}}}}function e(a,c){if(a){if("string"==typeof a)return f(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return f(a,c)}}function f(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function g(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function h(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function i(a,b,c){return b&&h(a.prototype,b),c&&h(a,c),a}Object.defineProperty(a,"__esModule",{value:!0}),a.XfaText=void 0;var b=function(){function a(){g(this,a)}return i(a,null,[{key:"textContent",value:function(b){var c=[],e={items:c,styles:Object.create(null)};function f(b){if(b){var e=null,h=b.name;if("#text"===h)e=b.value;else{if(!a.shouldBuildText(h))return;null!=b&&null!==(l=b.attributes)&& void 0!==l&&l.textContent?e=b.attributes.textContent:b.value&&(e=b.value)}if(null!==e&&c.push({str:e}),b.children){var l,i,g=d(b.children);try{for(g.s();!(i=g.n()).done;){var j=i.value;f(j)}}catch(k){g.e(k)}finally{g.f()}}}}return f(b),e}},{key:"shouldBuildText",value:function(a){return!("textarea"===a||"input"===a||"option"===a||"select"===a)}}]),a}();a.XfaText=b},(h,d,b)=>{"use strict";function i(a){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationLayer=void 0;var j=b(4),k=b(1),l=b(139),m=b(149),n=b(150);function o(a,b,c){return p(a,b),c}function p(a,b){if(a!==b)throw TypeError("Private static access of wrong provenance")}function q(a,b,c){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(d,b,e){var c=r(d,b);if(c){var a=Object.getOwnPropertyDescriptor(c,b);return a.get?a.get.call(e):a.value}})(a,b,c||a)}function r(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&null!==(a=D(a)););return a}function s(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function t(a){return w(a)||v(a)||H(a)||u()}function u(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function w(a){if(Array.isArray(a))return I(a)}function x(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a&&y(b,a)}function y(a,b){return(y=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function z(a){var b=C();return function(){var c,d=D(a);if(b){var e=D(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return A(this,c)}}function A(b,a){if(a&&("object"===i(a)||"function"==typeof a))return a;if(void 0!==a)throw TypeError("Derived constructors may only return object or undefined");return B(b)}function B(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function C(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function D(a){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function E(a,d){var b="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!b){if(Array.isArray(a)||(b=H(a))||d&&a&&"number"==typeof a.length){b&&(a=b);var e=0,c=function(){};return{s:c,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a},f:c}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){b=b.call(a)},n:function(){var a=b.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==b.return||b.return()}finally{if(h)throw f}}}}function F(a,b){return K(a)||J(a,b)||H(a,b)||G()}function G(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(a,c){if(a){if("string"==typeof a)return I(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return I(a,c)}}function I(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function J(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}function K(a){if(Array.isArray(a))return a}function L(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function M(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function N(a,b,c){return b&&M(a.prototype,b),c&&M(a,c),a}var O=1e3,P=new WeakSet,Q=function(){function b(){L(this,b)}return N(b,null,[{key:"create",value:function(b){var d=b.data.annotationType;switch(d){case j.AnnotationType.LINK:return new e(b);case j.AnnotationType.TEXT:return new R(b);case j.AnnotationType.WIDGET:var g=b.data.fieldType;switch(g){case"Tx":return new S(b);case"Btn":if(b.data.radioButton)return new U(b);if(b.data.checkBox)return new T(b);return new V(b);case"Ch":return new W(b)}return new c(b);case j.AnnotationType.POPUP:return new X(b);case j.AnnotationType.FREETEXT:return new Z(b);case j.AnnotationType.LINE:return new $(b);case j.AnnotationType.SQUARE:return new _(b);case j.AnnotationType.CIRCLE:return new aa(b);case j.AnnotationType.POLYLINE:return new f(b);case j.AnnotationType.CARET:return new ac(b);case j.AnnotationType.INK:return new ad(b);case j.AnnotationType.POLYGON:return new ab(b);case j.AnnotationType.HIGHLIGHT:return new ae(b);case j.AnnotationType.UNDERLINE:return new af(b);case j.AnnotationType.SQUIGGLY:return new ag(b);case j.AnnotationType.STRIKEOUT:return new ah(b);case j.AnnotationType.STAMP:return new ai(b);case j.AnnotationType.FILEATTACHMENT:return new aj(b);default:return new a(b)}}}]),b}(),a=function(){function a(b){var c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},d=c.isRenderable,e=void 0!==d&&d,f=c.ignoreBorder,g=void 0!==f&&f,h=c.createQuadrilaterals,i=void 0!==h&&h;L(this,a),this.isRenderable=e,this.data=b.data,this.layer=b.layer,this.page=b.page,this.viewport=b.viewport,this.linkService=b.linkService,this.downloadManager=b.downloadManager,this.imageResourcesPath=b.imageResourcesPath,this.renderForms=b.renderForms,this.svgFactory=b.svgFactory,this.annotationStorage=b.annotationStorage,this.enableScripting=b.enableScripting,this.hasJSActions=b.hasJSActions,this._fieldObjects=b.fieldObjects,this._mouseState=b.mouseState,e&&(this.container=this._createContainer(g)),i&&(this.quadrilaterals=this._createQuadrilaterals(g))}return N(a,[{key:"_createContainer",value:function(){var p=arguments.length>0&& void 0!==arguments[0]&&arguments[0],a=this.data,d=this.page,i=this.viewport,b=document.createElement("section"),e=a.rect[2]-a.rect[0],f=a.rect[3]-a.rect[1];b.setAttribute("data-annotation-id",a.id);var c=j.Util.normalizeRect([a.rect[0],d.view[3]-a.rect[1]+d.view[1],a.rect[2],d.view[3]-a.rect[3]+d.view[1]]);if(a.hasOwnCanvas){var g=i.transform.slice(),q=j.Util.singularValueDecompose2dScale(g),k=F(q,2),l=k[0],m=k[1];e=Math.ceil(e*l),f=Math.ceil(f*m),c[0]*=l,c[1]*=m;for(var h=0;h<4;h++)g[h]=Math.sign(g[h]);b.style.transform="matrix(".concat(g.join(","),")")}else b.style.transform="matrix(".concat(i.transform.join(","),")");if(b.style.transformOrigin="".concat(-c[0],"px ").concat(-c[1],"px"),!p&&a.borderStyle.width>0){b.style.borderWidth="".concat(a.borderStyle.width,"px"),a.borderStyle.style!==j.AnnotationBorderStyleType.UNDERLINE&&(e-=2*a.borderStyle.width,f-=2*a.borderStyle.width);var n=a.borderStyle.horizontalCornerRadius,o=a.borderStyle.verticalCornerRadius;if(n>0||o>0){var r="".concat(n,"px / ").concat(o,"px");b.style.borderRadius=r}switch(a.borderStyle.style){case j.AnnotationBorderStyleType.SOLID:b.style.borderStyle="solid";break;case j.AnnotationBorderStyleType.DASHED:b.style.borderStyle="dashed";break;case j.AnnotationBorderStyleType.BEVELED:(0,j.warn)("Unimplemented border style: beveled");break;case j.AnnotationBorderStyleType.INSET:(0,j.warn)("Unimplemented border style: inset");break;case j.AnnotationBorderStyleType.UNDERLINE:b.style.borderBottomStyle="solid"}a.borderColor||a.color?b.style.borderColor=j.Util.makeHexColor(0|a.color[0],0|a.color[1],0|a.color[2]):b.style.borderWidth=0}return b.style.left="".concat(c[0],"px"),b.style.top="".concat(c[1],"px"),a.hasOwnCanvas?b.style.width=b.style.height="auto":(b.style.width="".concat(e,"px"),b.style.height="".concat(f,"px")),b}},{key:"_createQuadrilaterals",value:function(){var e=arguments.length>0&& void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var c,d=[],f=this.data.rect,a=E(this.data.quadPoints);try{for(a.s();!(c=a.n()).done;){var b=c.value;this.data.rect=[b[2].x,b[2].y,b[1].x,b[1].y],d.push(this._createContainer(e))}}catch(g){a.e(g)}finally{a.f()}return this.data.rect=f,d}},{key:"_createPopup",value:function(a,c){var b=this.container;this.quadrilaterals&&(a=a||this.quadrilaterals,b=this.quadrilaterals[0]),a||((a=document.createElement("div")).style.height=b.style.height,a.style.width=b.style.width,b.appendChild(a));var d=new Y({container:b,trigger:a,color:c.color,titleObj:c.titleObj,modificationDate:c.modificationDate,contentsObj:c.contentsObj,richText:c.richText,hideWrapper:!0}).render();d.style.left=b.style.width,b.appendChild(d)}},{key:"_renderQuadrilaterals",value:function(c){var b,a=E(this.quadrilaterals);try{for(a.s();!(b=a.n()).done;)b.value.className=c}catch(d){a.e(d)}finally{a.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,j.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(h){var i=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null,a=[];if(this._fieldObjects){var k=this._fieldObjects[h];if(k){var l,b=E(k);try{for(b.s();!(l=b.n()).done;){var f=l.value,p=f.page,c=f.id,m=f.exportValues;if(-1!==p&&c!==i){var q="string"==typeof m?m:null,g=document.getElementById(c);if(g&&!P.has(g)){(0,j.warn)("_getElementsByName - element not allowed: ".concat(c));continue}a.push({id:c,exportValue:q,domElement:g})}}}catch(r){b.e(r)}finally{b.f()}}return a}var n,d=E(document.getElementsByName(h));try{for(d.s();!(n=d.n()).done;){var e=n.value,o=e.id,s=e.exportValue;o!==i&&P.has(e)&&a.push({id:o,exportValue:s,domElement:e})}}catch(t){d.e(t)}finally{d.f()}return a}}],[{key:"platform",get:function(){var a="undefined"!=typeof navigator?navigator.platform:"";return(0,j.shadow)(this,"platform",{isWin:a.includes("Win"),isMac:a.includes("Mac")})}}]),a}(),e=function(b){x(a,b);var c=z(a);function a(b){var d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null;L(this,a);var e=!!(b.data.url||b.data.dest||b.data.action||b.data.isTooltipOnly||b.data.resetForm||b.data.actions&&(b.data.actions.Action||b.data.actions["Mouse Up"]||b.data.actions["Mouse Down"]));return c.call(this,b,{isRenderable:e,ignoreBorder:!!(null!=d&&d.ignoreBorder),createQuadrilaterals:!0})}return N(a,[{key:"render",value:function(){var c,a=this.data,d=this.linkService,b=document.createElement("a");if(a.url)d.addLinkAttributes||(0,j.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),null===(c=d.addLinkAttributes)|| void 0===c||c.call(d,b,a.url,a.newWindow);else if(a.action)this._bindNamedAction(b,a.action);else if(a.dest)this._bindLink(b,a.dest);else{var e=!1;a.actions&&(a.actions.Action||a.actions["Mouse Up"]||a.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(e=!0,this._bindJSAction(b,a)),a.resetForm?this._bindResetFormAction(b,a.resetForm):e||this._bindLink(b,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(a,c){var d=0===c?b:b.cloneNode();return a.appendChild(d),a}):(this.container.className="linkAnnotation",this.container.appendChild(b),this.container)}},{key:"_bindLink",value:function(a,b){var c=this;a.href=this.linkService.getDestinationHash(b),a.onclick=function(){return b&&c.linkService.goToDestination(b),!1},(b||""===b)&&(a.className="internalLink")}},{key:"_bindNamedAction",value:function(a,b){var c=this;a.href=this.linkService.getAnchorUrl(""),a.onclick=function(){return c.linkService.executeNamedAction(b),!1},a.className="internalLink"}},{key:"_bindJSAction",value:function(a,c){var f=this;a.href=this.linkService.getAnchorUrl("");for(var g=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),d=function(){var h=e[b],d=g.get(h);if(!d)return"continue";a[d]=function(){var a;return null===(a=f.linkService.eventBus)|| void 0===a||a.dispatch("dispatcheventinsandbox",{source:f,detail:{id:c.id,name:h}}),!1}},b=0,e=Object.keys(c.actions);b<e.length;b++)if("continue"===d())continue;a.onclick||(a.onclick=function(){return!1}),a.className="internalLink"}},{key:"_bindResetFormAction",value:function(a,c){var d=this,b=a.onclick;if(b||(a.href=this.linkService.getAnchorUrl("")),a.className="internalLink",!this._fieldObjects){(0,j.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),b||(a.onclick=function(){return!1});return}a.onclick=function(){b&&b();var j,p=c.fields,q=c.refs,C=c.include,f=[];if(0!==p.length||0!==q.length){var r,s=new Set(q),g=E(p);try{for(g.s();!(r=g.n()).done;){var u,D=r.value,F=d._fieldObjects[D]||[],h=E(F);try{for(h.s();!(u=h.n()).done;){var G=u.value.id;s.add(G)}}catch(H){h.e(H)}finally{h.f()}}}catch(I){g.e(I)}finally{g.f()}for(var k=0,v=Object.values(d._fieldObjects);k<v.length;k++){var w,i=E(v[k]);try{for(i.s();!(w=i.n()).done;){var x=w.value;s.has(x.id)===C&&f.push(x)}}catch(J){i.e(J)}finally{i.f()}}}else for(var l=0,y=Object.values(d._fieldObjects);l<y.length;l++){var K=y[l];f.push.apply(f,t(K))}for(var m=d.annotationStorage,z=[],n=0,A=f;n<A.length;n++){var a=A[n],e=a.id;switch(z.push(e),a.type){case"text":var B=a.defaultValue||"";m.setValue(e,{value:B,valueAsString:B});break;case"checkbox":case"radiobutton":var L=a.defaultValue===a.exportValues;m.setValue(e,{value:L});break;case"combobox":case"listbox":var M=a.defaultValue||"";m.setValue(e,{value:M});break;default:continue}var o=document.getElementById(e);o&&P.has(o)&&o.dispatchEvent(new Event("resetform"))}return d.enableScripting&&(null===(j=d.linkService.eventBus)|| void 0===j||j.dispatch("dispatcheventinsandbox",{source:d,detail:{id:"app",ids:z,name:"ResetForm"}})),!1}}}]),a}(a),R=function(b){x(a,b);var c=z(a);function a(b){L(this,a);var d,e,f,g=!!(b.data.hasPopup||null!==(d=b.data.titleObj)&& void 0!==d&&d.str||null!==(e=b.data.contentsObj)&& void 0!==e&&e.str||null!==(f=b.data.richText)&& void 0!==f&&f.str);return c.call(this,b,{isRenderable:g})}return N(a,[{key:"render",value:function(){this.container.className="textAnnotation";var a=document.createElement("img");return a.style.height=this.container.style.height,a.style.width=this.container.style.width,a.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",a.alt="[{{type}} Annotation]",a.dataset.l10nId="text_annotation_type",a.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(a,this.data),this.container.appendChild(a),this.container}}]),a}(a),c=function(c){x(b,c);var d=z(b);function b(){return L(this,b),d.apply(this,arguments)}return N(b,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(b){var c=a.platform,d=c.isWin,e=c.isMac;return d&&b.ctrlKey||e&&b.metaKey}},{key:"_setEventListener",value:function(b,a,c,d){var e=this;a.includes("mouse")?b.addEventListener(a,function(a){var b;null===(b=e.linkService.eventBus)|| void 0===b||b.dispatch("dispatcheventinsandbox",{source:e,detail:{id:e.data.id,name:c,value:d(a),shift:a.shiftKey,modifier:e._getKeyModifier(a)}})}):b.addEventListener(a,function(b){var a;null===(a=e.linkService.eventBus)|| void 0===a||a.dispatch("dispatcheventinsandbox",{source:e,detail:{id:e.data.id,name:c,value:b.target.checked}})})}},{key:"_setEventListeners",value:function(f,g,h){var d,a=E(g);try{for(a.s();!(d=a.n()).done;){var b,e=F(d.value,2),i=e[0],c=e[1];("Action"===c||null!==(b=this.data.actions)&& void 0!==b&&b[c])&&this._setEventListener(f,i,c,h)}}catch(j){a.e(j)}finally{a.f()}}},{key:"_setBackgroundColor",value:function(b){var a=this.data.backgroundColor||null;b.style.backgroundColor=null===a?"transparent":j.Util.makeHexColor(a[0],a[1],a[2])}},{key:"_dispatchEventFromSandbox",value:function(f,b){for(var h=this,i=function(c,d,a){var b=a.detail[c];a.target.style[d]=m.ColorConverters["".concat(b[0],"_HTML")](b.slice(1))},g={display:function(a){var b=a.detail.display%2==1;a.target.style.visibility=b?"hidden":"visible",h.annotationStorage.setValue(h.data.id,{hidden:b,print:0===a.detail.display||3===a.detail.display})},print:function(a){h.annotationStorage.setValue(h.data.id,{print:a.detail.print})},hidden:function(a){a.target.style.visibility=a.detail.hidden?"hidden":"visible",h.annotationStorage.setValue(h.data.id,{hidden:a.detail.hidden})},focus:function(a){setTimeout(function(){return a.target.focus({preventScroll:!1})},0)},userName:function(a){a.target.title=a.detail.userName},readonly:function(a){a.detail.readonly?a.target.setAttribute("readonly",""):a.target.removeAttribute("readonly")},required:function(a){a.detail.required?a.target.setAttribute("required",""):a.target.removeAttribute("required")},bgColor:function(a){i("bgColor","backgroundColor",a)},fillColor:function(a){i("fillColor","backgroundColor",a)},fgColor:function(a){i("fgColor","color",a)},textColor:function(a){i("textColor","color",a)},borderColor:function(a){i("borderColor","borderColor",a)},strokeColor:function(a){i("strokeColor","borderColor",a)}},a=0,c=Object.keys(b.detail);a<c.length;a++){var d=c[a],e=f[d]||g[d];e&&e(b)}}}]),b}(a),S=function(b){x(a,b);var c=z(a);function a(b){L(this,a);var d=b.renderForms|| !b.data.hasAppearance&&!!b.data.fieldValue;return c.call(this,b,{isRenderable:d})}return N(a,[{key:"setPropertyOnSiblings",value:function(c,f,d,g){var e,h=this.annotationStorage,a=E(this._getElementsByName(c.name,c.id));try{for(a.s();!(e=a.n()).done;){var b=e.value;b.domElement&&(b.domElement[f]=d),h.setValue(b.id,s({},g,d))}}catch(i){a.e(i)}finally{a.f()}}},{key:"render",value:function(){var j=this,g=this.annotationStorage,e=this.data.id;this.container.className="textWidgetAnnotation";var a=null;if(this.renderForms){var f=g.getValue(e,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),c=f.valueAsString||f.value||"",h={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(a=document.createElement("textarea")).textContent=c:((a=document.createElement("input")).type="text",a.setAttribute("value",c)),P.add(a),a.disabled=this.data.readOnly,a.name=this.data.fieldName,a.tabIndex=O,h.userValue=c,a.setAttribute("id",e),a.addEventListener("input",function(b){g.setValue(e,{value:b.target.value}),j.setPropertyOnSiblings(a,"value",b.target.value,"value")}),a.addEventListener("resetform",function(c){var b=j.data.defaultFieldValue||"";a.value=h.userValue=b,delete h.formattedValue});var b=function(a){h.formattedValue&&(a.target.value=h.formattedValue),a.target.scrollLeft=0,h.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){a.addEventListener("focus",function(a){h.userValue&&(a.target.value=h.userValue)}),a.addEventListener("updatefromsandbox",function(a){var b={value:function(a){h.userValue=a.detail.value||"",g.setValue(e,{value:h.userValue.toString()}),h.formattedValue||(a.target.value=h.userValue)},valueAsString:function(a){h.formattedValue=a.detail.valueAsString||"",a.target!==document.activeElement&&(a.target.value=h.formattedValue),g.setValue(e,{formattedValue:h.formattedValue})},selRange:function(a){var b=F(a.detail.selRange,2),c=b[0],d=b[1];c>=0&&d<a.target.value.length&&a.target.setSelectionRange(c,d)}};j._dispatchEventFromSandbox(b,a)}),a.addEventListener("keydown",function(a){h.beforeInputValue=a.target.value;var c,b=-1;"Escape"===a.key?b=0:"Enter"===a.key?b=2:"Tab"===a.key&&(b=3),-1!==b&&(h.userValue=a.target.value,null===(c=j.linkService.eventBus)|| void 0===c||c.dispatch("dispatcheventinsandbox",{source:j,detail:{id:e,name:"Keystroke",value:a.target.value,willCommit:!0,commitKey:b,selStart:a.target.selectionStart,selEnd:a.target.selectionEnd}}))});var d,k=b;b=null,a.addEventListener("blur",function(a){if(j._mouseState.isDown){var b;h.userValue=a.target.value,null===(b=j.linkService.eventBus)|| void 0===b||b.dispatch("dispatcheventinsandbox",{source:j,detail:{id:e,name:"Keystroke",value:a.target.value,willCommit:!0,commitKey:1,selStart:a.target.selectionStart,selEnd:a.target.selectionEnd}})}k(a)}),a.addEventListener("mousedown",function(a){h.beforeInputValue=a.target.value,h.beforeInputSelectionRange=null}),a.addEventListener("keyup",function(a){a.target.selectionStart===a.target.selectionEnd&&(h.beforeInputSelectionRange=null)}),a.addEventListener("select",function(a){h.beforeInputSelectionRange=[a.target.selectionStart,a.target.selectionEnd]}),null!==(d=this.data.actions)&& void 0!==d&&d.Keystroke&&a.addEventListener("input",function(f){var a,b=-1,c=-1;if(h.beforeInputSelectionRange){var d=F(h.beforeInputSelectionRange,2);b=d[0],c=d[1]}null===(a=j.linkService.eventBus)|| void 0===a||a.dispatch("dispatcheventinsandbox",{source:j,detail:{id:e,name:"Keystroke",value:h.beforeInputValue,change:f.data,willCommit:!1,selStart:b,selEnd:c}})}),this._setEventListeners(a,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(a){return a.target.value})}if(b&&a.addEventListener("blur",b),null!==this.data.maxLen&&(a.maxLength=this.data.maxLen),this.data.comb){var i=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;a.classList.add("comb"),a.style.letterSpacing="calc(".concat(i,"px - 1ch)")}}else(a=document.createElement("div")).textContent=this.data.fieldValue,a.style.verticalAlign="middle",a.style.display="table-cell";return this._setTextStyle(a),this._setBackgroundColor(a),this.container.appendChild(a),this.container}},{key:"_setTextStyle",value:function(e){var f=["left","center","right"],c=this.data.defaultAppearanceData,d=c.fontSize,a=c.fontColor,b=e.style;d&&(b.fontSize="".concat(d,"px")),b.color=j.Util.makeHexColor(a[0],a[1],a[2]),null!==this.data.textAlignment&&(b.textAlign=f[this.data.textAlignment])}}]),a}(c),T=function(b){x(a,b);var c=z(a);function a(b){return L(this,a),c.call(this,b,{isRenderable:b.renderForms})}return N(a,[{key:"render",value:function(){var f=this,e=this.annotationStorage,b=this.data,d=b.id,c=e.getValue(d,{value:b.exportValue===b.fieldValue}).value;"string"==typeof c&&(c="Off"!==c,e.setValue(d,{value:c})),this.container.className="buttonWidgetAnnotation checkBox";var a=document.createElement("input");return P.add(a),a.disabled=b.readOnly,a.type="checkbox",a.name=b.fieldName,c&&a.setAttribute("checked",!0),a.setAttribute("id",d),a.setAttribute("exportValue",b.exportValue),a.tabIndex=O,a.addEventListener("change",function(k){var g,h=k.target,l=h.name,i=h.checked,a=E(f._getElementsByName(l,d));try{for(a.s();!(g=a.n()).done;){var c=g.value,j=i&&c.exportValue===b.exportValue;c.domElement&&(c.domElement.checked=j),e.setValue(c.id,{value:j})}}catch(m){a.e(m)}finally{a.f()}e.setValue(d,{value:i})}),a.addEventListener("resetform",function(a){var c=b.defaultFieldValue||"Off";a.target.checked=c===b.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",function(a){var b={value:function(a){a.target.checked="Off"!==a.detail.value,e.setValue(d,{value:a.target.checked})}};f._dispatchEventFromSandbox(b,a)}),this._setEventListeners(a,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(a){return a.target.checked})),this._setBackgroundColor(a),this.container.appendChild(a),this.container}}]),a}(c),U=function(b){x(a,b);var c=z(a);function a(b){return L(this,a),c.call(this,b,{isRenderable:b.renderForms})}return N(a,[{key:"render",value:function(){var f=this;this.container.className="buttonWidgetAnnotation radioButton";var e=this.annotationStorage,b=this.data,d=b.id,c=e.getValue(d,{value:b.fieldValue===b.buttonValue}).value;"string"==typeof c&&(c=c!==b.buttonValue,e.setValue(d,{value:c}));var a=document.createElement("input");if(P.add(a),a.disabled=b.readOnly,a.type="radio",a.name=b.fieldName,c&&a.setAttribute("checked",!0),a.setAttribute("id",d),a.tabIndex=O,a.addEventListener("change",function(g){var b,c=g.target,h=c.name,i=c.checked,a=E(f._getElementsByName(h,d));try{for(a.s();!(b=a.n()).done;){var j=b.value;e.setValue(j.id,{value:!1})}}catch(k){a.e(k)}finally{a.f()}e.setValue(d,{value:i})}),a.addEventListener("resetform",function(c){var a=b.defaultFieldValue;c.target.checked=null!=a&&a===b.buttonValue}),this.enableScripting&&this.hasJSActions){var g=b.buttonValue;a.addEventListener("updatefromsandbox",function(a){var b={value:function(c){var h,j=g===c.detail.value,a=E(f._getElementsByName(c.target.name));try{for(a.s();!(h=a.n()).done;){var b=h.value,i=j&&b.id===d;b.domElement&&(b.domElement.checked=i),e.setValue(b.id,{value:i})}}catch(k){a.e(k)}finally{a.f()}}};f._dispatchEventFromSandbox(b,a)}),this._setEventListeners(a,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(a){return a.target.checked})}return this._setBackgroundColor(a),this.container.appendChild(a),this.container}}]),a}(c),V=function(b){x(a,b);var c=z(a);function a(b){return L(this,a),c.call(this,b,{ignoreBorder:b.data.hasAppearance})}return N(a,[{key:"render",value:function(){var b=q(D(a.prototype),"render",this).call(this);return b.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(b.title=this.data.alternativeText),b}}]),a}(e),W=function(b){x(a,b);var c=z(a);function a(b){return L(this,a),c.call(this,b,{isRenderable:b.renderForms})}return N(a,[{key:"render",value:function(){var k=this;this.container.className="choiceWidgetAnnotation";var h=this.annotationStorage,f=this.data.id;h.getValue(f,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var c=this.data.defaultAppearanceData.fontSize;c||(c=9);var i="calc(".concat(c,"px * var(--zoom-factor))"),a=document.createElement("select");P.add(a),a.disabled=this.data.readOnly,a.name=this.data.fieldName,a.setAttribute("id",f),a.tabIndex=O,a.style.fontSize="".concat(c,"px"),!this.data.combo&&(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",function(g){var c,e=k.data.defaultFieldValue,b=E(a.options);try{for(b.s();!(c=b.n()).done;){var d=c.value;d.selected=d.value===e}}catch(f){b.e(f)}finally{b.f()}});var g,d=E(this.data.options);try{for(d.s();!(g=d.n()).done;){var e=g.value,b=document.createElement("option");b.textContent=e.displayValue,b.value=e.exportValue,this.data.combo&&(b.style.fontSize=i),this.data.fieldValue.includes(e.exportValue)&&b.setAttribute("selected",!0),a.appendChild(b)}}catch(j){d.e(j)}finally{d.f()}var l=function(b,c){var d=c?"value":"textContent",a=b.target.options;return b.target.multiple?Array.prototype.filter.call(a,function(a){return a.selected}).map(function(a){return a[d]}):-1===a.selectedIndex?null:a[a.selectedIndex][d]},m=function(a){var b=a.target.options;return Array.prototype.map.call(b,function(a){return{displayValue:a.textContent,exportValue:a.value}})};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",function(b){var c={value:function(d){var e,c=d.detail.value,i=new Set(Array.isArray(c)?c:[c]),b=E(a.options);try{for(b.s();!(e=b.n()).done;){var g=e.value;g.selected=i.has(g.value)}}catch(j){b.e(j)}finally{b.f()}h.setValue(f,{value:l(d,!0)})},multipleSelection:function(b){a.multiple=!0},remove:function(c){var b=a.options,d=c.detail.remove;b[d].selected=!1,a.remove(d),b.length>0&& -1===Array.prototype.findIndex.call(b,function(a){return a.selected})&&(b[0].selected=!0),h.setValue(f,{value:l(c,!0),items:m(c)})},clear:function(b){for(;0!==a.length;)a.remove(0);h.setValue(f,{value:null,items:[]})},insert:function(b){var c=b.detail.insert,e=c.index,g=c.displayValue,i=c.exportValue,d=document.createElement("option");d.textContent=g,d.value=i,a.insertBefore(d,a.children[e]),h.setValue(f,{value:l(b,!0),items:m(b)})},items:function(c){for(var i=c.detail.items;0!==a.length;)a.remove(0);var e,b=E(i);try{for(b.s();!(e=b.n()).done;){var g=e.value,j=g.displayValue,k=g.exportValue,d=document.createElement("option");d.textContent=j,d.value=k,a.appendChild(d)}}catch(n){b.e(n)}finally{b.f()}a.options.length>0&&(a.options[0].selected=!0),h.setValue(f,{value:l(c,!0),items:m(c)})},indices:function(b){var c,e=new Set(b.detail.indices),a=E(b.target.options);try{for(a.s();!(c=a.n()).done;){var d=c.value;d.selected=e.has(d.index)}}catch(g){a.e(g)}finally{a.f()}h.setValue(f,{value:l(b,!0)})},editable:function(a){a.target.disabled=!a.detail.editable}};k._dispatchEventFromSandbox(c,b)}),a.addEventListener("input",function(b){var a,c=l(b,!0),d=l(b,!1);h.setValue(f,{value:c}),null===(a=k.linkService.eventBus)|| void 0===a||a.dispatch("dispatcheventinsandbox",{source:k,detail:{id:f,name:"Keystroke",value:d,changeEx:c,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(a){return a.target.checked})):a.addEventListener("input",function(a){h.setValue(f,{value:l(a)})}),this._setBackgroundColor(a),this.container.appendChild(a),this.container}}]),a}(c),X=function(b){x(a,b);var c=z(a);function a(b){L(this,a);var d,e,f,g=!!(null!==(d=b.data.titleObj)&& void 0!==d&&d.str||null!==(e=b.data.contentsObj)&& void 0!==e&&e.str||null!==(f=b.data.richText)&& void 0!==f&&f.str);return c.call(this,b,{isRenderable:g})}return N(a,[{key:"render",value:function(){var f=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",f.includes(this.data.parentType))return this.container;var g='[data-annotation-id="'.concat(this.data.parentId,'"]'),b=this.layer.querySelectorAll(g);if(0===b.length)return this.container;var h=new Y({container:this.container,trigger:Array.from(b),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),a=this.page,c=j.Util.normalizeRect([this.data.parentRect[0],a.view[3]-this.data.parentRect[1]+a.view[1],this.data.parentRect[2],a.view[3]-this.data.parentRect[3]+a.view[1]]),d=c[0]+this.data.parentRect[2]-this.data.parentRect[0],e=c[1];return this.container.style.transformOrigin="".concat(-d,"px ").concat(-e,"px"),this.container.style.left="".concat(d,"px"),this.container.style.top="".concat(e,"px"),this.container.appendChild(h.render()),this.container}}]),a}(a),Y=function(){function a(b){L(this,a),this.container=b.container,this.trigger=b.trigger,this.color=b.color,this.titleObj=b.titleObj,this.modificationDate=b.modificationDate,this.contentsObj=b.contentsObj,this.richText=b.richText,this.hideWrapper=b.hideWrapper||!1,this.pinned=!1}return N(a,[{key:"render",value:function(){var f=.7,d=document.createElement("div");d.className="popupWrapper",this.hideElement=this.hideWrapper?d:this.container,this.hideElement.hidden=!0;var a=document.createElement("div");a.className="popup";var b=this.color;if(b){var m=f*(255-b[0])+b[0],o=f*(255-b[1])+b[1],p=f*(255-b[2])+b[2];a.style.backgroundColor=j.Util.makeHexColor(0|m,0|o,0|p)}var g=document.createElement("h1");g.dir=this.titleObj.dir,g.textContent=this.titleObj.str,a.appendChild(g);var h=k.PDFDateString.toDateObject(this.modificationDate);if(h){var c=document.createElement("span");c.className="popupDate",c.textContent="{{date}}, {{time}}",c.dataset.l10nId="annotation_date_string",c.dataset.l10nArgs=JSON.stringify({date:h.toLocaleDateString(),time:h.toLocaleTimeString()}),a.appendChild(c)}if(null!==(s=this.richText)&& void 0!==s&&s.str&&(!(null!==(t=this.contentsObj)&& void 0!==t&&t.str)||this.contentsObj.str===this.richText.str))n.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:a}),a.lastChild.className="richText popupContent";else{var q=this._formatContents(this.contentsObj);a.appendChild(q)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var s,t,l,e=E(this.trigger);try{for(e.s();!(l=e.n()).done;){var i=l.value;i.addEventListener("click",this._toggle.bind(this)),i.addEventListener("mouseover",this._show.bind(this,!1)),i.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(r){e.e(r)}finally{e.f()}return a.addEventListener("click",this._hide.bind(this,!0)),d.appendChild(a),d}},{key:"_formatContents",value:function(c){var f=c.str,g=c.dir,a=document.createElement("p");a.className="popupContent",a.dir=g;for(var d=f.split(/(?:\r\n?|\n)/),b=0,e=d.length;b<e;++b){var h=d[b];a.appendChild(document.createTextNode(h)),b<e-1&&a.appendChild(document.createElement("br"))}return a}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var a=arguments.length>0&& void 0!==arguments[0]&&arguments[0];a&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var a=!(arguments.length>0)|| void 0===arguments[0]||arguments[0];a&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),a}(),Z=function(b){x(a,b);var c=z(a);function a(b){L(this,a);var d,e,f,g=!!(b.data.hasPopup||null!==(d=b.data.titleObj)&& void 0!==d&&d.str||null!==(e=b.data.contentsObj)&& void 0!==e&&e.str||null!==(f=b.data.richText)&& void 0!==f&&f.str);return c.call(this,b,{isRenderable:g,ignoreBorder:!0})}return N(a,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),a}(a),$=function(b){x(a,b);var c=z(a);function a(b){L(this,a);var d,e,f,g=!!(b.data.hasPopup||null!==(d=b.data.titleObj)&& void 0!==d&&d.str||null!==(e=b.data.contentsObj)&& void 0!==e&&e.str||null!==(f=b.data.richText)&& void 0!==f&&f.str);return c.call(this,b,{isRenderable:g,ignoreBorder:!0})}return N(a,[{key:"render",value:function(){this.container.className="lineAnnotation";var a=this.data,d=a.rect[2]-a.rect[0],e=a.rect[3]-a.rect[1],c=this.svgFactory.create(d,e),b=this.svgFactory.createElement("svg:line");return b.setAttribute("x1",a.rect[2]-a.lineCoordinates[0]),b.setAttribute("y1",a.rect[3]-a.lineCoordinates[1]),b.setAttribute("x2",a.rect[2]-a.lineCoordinates[2]),b.setAttribute("y2",a.rect[3]-a.lineCoordinates[3]),b.setAttribute("stroke-width",a.borderStyle.width||1),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),c.appendChild(b),this.container.append(c),this._createPopup(b,a),this.container}}]),a}(a),_=function(b){x(a,b);var c=z(a);function a(b){L(this,a);var d,e,f,g=!!(b.data.hasPopup||null!==(d=b.data.titleObj)&& void 0!==d&&d.str||null!==(e=b.data.contentsObj)&& void 0!==e&&e.str||null!==(f=b.data.richText)&& void 0!==f&&f.str);return c.call(this,b,{isRenderable:g,ignoreBorder:!0})}return N(a,[{key:"render",value:function(){this.container.className="squareAnnotation";var b=this.data,d=b.rect[2]-b.rect[0],e=b.rect[3]-b.rect[1],f=this.svgFactory.create(d,e),c=b.borderStyle.width,a=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",c/2),a.setAttribute("y",c/2),a.setAttribute("width",d-c),a.setAttribute("height",e-c),a.setAttribute("stroke-width",c||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),f.appendChild(a),this.container.append(f),this._createPopup(a,b),this.container}}]),a}(a),aa=function(b){x(a,b);var c=z(a);function a(b){L(this,a);var d,e,f,g=!!(b.data.hasPopup||null!==(d=b.data.titleObj)&& void 0!==d&&d.str||null!==(e=b.data.contentsObj)&& void 0!==e&&e.str||null!==(f=b.data.richText)&& void 0!==f&&f.str);return c.call(this,b,{isRenderable:g,ignoreBorder:!0})}return N(a,[{key:"render",value:function(){this.container.className="circleAnnotation";var b=this.data,c=b.rect[2]-b.rect[0],d=b.rect[3]-b.rect[1],f=this.svgFactory.create(c,d),e=b.borderStyle.width,a=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",c/2),a.setAttribute("cy",d/2),a.setAttribute("rx",c/2-e/2),a.setAttribute("ry",d/2-e/2),a.setAttribute("stroke-width",e||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),f.appendChild(a),this.container.append(f),this._createPopup(a,b),this.container}}]),a}(a),f=function(b){x(a,b);var c=z(a);function a(b){L(this,a);var d,e,f,g,h=!!(b.data.hasPopup||null!==(d=b.data.titleObj)&& void 0!==d&&d.str||null!==(e=b.data.contentsObj)&& void 0!==e&&e.str||null!==(f=b.data.richText)&& void 0!==f&&f.str);return(g=c.call(this,b,{isRenderable:h,ignoreBorder:!0})).containerClassName="polylineAnnotation",g.svgElementName="svg:polyline",g}return N(a,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,a=this.data,h=a.rect[2]-a.rect[0],i=a.rect[3]-a.rect[1],f=this.svgFactory.create(h,i),c=[],d=E(a.vertices);try{for(d.s();!(e=d.n()).done;){var g=e.value,j=g.x-a.rect[0],k=a.rect[3]-g.y;c.push(j+","+k)}}catch(l){d.e(l)}finally{d.f()}c=c.join(" ");var b=this.svgFactory.createElement(this.svgElementName);return b.setAttribute("points",c),b.setAttribute("stroke-width",a.borderStyle.width||1),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),f.appendChild(b),this.container.append(f),this._createPopup(b,a),this.container}}]),a}(a),ab=function(a){x(b,a);var c=z(b);function b(d){var a;return L(this,b),(a=c.call(this,d)).containerClassName="polygonAnnotation",a.svgElementName="svg:polygon",a}return b}(f),ac=function(b){x(a,b);var c=z(a);function a(b){L(this,a);var d,e,f,g=!!(b.data.hasPopup||null!==(d=b.data.titleObj)&& void 0!==d&&d.str||null!==(e=b.data.contentsObj)&& void 0!==e&&e.str||null!==(f=b.data.richText)&& void 0!==f&&f.str);return c.call(this,b,{isRenderable:g,ignoreBorder:!0})}return N(a,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),a}(a),ad=function(b){x(a,b);var c=z(a);function a(b){L(this,a);var d,e,f,g,h=!!(b.data.hasPopup||null!==(d=b.data.titleObj)&& void 0!==d&&d.str||null!==(e=b.data.contentsObj)&& void 0!==e&&e.str||null!==(f=b.data.richText)&& void 0!==f&&f.str);return(g=c.call(this,b,{isRenderable:h,ignoreBorder:!0})).containerClassName="inkAnnotation",g.svgElementName="svg:polyline",g}return N(a,[{key:"render",value:function(){this.container.className=this.containerClassName;var f,a=this.data,j=a.rect[2]-a.rect[0],k=a.rect[3]-a.rect[1],g=this.svgFactory.create(j,k),c=E(a.inkLists);try{for(c.s();!(f=c.n()).done;){var h,l=f.value,d=[],e=E(l);try{for(e.s();!(h=e.n()).done;){var i=h.value,m=i.x-a.rect[0],n=a.rect[3]-i.y;d.push("".concat(m,",").concat(n))}}catch(o){e.e(o)}finally{e.f()}d=d.join(" ");var b=this.svgFactory.createElement(this.svgElementName);b.setAttribute("points",d),b.setAttribute("stroke-width",a.borderStyle.width||1),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),this._createPopup(b,a),g.appendChild(b)}}catch(p){c.e(p)}finally{c.f()}return this.container.append(g),this.container}}]),a}(a),ae=function(b){x(a,b);var c=z(a);function a(b){L(this,a);var d,e,f,g=!!(b.data.hasPopup||null!==(d=b.data.titleObj)&& void 0!==d&&d.str||null!==(e=b.data.contentsObj)&& void 0!==e&&e.str||null!==(f=b.data.richText)&& void 0!==f&&f.str);return c.call(this,b,{isRenderable:g,ignoreBorder:!0,createQuadrilaterals:!0})}return N(a,[{key:"render",value:function(){return(this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals)?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),a}(a),af=function(b){x(a,b);var c=z(a);function a(b){L(this,a);var d,e,f,g=!!(b.data.hasPopup||null!==(d=b.data.titleObj)&& void 0!==d&&d.str||null!==(e=b.data.contentsObj)&& void 0!==e&&e.str||null!==(f=b.data.richText)&& void 0!==f&&f.str);return c.call(this,b,{isRenderable:g,ignoreBorder:!0,createQuadrilaterals:!0})}return N(a,[{key:"render",value:function(){return(this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals)?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),a}(a),ag=function(b){x(a,b);var c=z(a);function a(b){L(this,a);var d,e,f,g=!!(b.data.hasPopup||null!==(d=b.data.titleObj)&& void 0!==d&&d.str||null!==(e=b.data.contentsObj)&& void 0!==e&&e.str||null!==(f=b.data.richText)&& void 0!==f&&f.str);return c.call(this,b,{isRenderable:g,ignoreBorder:!0,createQuadrilaterals:!0})}return N(a,[{key:"render",value:function(){return(this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals)?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),a}(a),ah=function(b){x(a,b);var c=z(a);function a(b){L(this,a);var d,e,f,g=!!(b.data.hasPopup||null!==(d=b.data.titleObj)&& void 0!==d&&d.str||null!==(e=b.data.contentsObj)&& void 0!==e&&e.str||null!==(f=b.data.richText)&& void 0!==f&&f.str);return c.call(this,b,{isRenderable:g,ignoreBorder:!0,createQuadrilaterals:!0})}return N(a,[{key:"render",value:function(){return(this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals)?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),a}(a),ai=function(b){x(a,b);var c=z(a);function a(b){L(this,a);var d,e,f,g=!!(b.data.hasPopup||null!==(d=b.data.titleObj)&& void 0!==d&&d.str||null!==(e=b.data.contentsObj)&& void 0!==e&&e.str||null!==(f=b.data.richText)&& void 0!==f&&f.str);return c.call(this,b,{isRenderable:g,ignoreBorder:!0})}return N(a,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),a}(a),aj=function(b){x(a,b);var c=z(a);function a(h){L(this,a);var d,b,f=(b=c.call(this,h,{isRenderable:!0})).data.file,e=f.filename,g=f.content;return b.filename=(0,k.getFilenameFromUrl)(e),b.content=g,null===(d=b.linkService.eventBus)|| void 0===d||d.dispatch("fileattachmentannotation",{source:B(b),id:(0,j.stringToPDFString)(e),filename:e,content:g}),b}return N(a,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var b,c,a=document.createElement("div");return a.style.height=this.container.style.height,a.style.width=this.container.style.width,a.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(null!==(b=this.data.titleObj)&& void 0!==b&&b.str||null!==(c=this.data.contentsObj)&& void 0!==c&&c.str||this.data.richText)&&this._createPopup(a,this.data),this.container.appendChild(a),this.container}},{key:"_download",value:function(){var a;null===(a=this.downloadManager)|| void 0===a||a.openOrDownloadData(this.container,this.content,this.filename)}}]),a}(a),g=function(){function a(){L(this,a)}return N(a,null,[{key:"render",value:function(b){var p,e=[],i=[],f=E(b.annotations);try{for(f.s();!(p=f.n()).done;){var g=p.value;if(g){if(g.annotationType===j.AnnotationType.POPUP){i.push(g);continue}e.push(g)}}}catch(t){f.e(t)}finally{f.f()}i.length&&e.push.apply(e,i);for(var c=b.div,m=0,q=e;m<q.length;m++){var r=q[m],n=Q.create({data:r,layer:c,page:b.page,viewport:b.viewport,linkService:b.linkService,downloadManager:b.downloadManager,imageResourcesPath:b.imageResourcesPath||"",renderForms:!1!==b.renderForms,svgFactory:new k.DOMSVGFactory,annotationStorage:b.annotationStorage||new l.AnnotationStorage,enableScripting:b.enableScripting,hasJSActions:b.hasJSActions,fieldObjects:b.fieldObjects,mouseState:b.mouseState||{isDown:!1}});if(n.isRenderable){var d=n.render();if(r.hidden&&(d.style.visibility="hidden"),Array.isArray(d)){var s,h=E(d);try{for(h.s();!(s=h.n()).done;){var u=s.value;c.appendChild(u)}}catch(v){h.e(v)}finally{h.f()}}else n instanceof X?c.prepend(d):c.appendChild(d)}}o(this,a,ak).call(this,c,b.annotationCanvasMap)}},{key:"update",value:function(c){var k,l,p,e=c.page,v=c.viewport,w=c.annotations,x=c.annotationCanvasMap,m=c.div,f=v.transform,y="matrix(".concat(f.join(","),")"),g=E(w);try{for(g.s();!(p=g.n()).done;){var b=p.value,q=m.querySelectorAll('[data-annotation-id="'.concat(b.id,'"]'));if(q){var r,h=E(q);try{for(h.s();!(r=h.n()).done;){var d=r.value;if(b.hasOwnCanvas){var s=j.Util.normalizeRect([b.rect[0],e.view[3]-b.rect[1]+e.view[1],b.rect[2],e.view[3]-b.rect[3]+e.view[1]]);if(!l){k=Math.abs(f[0]||f[1]);for(var n=f.slice(),i=0;i<4;i++)n[i]=Math.sign(n[i]);l="matrix(".concat(n.join(","),")")}var t=s[0]*k,u=s[1]*k;d.style.left="".concat(t,"px"),d.style.top="".concat(u,"px"),d.style.transformOrigin="".concat(-t,"px ").concat(-u,"px"),d.style.transform=l}else d.style.transform=y}}catch(z){h.e(z)}finally{h.f()}}}}catch(A){g.e(A)}finally{g.f()}o(this,a,ak).call(this,m,x),m.hidden=!1}}]),a}();function ak(h,c){if(c){var e,a=E(c);try{for(a.s();!(e=a.n()).done;){var f=F(e.value,2),i=f[0],g=f[1],b=h.querySelector('[data-annotation-id="'.concat(i,'"]'));if(b){var d=b.firstChild;"CANVAS"===d.nodeName?b.replaceChild(g,d):b.insertBefore(g,d)}}}catch(j){a.e(j)}finally{a.f()}c.clear()}}d.AnnotationLayer=g},(c,a)=>{"use strict";function d(a,b){return i(a)||h(a,b)||f(a,b)||e()}function e(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(a,c){if(a){if("string"==typeof a)return g(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return g(a,c)}}function g(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function h(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}function i(a){if(Array.isArray(a))return a}function j(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function k(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function l(a,b,c){return b&&k(a.prototype,b),c&&k(a,c),a}function m(a){return Math.floor(255*Math.max(0,Math.min(1,a))).toString(16).padStart(2,"0")}Object.defineProperty(a,"__esModule",{value:!0}),a.ColorConverters=void 0;var b=function(){function a(){j(this,a)}return l(a,null,[{key:"CMYK_G",value:function(b){var a=d(b,4),c=a[0],e=a[1],f=a[2],g=a[3];return["G",1-Math.min(1,.3*c+.59*f+.11*e+g)]}},{key:"G_CMYK",value:function(a){return["CMYK",0,0,0,1-d(a,1)[0]]}},{key:"G_RGB",value:function(b){var a=d(b,1)[0];return["RGB",a,a,a]}},{key:"G_HTML",value:function(b){var c=d(b,1)[0],a=m(c);return"#".concat(a).concat(a).concat(a)}},{key:"RGB_G",value:function(b){var a=d(b,3),c=a[0],e=a[1],f=a[2];return["G",.3*c+.59*e+.11*f]}},{key:"RGB_HTML",value:function(b){var a=d(b,3),c=a[0],e=a[1],f=a[2],g=m(c),h=m(e),i=m(f);return"#".concat(g).concat(h).concat(i)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(c){var a=d(c,4),e=a[0],f=a[1],g=a[2],b=a[3];return["RGB",1-Math.min(1,e+b),1-Math.min(1,g+b),1-Math.min(1,f+b)]}},{key:"CMYK_HTML",value:function(a){return this.RGB_HTML(this.CMYK_RGB(a))}},{key:"RGB_CMYK",value:function(f){var a=d(f,3),g=a[0],h=a[1],i=a[2],b=1-g,c=1-h,e=1-i,j=Math.min(b,c,e);return["CMYK",b,c,e,j]}}]),a}();a.ColorConverters=b},(d,a,b)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.XfaLayer=void 0;var e=b(4),f=b(147);function g(a,b){return j(a)||i(a,b)||l(a,b)||h()}function h(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}function j(a){if(Array.isArray(a))return a}function k(a,d){var b="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!b){if(Array.isArray(a)||(b=l(a))||d&&a&&"number"==typeof a.length){b&&(a=b);var e=0,c=function(){};return{s:c,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a},f:c}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){b=b.call(a)},n:function(){var a=b.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==b.return||b.return()}finally{if(h)throw f}}}}function l(a,c){if(a){if("string"==typeof a)return m(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return m(a,c)}}function m(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function n(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function o(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function p(a,b,c){return b&&o(a.prototype,b),c&&o(a,c),a}var c=function(){function a(){n(this,a)}return p(a,null,[{key:"setupStorage",value:function(a,h,c,i,e){var b=i.getValue(h,{value:null});switch(c.name){case"textarea":if(null!==b.value&&(a.textContent=b.value),"print"===e)break;a.addEventListener("input",function(a){i.setValue(h,{value:a.target.value})});break;case"input":if("radio"===c.attributes.type||"checkbox"===c.attributes.type){if(b.value===c.attributes.xfaOn?a.setAttribute("checked",!0):b.value===c.attributes.xfaOff&&a.removeAttribute("checked"),"print"===e)break;a.addEventListener("change",function(a){i.setValue(h,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(null!==b.value&&a.setAttribute("value",b.value),"print"===e)break;a.addEventListener("input",function(a){i.setValue(h,{value:a.target.value})})}break;case"select":if(null!==b.value){var f,d=k(c.children);try{for(d.s();!(f=d.n()).done;){var g=f.value;g.attributes.value===b.value&&(g.attributes.selected=!0)}}catch(j){d.e(j)}finally{d.f()}}a.addEventListener("input",function(b){var a=b.target.options,c=-1===a.selectedIndex?"":a[a.selectedIndex].value;i.setValue(h,{value:c})})}}},{key:"setAttributes",value:function(f){var h,c=f.html,k=f.element,l=f.storage,m=void 0===l?null:l,q=f.intent,i=f.linkService,a=k.attributes,n=c instanceof HTMLAnchorElement;"radio"===a.type&&(a.name="".concat(a.name,"-").concat(q));for(var j=0,o=Object.entries(a);j<o.length;j++){var p=g(o[j],2),b=p[0],d=p[1];if(null!=d&&"dataId"!==b){if("style"!==b){if("textContent"===b)c.textContent=d;else if("class"===b)d.length&&c.setAttribute(b,d.join(" "));else{if(n&&("href"===b||"newWindow"===b))continue;c.setAttribute(b,d)}}else Object.assign(c.style,d)}}n&&(i.addLinkAttributes||(0,e.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),null===(h=i.addLinkAttributes)|| void 0===h||h.call(i,c,a.href,a.newWindow)),m&&a.dataId&&this.setupStorage(c,a.dataId,k,m)}},{key:"render",value:function(b){var w=b.annotationStorage,q=b.linkService,e=b.xfaHtml,l=b.intent||"display",m=document.createElement(e.name);e.attributes&&this.setAttributes({html:m,element:e,intent:l,linkService:q});var c=[[e,-1,m]],h=b.div;if(h.appendChild(m),b.viewport){var x="matrix(".concat(b.viewport.transform.join(","),")");h.style.transform=x}"richText"!==l&&h.setAttribute("class","xfaLayer xfaFont");for(var n=[];c.length>0;){var o,p=g(c[c.length-1],3),r=p[0],y=p[1],s=p[2];if(y+1===r.children.length){c.pop();continue}var a=r.children[++c[c.length-1][1]];if(null!==a){var i=a.name;if("#text"===i){var t=document.createTextNode(a.value);n.push(t),s.appendChild(t);continue}var d=void 0;if(d=null!=a&&null!==(o=a.attributes)&& void 0!==o&&o.xmlns?document.createElementNS(a.attributes.xmlns,i):document.createElement(i),s.appendChild(d),a.attributes&&this.setAttributes({html:d,element:a,storage:w,intent:l,linkService:q}),a.children&&a.children.length>0)c.push([a,-1,d]);else if(a.value){var u=document.createTextNode(a.value);f.XfaText.shouldBuildText(i)&&n.push(u),d.appendChild(u)}}}var v,j=k(h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(j.s();!(v=j.n()).done;)v.value.setAttribute("readOnly",!0)}catch(z){j.e(z)}finally{j.f()}return{textDivs:n}}},{key:"update",value:function(a){var b="matrix(".concat(a.viewport.transform.join(","),")");a.div.style.transform=b,a.div.hidden=!1}}]),a}();a.XfaLayer=c},(c,a,b)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.renderTextLayer=x;var d=b(4);function e(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function f(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,d){var b="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!b){if(Array.isArray(a)||(b=i(a))||d&&a&&"number"==typeof a.length){b&&(a=b);var e=0,c=function(){};return{s:c,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a},f:c}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){b=b.call(a)},n:function(){var a=b.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==b.return||b.return()}finally{if(h)throw f}}}}function i(a,c){if(a){if("string"==typeof a)return j(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return j(a,c)}}function j(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}var k=1e5,l=30,m=.8,n=new Map,o=/^\s+$/g;function p(c,a){var h=n.get(c);if(h)return h;a.save(),a.font="".concat(l,"px ").concat(c);var i=a.measureText(""),b=i.fontBoundingBoxAscent,e=Math.abs(i.fontBoundingBoxDescent);if(b){a.restore();var j=b/(b+e);return n.set(c,j),j}a.strokeStyle="red",a.clearRect(0,0,l,l),a.strokeText("g",0,0);var d=a.getImageData(0,0,l,l).data;e=0;for(var f=d.length-1-3;f>=0;f-=4)if(d[f]>0){e=Math.ceil(f/4/l);break}a.clearRect(0,0,l,l),a.strokeText("A",0,l),d=a.getImageData(0,0,l,l).data,b=0;for(var g=0,o=d.length;g<o;g+=4)if(d[g]>0){b=l-Math.floor(g/4/l);break}if(a.restore(),b){var k=b/(b+e);return n.set(c,k),k}return n.set(c,m),m}function q(b,a,x,y){var c=document.createElement("span"),h=b._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==a.str,hasEOL:a.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==a.str,hasEOL:a.hasEOL};b._textDivs.push(c);var f=d.Util.transform(b._viewport.transform,a.transform),e=Math.atan2(f[1],f[0]),i=x[a.fontName];i.vertical&&(e+=Math.PI/2);var j=Math.hypot(f[2],f[3]),k=j*p(i.fontFamily,y);0===e?(q=f[4],r=f[5]-k):(q=f[4]+k*Math.sin(e),r=f[5]-k*Math.cos(e)),c.style.left="".concat(q,"px"),c.style.top="".concat(r,"px"),c.style.fontSize="".concat(j,"px"),c.style.fontFamily=i.fontFamily,c.setAttribute("role","presentation"),c.textContent=a.str,c.dir=a.dir,b._fontInspectorEnabled&&(c.dataset.fontName=a.fontName),0!==e&&(h.angle=e*(180/Math.PI));var l=!1;if(a.str.length>1||b._enhanceTextSelection&&o.test(a.str))l=!0;else if(" "!==a.str&&a.transform[0]!==a.transform[3]){var m=Math.abs(a.transform[0]),n=Math.abs(a.transform[3]);m!==n&&Math.max(m,n)/Math.min(m,n)>1.5&&(l=!0)}if(l&&(i.vertical?h.canvasWidth=a.height*b._viewport.scale:h.canvasWidth=a.width*b._viewport.scale),b._textDivProperties.set(c,h),b._textContentStream&&b._layoutText(c),b._enhanceTextSelection&&h.hasText){var q,r,s,g,t=1,u=0;0!==e&&(t=Math.cos(e),u=Math.sin(e));var v=(i.vertical?a.height:a.width)*b._viewport.scale,w=j;0!==e?(s=[t,u,-u,t,q,r],g=d.Util.getAxialAlignedBoundingBox([0,0,v,w],s)):g=[q,r,q+v,r+w],b._bounds.push({left:g[0],top:g[1],right:g[2],bottom:g[3],div:c,size:[v,w],m:s})}}function r(a){if(!a._canceled){var c=a._textDivs,d=a._capability,e=c.length;if(e>k){a._renderingDone=!0,d.resolve();return}if(!a._textContentStream)for(var b=0;b<e;b++)a._layoutText(c[b]);a._renderingDone=!0,d.resolve()}}function s(d,e,f){for(var a=0,c=0;c<f;c++){var b=d[e++];b>0&&(a=a?Math.min(b,a):b)}return a}function t(l){for(var j=l._bounds,q=l._viewport,k=u(q.width,q.height,j),h=0;h<k.length;h++){var o=j[h].div,i=l._textDivProperties.get(o);if(0===i.angle){i.paddingLeft=j[h].left-k[h].left,i.paddingTop=j[h].top-k[h].top,i.paddingRight=k[h].right-j[h].right,i.paddingBottom=k[h].bottom-j[h].bottom,l._textDivProperties.set(o,i);continue}for(var f=k[h],m=j[h],p=m.m,c=p[0],e=p[1],r=[[0,0],[0,m.size[1]],[m.size[0],0],m.size],a=new Float64Array(64),b=0,t=r.length;b<t;b++){var g=d.Util.applyTransform(r[b],p);a[b+0]=c&&(f.left-g[0])/c,a[b+4]=e&&(f.top-g[1])/e,a[b+8]=c&&(f.right-g[0])/c,a[b+12]=e&&(f.bottom-g[1])/e,a[b+16]=e&&-((f.left-g[0])/e),a[b+20]=c&&(f.top-g[1])/c,a[b+24]=e&&-((f.right-g[0])/e),a[b+28]=c&&(f.bottom-g[1])/c,a[b+32]=c&&-((f.left-g[0])/c),a[b+36]=e&&-((f.top-g[1])/e),a[b+40]=c&&-((f.right-g[0])/c),a[b+44]=e&&-((f.bottom-g[1])/e),a[b+48]=e&&(f.left-g[0])/e,a[b+52]=c&&-((f.top-g[1])/c),a[b+56]=e&&(f.right-g[0])/e,a[b+60]=c&&-((f.bottom-g[1])/c)}var n=1+Math.min(Math.abs(c),Math.abs(e));i.paddingLeft=s(a,32,16)/n,i.paddingTop=s(a,48,16)/n,i.paddingRight=s(a,0,16)/n,i.paddingBottom=s(a,16,16)/n,l._textDivProperties.set(o,i)}}function u(l,m,e){var a=e.map(function(a,b){return{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom,index:b,x1New:void 0,x2New:void 0}});v(l,a);var i,b=Array(e.length),c=h(a);try{for(c.s();!(i=c.n()).done;){var f=i.value;b[f.index]={left:f.x1New,top:0,right:f.x2New,bottom:0}}}catch(n){c.e(n)}finally{c.f()}e.map(function(e,d){var f=b[d],c=a[d];c.x1=e.top,c.y1=l-f.right,c.x2=e.bottom,c.y2=l-f.left,c.index=d,c.x1New=void 0,c.x2New=void 0}),v(m,a);var j,d=h(a);try{for(d.s();!(j=d.n()).done;){var g=j.value,k=g.index;b[k].top=g.x1New,b[k].bottom=g.x2New}}catch(o){d.e(o)}finally{d.f()}return b}function v(v,q){q.sort(function(a,b){return a.x1-b.x1||a.index-b.index});var r,b=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}],m=h(q);try{for(m.s();!(r=m.n()).done;){for(var c=r.value,f=0;f<b.length&&b[f].end<=c.y1;)f++;for(var g=b.length-1;g>=0&&b[g].start>=c.y2;)g--;var j=void 0,a=void 0,d=void 0,e=void 0,k=-1/0;for(d=f;d<=g;d++){a=(j=b[d]).boundary;var s=void 0;(s=a.x2>c.x1?a.index>c.index?a.x1New:c.x1:void 0===a.x2New?(a.x2+c.x1)/2:a.x2New)>k&&(k=s)}for(c.x1New=k,d=f;d<=g;d++)a=(j=b[d]).boundary,void 0===a.x2New?a.x2>c.x1?a.index>c.index&&(a.x2New=a.x2):a.x2New=k:a.x2New>k&&(a.x2New=Math.max(k,a.x2));var i=[],t=null;for(d=f;d<=g;d++){var n=(a=(j=b[d]).boundary).x2>c.x2?a:c;t===n?i[i.length-1].end=j.end:(i.push({start:j.start,end:j.end,boundary:n}),t=n)}for(b[f].start<c.y1&&(i[0].start=c.y1,i.unshift({start:b[f].start,end:c.y1,boundary:b[f].boundary})),c.y2<b[g].end&&(i[i.length-1].end=c.y2,i.push({start:c.y2,end:b[g].end,boundary:b[g].boundary})),d=f;d<=g;d++)if(a=(j=b[d]).boundary,void 0===a.x2New){var l=!1;for(e=f-1;!l&&e>=0&&b[e].start>=a.y1;e--)l=b[e].boundary===a;for(e=g+1;!l&&e<b.length&&b[e].end<=a.y2;e++)l=b[e].boundary===a;for(e=0;!l&&e<i.length;e++)l=i[e].boundary===a;l||(a.x2New=k)}Array.prototype.splice.apply(b,[f,g-f+1].concat(i))}}catch(w){m.e(w)}finally{m.f()}for(var o=0,u=b;o<u.length;o++){var p=u[o].boundary;void 0===p.x2New&&(p.x2New=Math.max(v,p.x2))}}var w=function(){function a(b){var c,m=this,g=b.textContent,h=b.textContentStream,f=b.container,i=b.viewport,j=b.textDivs,k=b.textContentItemsStr,l=b.enhanceTextSelection;e(this,a),this._textContent=g,this._textContentStream=h,this._container=f,this._document=f.ownerDocument,this._viewport=i,this._textDivs=j||[],this._textContentItemsStr=k||[],this._enhanceTextSelection=!!l,this._fontInspectorEnabled=!!(null!==(c=globalThis.FontInspector)&& void 0!==c&&c.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,d.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){m._enhanceTextSelection||(m._textDivProperties=null),m._layoutTextCtx&&(m._layoutTextCtx.canvas.width=0,m._layoutTextCtx.canvas.height=0,m._layoutTextCtx=null)}).catch(function(){})}return g(a,[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new d.AbortException("TextLayer task cancelled.")).catch(function(){}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(b,c){for(var a=0,d=b.length;a<d;a++){if(void 0===b[a].str){if("beginMarkedContentProps"===b[a].type||"beginMarkedContent"===b[a].type){var e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==b[a].id&&this._container.setAttribute("id","".concat(b[a].id)),e.appendChild(this._container)}else"endMarkedContent"===b[a].type&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(b[a].str),q(this,b[a],c,this._layoutTextCtx)}}},{key:"_layoutText",value:function(c){var a=this._textDivProperties.get(c),b="";if(0!==a.canvasWidth&&a.hasText){var f=c.style,d=f.fontSize,e=f.fontFamily;(d!==this._layoutTextLastFontSize||e!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font="".concat(d," ").concat(e),this._layoutTextLastFontSize=d,this._layoutTextLastFontFamily=e);var g=this._layoutTextCtx.measureText(c.textContent).width;if(g>0){var h=a.canvasWidth/g;this._enhanceTextSelection&&(a.scale=h),b="scaleX(".concat(h,")")}}if(0!==a.angle&&(b="rotate(".concat(a.angle,"deg) ").concat(b)),b.length>0&&(this._enhanceTextSelection&&(a.originalTransform=b),c.style.transform=b),a.hasText&&this._container.appendChild(c),a.hasEOL){var i=document.createElement("br");i.setAttribute("role","presentation"),this._container.appendChild(i)}}},{key:"_render",value:function(){var g=this,h=arguments.length>0&& void 0!==arguments[0]?arguments[0]:0,b=(0,d.createPromiseCapability)(),i=Object.create(null),a=this._document.createElement("canvas");if(a.height=a.width=l,a.mozOpaque=!0,this._layoutTextCtx=a.getContext("2d",{alpha:!1}),this._textContent){var c=this._textContent.items,e=this._textContent.styles;this._processItems(c,e),b.resolve()}else if(this._textContentStream){var f=function a(){g._reader.read().then(function(c){var d=c.value;if(c.done){b.resolve();return}Object.assign(i,d.styles),g._processItems(d.items,i),a()},b.reject)};this._reader=this._textContentStream.getReader(),f()}else throw Error('Neither "textContent" nor "textContentStream" parameters specified.');b.promise.then(function(){i=null,h?g._renderTimer=setTimeout(function(){r(g),g._renderTimer=null},h):r(g)},this._capability.reject)}},{key:"expandTextDivs",value:function(){var f=arguments.length>0&& void 0!==arguments[0]&&arguments[0];if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(t(this),this._bounds=null);for(var c=[],b=[],e=0,g=this._textDivs.length;e<g;e++){var d=this._textDivs[e],a=this._textDivProperties.get(d);a.hasText&&(f?(c.length=0,b.length=0,a.originalTransform&&c.push(a.originalTransform),a.paddingTop>0?(b.push("".concat(a.paddingTop,"px")),c.push("translateY(".concat(-a.paddingTop,"px)"))):b.push(0),a.paddingRight>0?b.push("".concat(a.paddingRight/a.scale,"px")):b.push(0),a.paddingBottom>0?b.push("".concat(a.paddingBottom,"px")):b.push(0),a.paddingLeft>0?(b.push("".concat(a.paddingLeft/a.scale,"px")),c.push("translateX(".concat(-a.paddingLeft/a.scale,"px)"))):b.push(0),d.style.padding=b.join(" "),c.length&&(d.style.transform=c.join(" "))):(d.style.padding=null,d.style.transform=a.originalTransform))}}}}]),a}();function x(a){var b=new w({textContent:a.textContent,textContentStream:a.textContentStream,container:a.container,viewport:a.viewport,textDivs:a.textDivs,textContentItemsStr:a.textContentItemsStr,enhanceTextSelection:a.enhanceTextSelection});return b._render(a.timeout),b}},(d,a,b)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.SVGGraphics=void 0;var e=b(4),f=b(1),g=b(6);function h(a){return k(a)||j(a)||q(a)||i()}function i(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function k(a){if(Array.isArray(a))return r(a)}function l(a,b){return o(a)||n(a,b)||q(a,b)||m()}function m(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}function o(a){if(Array.isArray(a))return a}function p(a,d){var b="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!b){if(Array.isArray(a)||(b=q(a))||d&&a&&"number"==typeof a.length){b&&(a=b);var e=0,c=function(){};return{s:c,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a},f:c}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){b=b.call(a)},n:function(){var a=b.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==b.return||b.return()}finally{if(h)throw f}}}}function q(a,c){if(a){if("string"==typeof a)return r(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return r(a,c)}}function r(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function s(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function t(a,b,c){return b&&s(a.prototype,b),c&&s(a,c),a}function u(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}var c=function a(){u(this,a),(0,e.unreachable)("Not implemented: SVGGraphics")};a.SVGGraphics=c;var v=function(f){var d,a=[],e=[],b=p(f);try{for(b.s();!(d=b.n()).done;){var c=d.value;if("save"===c.fn){a.push({fnId:92,fn:"group",items:[]}),e.push(a),a=a[a.length-1].items;continue}"restore"===c.fn?a=e.pop():a.push(c)}}catch(g){b.e(g)}finally{b.f()}return a},w=function(c){if(Number.isInteger(c))return c.toString();var a=c.toFixed(10),b=a.length-1;if("0"!==a[b])return a;do b--;while("0"===a[b])return a.substring(0,"."===a[b]?b:b+1)},x=function(a){if(0===a[4]&&0===a[5]){if(0===a[1]&&0===a[2])return 1===a[0]&&1===a[3]?"":"scale(".concat(w(a[0])," ").concat(w(a[3]),")");if(a[0]===a[3]&&a[1]=== -a[2]){var b=180*Math.acos(a[0])/Math.PI;return"rotate(".concat(w(b),")")}}else if(1===a[0]&&0===a[1]&&0===a[2]&&1===a[3])return"translate(".concat(w(a[4])," ").concat(w(a[5]),")");return"matrix(".concat(w(a[0])," ").concat(w(a[1])," ").concat(w(a[2])," ").concat(w(a[3])," ").concat(w(a[4])," ")+"".concat(w(a[5]),")")},y={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},z="http://www.w3.org/XML/1998/namespace",A="http://www.w3.org/1999/xlink",B=["butt","round","square"],C=["miter","round","bevel"],D=function(){for(var f=new Uint8Array([137,80,78,71,13,10,26,10]),h=12,d=new Int32Array(256),b=0;b<256;b++){for(var a=b,c=0;c<8;c++)a=1&a?3988292384^a>>1&2147483647:a>>1&2147483647;d[b]=a}function i(c,e,f){for(var a=-1,b=e;b<f;b++){var g=d[(a^c[b])&255];a=a>>>8^g}return -1^a}function j(c,f,b,g){var a=g,d=f.length;b[a]=d>>24&255,b[a+1]=d>>16&255,b[a+2]=d>>8&255,b[a+3]=255&d,b[a+=4]=255&c.charCodeAt(0),b[a+1]=255&c.charCodeAt(1),b[a+2]=255&c.charCodeAt(2),b[a+3]=255&c.charCodeAt(3),a+=4,b.set(f,a);var e=i(b,g+4,a+=f.length);b[a]=e>>24&255,b[a+1]=e>>16&255,b[a+2]=e>>8&255,b[a+3]=255&e}function k(d,e,f){for(var a=1,b=0,c=e;c<f;++c)b=(b+(a=(a+(255&d[c]))%65521))%65521;return b<<16|a}function l(a){if(!g.isNodeJS)return m(a);try{c=parseInt(process.versions.node)>=8?a:Buffer.from(a);var c,b=__webpack_require__(7324).deflateSync(c,{level:9});return b instanceof Uint8Array?b:new Uint8Array(b)}catch(d){(0,e.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+d)}return m(a)}function m(d){var c=d.length,e=65535,h=Math.ceil(c/e),b=new Uint8Array(2+c+5*h+4),a=0;b[a++]=120,b[a++]=156;for(var f=0;c>e;)b[a++]=0,b[a++]=255,b[a++]=255,b[a++]=0,b[a++]=0,b.set(d.subarray(f,f+e),a),a+=e,f+=e,c-=e;b[a++]=1,b[a++]=255&c,b[a++]=c>>8&255,b[a++]=255& ~c,b[a++]=(65535& ~c)>>8&255,b.set(d.subarray(f),a),a+=d.length-f;var g=k(d,0,d.length);return b[a++]=g>>24&255,b[a++]=g>>16&255,b[a++]=g>>8&255,b[a++]=255&g,b}function n(o,s,w,x){var k,m,a,b=o.width,c=o.height,y=o.data;switch(s){case e.ImageKind.GRAYSCALE_1BPP:m=0,k=1,a=b+7>>3;break;case e.ImageKind.RGB_24BPP:m=2,k=8,a=3*b;break;case e.ImageKind.RGBA_32BPP:m=6,k=8,a=4*b;break;default:throw Error("invalid format")}for(var n=new Uint8Array((1+a)*c),d=0,p=0,t=0;t<c;++t)n[d++]=0,n.set(y.subarray(p,p+a),d),p+=a,d+=a;if(s===e.ImageKind.GRAYSCALE_1BPP&&x){d=0;for(var u=0;u<c;u++){d++;for(var v=0;v<a;v++)n[d++]^=255}}var q=new Uint8Array([b>>24&255,b>>16&255,b>>8&255,255&b,c>>24&255,c>>16&255,c>>8&255,255&c,k,m,0,0,0]),r=l(n),z=f.length+3*h+q.length+r.length,g=new Uint8Array(z),i=0;return g.set(f,i),j("IHDR",q,g,i+=f.length),j("IDATA",r,g,i+=h+q.length),i+=h+r.length,j("IEND",new Uint8Array(0),g,i),(0,e.createObjectURL)(g,"image/png",w)}return function(a,b,c){var d=void 0===a.kind?e.ImageKind.GRAYSCALE_1BPP:a.kind;return n(a,d,b,c)}}(),E=function(){function a(){u(this,a),this.fontSizeScale=1,this.fontWeight=y.fontWeight,this.fontSize=0,this.textMatrix=e.IDENTITY_MATRIX,this.fontMatrix=e.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=e.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=y.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return t(a,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(a,b){this.x=a,this.y=b}}]),a}(),F=0,G=0,H=0;a.SVGGraphics=c=function(){function a(c,d){var g=arguments.length>2&& void 0!==arguments[2]&&arguments[2];for(var b in u(this,a),this.svgFactory=new f.DOMSVGFactory,this.current=new E,this.transformMatrix=e.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=c,this.objs=d,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!g,this._operatorIdMapping=[],e.OPS)this._operatorIdMapping[e.OPS[b]]=b}return t(a,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var a=this.current;this.extraStack.push(a),this.current=a.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(a){this.save(),this.executeOpTree(a),this.restore()}},{key:"loadDependencies",value:function(c){for(var k=this,d=c.fnArray,f=c.argsArray,a=0,g=d.length;a<g;a++)if(d[a]===e.OPS.dependency){var h,b=p(f[a]);try{var i=function(){var a=h.value,c=a.startsWith("g_")?k.commonObjs:k.objs,b=new Promise(function(b){c.get(a,b)});k.current.dependencies.push(b)};for(b.s();!(h=b.n()).done;)i()}catch(j){b.e(j)}finally{b.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(a,b,c,d,f,g){var h=[a,b,c,d,f,g];this.transformMatrix=e.Util.transform(this.transformMatrix,h),this.tgrp=null}},{key:"getSVG",value:function(b,a){var c=this;this.viewport=a;var d=this._initialize(a);return this.loadDependencies(b).then(function(){return c.transformMatrix=e.IDENTITY_MATRIX,c.executeOpTree(c.convertOpList(b)),d})}},{key:"convertOpList",value:function(b){for(var f=this._operatorIdMapping,g=b.argsArray,c=b.fnArray,d=[],a=0,h=c.length;a<h;a++){var e=c[a];d.push({fnId:e,fn:f[e],args:g[a]})}return v(d)}},{key:"executeOpTree",value:function(f){var d,b=p(f);try{for(b.s();!(d=b.n()).done;){var c=d.value,g=c.fn,h=c.fnId,a=c.args;switch(0|h){case e.OPS.beginText:this.beginText();break;case e.OPS.dependency:break;case e.OPS.setLeading:this.setLeading(a);break;case e.OPS.setLeadingMoveText:this.setLeadingMoveText(a[0],a[1]);break;case e.OPS.setFont:this.setFont(a);break;case e.OPS.showText:case e.OPS.showSpacedText:this.showText(a[0]);break;case e.OPS.endText:this.endText();break;case e.OPS.moveText:this.moveText(a[0],a[1]);break;case e.OPS.setCharSpacing:this.setCharSpacing(a[0]);break;case e.OPS.setWordSpacing:this.setWordSpacing(a[0]);break;case e.OPS.setHScale:this.setHScale(a[0]);break;case e.OPS.setTextMatrix:this.setTextMatrix(a[0],a[1],a[2],a[3],a[4],a[5]);break;case e.OPS.setTextRise:this.setTextRise(a[0]);break;case e.OPS.setTextRenderingMode:this.setTextRenderingMode(a[0]);break;case e.OPS.setLineWidth:this.setLineWidth(a[0]);break;case e.OPS.setLineJoin:this.setLineJoin(a[0]);break;case e.OPS.setLineCap:this.setLineCap(a[0]);break;case e.OPS.setMiterLimit:this.setMiterLimit(a[0]);break;case e.OPS.setFillRGBColor:this.setFillRGBColor(a[0],a[1],a[2]);break;case e.OPS.setStrokeRGBColor:this.setStrokeRGBColor(a[0],a[1],a[2]);break;case e.OPS.setStrokeColorN:this.setStrokeColorN(a);break;case e.OPS.setFillColorN:this.setFillColorN(a);break;case e.OPS.shadingFill:this.shadingFill(a[0]);break;case e.OPS.setDash:this.setDash(a[0],a[1]);break;case e.OPS.setRenderingIntent:this.setRenderingIntent(a[0]);break;case e.OPS.setFlatness:this.setFlatness(a[0]);break;case e.OPS.setGState:this.setGState(a[0]);break;case e.OPS.fill:this.fill();break;case e.OPS.eoFill:this.eoFill();break;case e.OPS.stroke:this.stroke();break;case e.OPS.fillStroke:this.fillStroke();break;case e.OPS.eoFillStroke:this.eoFillStroke();break;case e.OPS.clip:this.clip("nonzero");break;case e.OPS.eoClip:this.clip("evenodd");break;case e.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case e.OPS.paintImageXObject:this.paintImageXObject(a[0]);break;case e.OPS.paintInlineImageXObject:this.paintInlineImageXObject(a[0]);break;case e.OPS.paintImageMaskXObject:this.paintImageMaskXObject(a[0]);break;case e.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(a[0],a[1]);break;case e.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case e.OPS.closePath:this.closePath();break;case e.OPS.closeStroke:this.closeStroke();break;case e.OPS.closeFillStroke:this.closeFillStroke();break;case e.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case e.OPS.nextLine:this.nextLine();break;case e.OPS.transform:this.transform(a[0],a[1],a[2],a[3],a[4],a[5]);break;case e.OPS.constructPath:this.constructPath(a[0],a[1]);break;case e.OPS.endPath:this.endPath();break;case 92:this.group(c.items);break;default:(0,e.warn)("Unimplemented operator ".concat(g))}}}catch(i){b.e(i)}finally{b.f()}}},{key:"setWordSpacing",value:function(a){this.current.wordSpacing=a}},{key:"setCharSpacing",value:function(a){this.current.charSpacing=a}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(b,c,d,e,f,g){var a=this.current;a.textMatrix=a.lineMatrix=[b,c,d,e,f,g],a.textMatrixScale=Math.hypot(b,c),a.x=a.lineX=0,a.y=a.lineY=0,a.xcoords=[],a.ycoords=[],a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size","".concat(w(a.fontSize),"px")),a.tspan.setAttributeNS(null,"y",w(-a.y)),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtElement.appendChild(a.tspan)}},{key:"beginText",value:function(){var a=this.current;a.x=a.lineX=0,a.y=a.lineY=0,a.textMatrix=e.IDENTITY_MATRIX,a.lineMatrix=e.IDENTITY_MATRIX,a.textMatrixScale=1,a.tspan=this.svgFactory.createElement("svg:tspan"),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtgrp=this.svgFactory.createElement("svg:g"),a.xcoords=[],a.ycoords=[]}},{key:"moveText",value:function(b,c){var a=this.current;a.x=a.lineX+=b,a.y=a.lineY+=c,a.xcoords=[],a.ycoords=[],a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size","".concat(w(a.fontSize),"px")),a.tspan.setAttributeNS(null,"y",w(-a.y))}},{key:"showText",value:function(C){var a=this.current,m=a.font,n=a.fontSize;if(0!==n){var t,o=a.fontSizeScale,D=a.charSpacing,u=a.wordSpacing,g=a.fontDirection,v=a.textHScale*g,d=m.vertical,E=d?1:-1,F=m.defaultVMetrics,h=n*a.fontMatrix[0],c=0,i=p(C);try{for(i.s();!(t=i.n()).done;){var b=t.value;if(null===b){c+=g*u;continue}if((0,e.isNum)(b)){c+=E*b*n/1e3;continue}var A=(b.isSpace?u:0)+D,G=b.fontChar,q=void 0,r=void 0,f=b.width;if(d){var s=void 0,j=b.vmetric||F;s=-(s=b.vmetric?j[1]:.5*f)*h;var H=j[2]*h;f=j?-j[0]:f,q=s/o,r=(c+H)/o}else q=c/o,r=0;(b.isInFont||m.missingFile)&&(a.xcoords.push(a.x+q),d&&a.ycoords.push(-a.y+r),a.tspan.textContent+=G);var B=void 0;B=d?f*h-A*g:f*h+A*g,c+=B}}catch(I){i.e(I)}finally{i.f()}a.tspan.setAttributeNS(null,"x",a.xcoords.map(w).join(" ")),d?a.tspan.setAttributeNS(null,"y",a.ycoords.map(w).join(" ")):a.tspan.setAttributeNS(null,"y",w(-a.y)),d?a.y-=c:a.x+=c*v,a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size","".concat(w(a.fontSize),"px")),a.fontStyle!==y.fontStyle&&a.tspan.setAttributeNS(null,"font-style",a.fontStyle),a.fontWeight!==y.fontWeight&&a.tspan.setAttributeNS(null,"font-weight",a.fontWeight);var k=a.textRenderingMode&e.TextRenderingMode.FILL_STROKE_MASK;if(k===e.TextRenderingMode.FILL||k===e.TextRenderingMode.FILL_STROKE?(a.fillColor!==y.fillColor&&a.tspan.setAttributeNS(null,"fill",a.fillColor),a.fillAlpha<1&&a.tspan.setAttributeNS(null,"fill-opacity",a.fillAlpha)):a.textRenderingMode===e.TextRenderingMode.ADD_TO_PATH?a.tspan.setAttributeNS(null,"fill","transparent"):a.tspan.setAttributeNS(null,"fill","none"),k===e.TextRenderingMode.STROKE||k===e.TextRenderingMode.FILL_STROKE){var J=1/(a.textMatrixScale||1);this._setStrokeAttributes(a.tspan,J)}var l=a.textMatrix;0!==a.textRise&&(l=l.slice(),l[5]+=a.textRise),a.txtElement.setAttributeNS(null,"transform","".concat(x(l)," scale(").concat(w(v),", -1)")),a.txtElement.setAttributeNS(z,"xml:space","preserve"),a.txtElement.appendChild(a.tspan),a.txtgrp.appendChild(a.txtElement),this._ensureTransformGroup().appendChild(a.txtElement)}}},{key:"setLeadingMoveText",value:function(b,a){this.setLeading(-a),this.moveText(b,a)}},{key:"addFontStyle",value:function(a){if(!a.data)throw Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var b=(0,e.createObjectURL)(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(a.loadedName,'";')+" src: url(".concat(b,"); }\n")}},{key:"setFont",value:function(f){var a=this.current,b=this.commonObjs.get(f[0]),c=f[1];a.font=b,!this.embedFonts||b.missingFile||this.embeddedFonts[b.loadedName]||(this.addFontStyle(b),this.embeddedFonts[b.loadedName]=b),a.fontMatrix=b.fontMatrix||e.FONT_IDENTITY_MATRIX;var d="normal";b.black?d="900":b.bold&&(d="bold");var g=b.italic?"italic":"normal";c<0?(c=-c,a.fontDirection=-1):a.fontDirection=1,a.fontSize=c,a.fontFamily=b.loadedName,a.fontWeight=d,a.fontStyle=g,a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"y",w(-a.y)),a.xcoords=[],a.ycoords=[]}},{key:"endText",value:function(){var b,a=this.current;a.textRenderingMode&e.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(b=a.txtElement)&& void 0!==b&&b.hasChildNodes()&&(a.element=a.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(a){a>0&&(this.current.lineWidth=a)}},{key:"setLineCap",value:function(a){this.current.lineCap=B[a]}},{key:"setLineJoin",value:function(a){this.current.lineJoin=C[a]}},{key:"setMiterLimit",value:function(a){this.current.miterLimit=a}},{key:"setStrokeAlpha",value:function(a){this.current.strokeAlpha=a}},{key:"setStrokeRGBColor",value:function(a,b,c){this.current.strokeColor=e.Util.makeHexColor(a,b,c)}},{key:"setFillAlpha",value:function(a){this.current.fillAlpha=a}},{key:"setFillRGBColor",value:function(a,b,c){this.current.fillColor=e.Util.makeHexColor(a,b,c),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(a){this.current.strokeColor=this._makeColorN_Pattern(a)}},{key:"setFillColorN",value:function(a){this.current.fillColor=this._makeColorN_Pattern(a)}},{key:"shadingFill",value:function(l){var h=this.viewport.width,i=this.viewport.height,b=e.Util.inverseTransform(this.transformMatrix),c=e.Util.applyTransform([0,0],b),d=e.Util.applyTransform([0,i],b),f=e.Util.applyTransform([h,0],b),g=e.Util.applyTransform([h,i],b),j=Math.min(c[0],d[0],f[0],g[0]),k=Math.min(c[1],d[1],f[1],g[1]),m=Math.max(c[0],d[0],f[0],g[0]),n=Math.max(c[1],d[1],f[1],g[1]),a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x",j),a.setAttributeNS(null,"y",k),a.setAttributeNS(null,"width",m-j),a.setAttributeNS(null,"height",n-k),a.setAttributeNS(null,"fill",this._makeShadingPattern(l)),this.current.fillAlpha<1&&a.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(a)}},{key:"_makeColorN_Pattern",value:function(a){return"TilingPattern"===a[0]?this._makeTilingPattern(a):this._makeShadingPattern(a)}},{key:"_makeTilingPattern",value:function(b){var o=b[1],p=b[2],c=b[3]||e.IDENTITY_MATRIX,d=l(b[4],4),q=d[0],r=d[1],s=d[2],t=d[3],u=b[5],v=b[6],w=b[7],g="shading".concat(H++),x=e.Util.normalizeRect([].concat(h(e.Util.applyTransform([q,r],c)),h(e.Util.applyTransform([s,t],c)))),f=l(x,4),i=f[0],j=f[1],y=f[2],z=f[3],A=e.Util.singularValueDecompose2dScale(c),k=l(A,2),B=k[0],C=k[1],D=u*B,E=v*C,a=this.svgFactory.createElement("svg:pattern");a.setAttributeNS(null,"id",g),a.setAttributeNS(null,"patternUnits","userSpaceOnUse"),a.setAttributeNS(null,"width",D),a.setAttributeNS(null,"height",E),a.setAttributeNS(null,"x","".concat(i)),a.setAttributeNS(null,"y","".concat(j));var F=this.svg,G=this.transformMatrix,I=this.current.fillColor,J=this.current.strokeColor,m=this.svgFactory.create(y-i,z-j);if(this.svg=m,this.transformMatrix=c,2===w){var n=e.Util.makeHexColor.apply(e.Util,h(o));this.current.fillColor=n,this.current.strokeColor=n}return this.executeOpTree(this.convertOpList(p)),this.svg=F,this.transformMatrix=G,this.current.fillColor=I,this.current.strokeColor=J,a.appendChild(m.childNodes[0]),this.defs.appendChild(a),"url(#".concat(g,")")}},{key:"_makeShadingPattern",value:function(a){switch("string"==typeof a&&(a=this.objs.get(a)),a[0]){case"RadialAxial":var c="shading".concat(H++),m=a[3];switch(a[1]){case"axial":var f=a[4],g=a[5];(j=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",c),j.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),j.setAttributeNS(null,"x1",f[0]),j.setAttributeNS(null,"y1",f[1]),j.setAttributeNS(null,"x2",g[0]),j.setAttributeNS(null,"y2",g[1]);break;case"radial":var h=a[4],i=a[5],n=a[6],o=a[7];(j=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",c),j.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),j.setAttributeNS(null,"cx",i[0]),j.setAttributeNS(null,"cy",i[1]),j.setAttributeNS(null,"r",o),j.setAttributeNS(null,"fx",h[0]),j.setAttributeNS(null,"fy",h[1]),j.setAttributeNS(null,"fr",n);break;default:throw Error("Unknown RadialAxial type: ".concat(a[1]))}var j,k,b=p(m);try{for(b.s();!(k=b.n()).done;){var l=k.value,d=this.svgFactory.createElement("svg:stop");d.setAttributeNS(null,"offset",l[0]),d.setAttributeNS(null,"stop-color",l[1]),j.appendChild(d)}}catch(q){b.e(q)}finally{b.f()}return this.defs.appendChild(j),"url(#".concat(c,")");case"Mesh":return(0,e.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw Error("Unknown IR type: ".concat(a[0]))}}},{key:"setDash",value:function(a,b){this.current.dashArray=a,this.current.dashPhase=b}},{key:"constructPath",value:function(h,b){var j,g=this.current,c=g.x,d=g.y,f=[],a=0,i=p(h);try{for(i.s();!(j=i.n()).done;){var m=j.value;switch(0|m){case e.OPS.rectangle:c=b[a++],d=b[a++];var n=b[a++],o=b[a++],k=c+n,l=d+o;f.push("M",w(c),w(d),"L",w(k),w(d),"L",w(k),w(l),"L",w(c),w(l),"Z");break;case e.OPS.moveTo:c=b[a++],d=b[a++],f.push("M",w(c),w(d));break;case e.OPS.lineTo:c=b[a++],d=b[a++],f.push("L",w(c),w(d));break;case e.OPS.curveTo:c=b[a+4],d=b[a+5],f.push("C",w(b[a]),w(b[a+1]),w(b[a+2]),w(b[a+3]),w(c),w(d)),a+=6;break;case e.OPS.curveTo2:f.push("C",w(c),w(d),w(b[a]),w(b[a+1]),w(b[a+2]),w(b[a+3])),c=b[a+2],d=b[a+3],a+=4;break;case e.OPS.curveTo3:c=b[a+2],d=b[a+3],f.push("C",w(b[a]),w(b[a+1]),w(c),w(d),w(c),w(d)),a+=4;break;case e.OPS.closePath:f.push("Z")}}}catch(q){i.e(q)}finally{i.f()}f=f.join(" "),g.path&&h.length>0&&h[0]!==e.OPS.rectangle&&h[0]!==e.OPS.moveTo?f=g.path.getAttributeNS(null,"d")+f:(g.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(g.path)),g.path.setAttributeNS(null,"d",f),g.path.setAttributeNS(null,"fill","none"),g.element=g.path,g.setCurrentPoint(c,d)}},{key:"endPath",value:function(){var a=this.current;if(a.path=null,this.pendingClip){if(!a.element){this.pendingClip=null;return}var e="clippath".concat(F++),b=this.svgFactory.createElement("svg:clipPath");b.setAttributeNS(null,"id",e),b.setAttributeNS(null,"transform",x(this.transformMatrix));var d=a.element.cloneNode(!0);if("evenodd"===this.pendingClip?d.setAttributeNS(null,"clip-rule","evenodd"):d.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,b.appendChild(d),this.defs.appendChild(b),a.activeClipUrl){a.clipGroup=null;var f,c=p(this.extraStack);try{for(c.s();!(f=c.n()).done;)f.value.clipGroup=null}catch(g){c.e(g)}finally{c.f()}b.setAttributeNS(null,"clip-path",a.activeClipUrl)}a.activeClipUrl="url(#".concat(e,")"),this.tgrp=null}}},{key:"clip",value:function(a){this.pendingClip=a}},{key:"closePath",value:function(){var a=this.current;if(a.path){var b="".concat(a.path.getAttributeNS(null,"d"),"Z");a.path.setAttributeNS(null,"d",b)}}},{key:"setLeading",value:function(a){this.current.leading=-a}},{key:"setTextRise",value:function(a){this.current.textRise=a}},{key:"setTextRenderingMode",value:function(a){this.current.textRenderingMode=a}},{key:"setHScale",value:function(a){this.current.textHScale=a/100}},{key:"setRenderingIntent",value:function(a){}},{key:"setFlatness",value:function(a){}},{key:"setGState",value:function(g){var c,b=p(g);try{for(b.s();!(c=b.n()).done;){var d=l(c.value,2),f=d[0],a=d[1];switch(f){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a);break;case"CA":this.setStrokeAlpha(a);break;case"ca":this.setFillAlpha(a);break;default:(0,e.warn)("Unimplemented graphic state operator ".concat(f))}}}catch(h){b.e(h)}finally{b.f()}}},{key:"fill",value:function(){var a=this.current;a.element&&(a.element.setAttributeNS(null,"fill",a.fillColor),a.element.setAttributeNS(null,"fill-opacity",a.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var a=this.current;a.element&&(this._setStrokeAttributes(a.element),a.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(a){var d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:1,b=this.current,c=b.dashArray;1!==d&&c.length>0&&(c=c.map(function(a){return d*a})),a.setAttributeNS(null,"stroke",b.strokeColor),a.setAttributeNS(null,"stroke-opacity",b.strokeAlpha),a.setAttributeNS(null,"stroke-miterlimit",w(b.miterLimit)),a.setAttributeNS(null,"stroke-linecap",b.lineCap),a.setAttributeNS(null,"stroke-linejoin",b.lineJoin),a.setAttributeNS(null,"stroke-width",w(d*b.lineWidth)+"px"),a.setAttributeNS(null,"stroke-dasharray",c.map(w).join(" ")),a.setAttributeNS(null,"stroke-dashoffset",w(d*b.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width","1px"),a.setAttributeNS(null,"height","1px"),a.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(a)}},{key:"paintImageXObject",value:function(a){var b=a.startsWith("g_")?this.commonObjs.get(a):this.objs.get(a);if(!b){(0,e.warn)("Dependent image with object ID ".concat(a," is not ready yet"));return}this.paintInlineImageXObject(b)}},{key:"paintInlineImageXObject",value:function(d,e){var f=d.width,c=d.height,g=D(d,this.forceDataSchema,!!e),b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x","0"),b.setAttributeNS(null,"y","0"),b.setAttributeNS(null,"width",w(f)),b.setAttributeNS(null,"height",w(c)),this.current.element=b,this.clip("nonzero");var a=this.svgFactory.createElement("svg:image");a.setAttributeNS(A,"xlink:href",g),a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y",w(-c)),a.setAttributeNS(null,"width",w(f)+"px"),a.setAttributeNS(null,"height",w(c)+"px"),a.setAttributeNS(null,"transform","scale(".concat(w(1/f)," ").concat(w(-1/c),")")),e?e.appendChild(a):this._ensureTransformGroup().appendChild(a)}},{key:"paintImageMaskXObject",value:function(c){var b=this.current,e=c.width,f=c.height,g=b.fillColor;b.maskId="mask".concat(G++);var d=this.svgFactory.createElement("svg:mask");d.setAttributeNS(null,"id",b.maskId);var a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",w(e)),a.setAttributeNS(null,"height",w(f)),a.setAttributeNS(null,"fill",g),a.setAttributeNS(null,"mask","url(#".concat(b.maskId,")")),this.defs.appendChild(d),this._ensureTransformGroup().appendChild(a),this.paintInlineImageXObject(c,d)}},{key:"paintFormXObjectBegin",value:function(a,b){if(Array.isArray(a)&&6===a.length&&this.transform(a[0],a[1],a[2],a[3],a[4],a[5]),b){var d=b[2]-b[0],e=b[3]-b[1],c=this.svgFactory.createElement("svg:rect");c.setAttributeNS(null,"x",b[0]),c.setAttributeNS(null,"y",b[1]),c.setAttributeNS(null,"width",w(d)),c.setAttributeNS(null,"height",w(e)),this.current.element=c,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(a){var b=this.svgFactory.create(a.width,a.height),d=this.svgFactory.createElement("svg:defs");b.appendChild(d),this.defs=d;var c=this.svgFactory.createElement("svg:g");return c.setAttributeNS(null,"transform",x(a.transform)),b.appendChild(c),this.svg=c,b}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(a),this.current.clipGroup=a}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",x(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),a}()},(f,a,b)=>{"use strict";function g(a){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNodeStream=void 0;var h=k(b(2)),i=b(4),j=b(154);function k(a){return a&&a.__esModule?a:{default:a}}function l(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a&&m(b,a)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function n(a){var b=q();return function(){var c,d=r(a);if(b){var e=r(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return o(this,c)}}function o(b,a){if(a&&("object"===g(a)||"function"==typeof a))return a;if(void 0!==a)throw TypeError("Derived constructors may only return object or undefined");return p(b)}function p(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function q(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function r(a){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function s(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function t(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){s(g,e,f,d,h,"next",a)}function h(a){s(g,e,f,d,h,"throw",a)}d(void 0)})}}function u(a,d){var b="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!b){if(Array.isArray(a)||(b=v(a))||d&&a&&"number"==typeof a.length){b&&(a=b);var e=0,c=function(){};return{s:c,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a},f:c}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){b=b.call(a)},n:function(){var a=b.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==b.return||b.return()}finally{if(h)throw f}}}}function v(a,c){if(a){if("string"==typeof a)return w(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return w(a,c)}}function w(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function x(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function y(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function z(a,b,c){return b&&y(a.prototype,b),c&&y(a,c),a}var A=__webpack_require__(2767),B=__webpack_require__(8251),C=__webpack_require__(7677),D=__webpack_require__(1987),E=/^file:\/\/\/[a-zA-Z]:\//;function F(b){var a=D.parse(b);return"file:"===a.protocol||a.host?a:/^[a-z]:[/\\]/i.test(b)?D.parse("file:///".concat(b)):(a.host||(a.protocol="file:"),a)}var e=function(){function a(b){x(this,a),this.source=b,this.url=F(b.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return z(a,[{key:"_progressiveDataLength",get:function(){var a,b;return null!==(a=null===(b=this._fullRequestReader)|| void 0===b?void 0:b._loaded)&& void 0!==a?a:0}},{key:"getFullReader",value:function(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new J(this):new H(this),this._fullRequestReader}},{key:"getRangeReader",value:function(b,a){if(a<=this._progressiveDataLength)return null;var c=this.isFsUrl?new K(this,b,a):new I(this,b,a);return this._rangeRequestReaders.push(c),c}},{key:"cancelAllRequests",value:function(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);var c,a=u(this._rangeRequestReaders.slice(0));try{for(a.s();!(c=a.n()).done;)c.value.cancel(b)}catch(d){a.e(d)}finally{a.f()}}}]),a}();a.PDFNodeStream=e;var c=function(){function a(c){x(this,a),this._url=c.url,this._done=!1,this._storedError=null,this.onProgress=null;var b=c.source;this._contentLength=b.length,this._loaded=0,this._filename=null,this._disableRange=b.disableRange||!1,this._rangeChunkSize=b.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}return z(a,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var b=t(h.default.mark(function a(){var b,c;return h.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._readCapability.promise;case 2:if(!this._done){a.next=4;break}return a.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){a.next=6;break}throw this._storedError;case 6:if(null!==(b=this._readableStream.read())){a.next=10;break}return this._readCapability=(0,i.createPromiseCapability)(),a.abrupt("return",this.read());case 10:return this._loaded+=b.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),c=new Uint8Array(b).buffer,a.abrupt("return",{value:c,done:!1});case 14:case"end":return a.stop()}},a,this)}));function a(){return b.apply(this,arguments)}return a}()},{key:"cancel",value:function(a){if(!this._readableStream){this._error(a);return}this._readableStream.destroy(a)}},{key:"_error",value:function(a){this._storedError=a,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a,a.on("readable",function(){b._readCapability.resolve()}),a.on("end",function(){a.destroy(),b._done=!0,b._readCapability.resolve()}),a.on("error",function(a){b._error(a)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),a}(),d=function(){function a(b){x(this,a),this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)();var c=b.source;this._isStreamingSupported=!c.disableStream}return z(a,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var b=t(h.default.mark(function a(){var b,c;return h.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._readCapability.promise;case 2:if(!this._done){a.next=4;break}return a.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){a.next=6;break}throw this._storedError;case 6:if(null!==(b=this._readableStream.read())){a.next=10;break}return this._readCapability=(0,i.createPromiseCapability)(),a.abrupt("return",this.read());case 10:return this._loaded+=b.length,this.onProgress&&this.onProgress({loaded:this._loaded}),c=new Uint8Array(b).buffer,a.abrupt("return",{value:c,done:!1});case 14:case"end":return a.stop()}},a,this)}));function a(){return b.apply(this,arguments)}return a}()},{key:"cancel",value:function(a){if(!this._readableStream){this._error(a);return}this._readableStream.destroy(a)}},{key:"_error",value:function(a){this._storedError=a,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a,a.on("readable",function(){b._readCapability.resolve()}),a.on("end",function(){a.destroy(),b._done=!0,b._readCapability.resolve()}),a.on("error",function(a){b._error(a)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),a}();function G(a,b){return{protocol:a.protocol,auth:a.auth,host:a.hostname,port:a.port,path:a.path,method:"GET",headers:b}}var H=function(a){l(b,a);var c=n(b);function b(d){x(this,b);var a,e=function(b){if(404===b.statusCode){var c=new i.MissingPDFException('Missing PDF "'.concat(a._url,'".'));a._storedError=c,a._headersCapability.reject(c);return}a._headersCapability.resolve(),a._setReadableStream(b);var e=function(b){return a._readableStream.headers[b.toLowerCase()]},f=(0,j.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:d.isHttp,rangeChunkSize:a._rangeChunkSize,disableRange:a._disableRange}),g=f.allowRangeRequests,h=f.suggestedLength;a._isRangeSupported=g,a._contentLength=h||a._contentLength,a._filename=(0,j.extractFilenameFromHeader)(e)};return(a=c.call(this,d))._request=null,"http:"===a._url.protocol?a._request=B.request(G(a._url,d.httpHeaders),e):a._request=C.request(G(a._url,d.httpHeaders),e),a._request.on("error",function(b){a._storedError=b,a._headersCapability.reject(b)}),a._request.end(),a}return b}(c),I=function(a){l(b,a);var c=n(b);function b(d,h,j){for(var e in x(this,b),(a=c.call(this,d))._httpHeaders={},d.httpHeaders){var a,f=d.httpHeaders[e];void 0!==f&&(a._httpHeaders[e]=f)}a._httpHeaders.Range="bytes=".concat(h,"-").concat(j-1);var g=function(b){if(404===b.statusCode){var c=new i.MissingPDFException('Missing PDF "'.concat(a._url,'".'));a._storedError=c;return}a._setReadableStream(b)};return a._request=null,"http:"===a._url.protocol?a._request=B.request(G(a._url,a._httpHeaders),g):a._request=C.request(G(a._url,a._httpHeaders),g),a._request.on("error",function(b){a._storedError=b}),a._request.end(),a}return b}(d),J=function(a){l(b,a);var c=n(b);function b(e){x(this,b);var a,d=decodeURIComponent((a=c.call(this,e))._url.path);return E.test(a._url.href)&&(d=d.replace(/^\//,"")),A.lstat(d,function(b,c){if(b){"ENOENT"===b.code&&(b=new i.MissingPDFException('Missing PDF "'.concat(d,'".'))),a._storedError=b,a._headersCapability.reject(b);return}a._contentLength=c.size,a._setReadableStream(A.createReadStream(d)),a._headersCapability.resolve()}),a}return b}(c),K=function(a){l(b,a);var c=n(b);function b(e,f,g){x(this,b);var a,d=decodeURIComponent((a=c.call(this,e))._url.path);return E.test(a._url.href)&&(d=d.replace(/^\//,"")),a._setReadableStream(A.createReadStream(d,{start:f,end:g-1})),a}return b}(d)},(c,a,b)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.createResponseStatusError=i,a.extractFilenameFromHeader=h,a.validateRangeRequestCapabilities=g,a.validateResponseStatus=j;var d=b(4),e=b(155),f=b(1);function g(a){var c=a.getResponseHeader,g=a.isHttp,f=a.rangeChunkSize,h=a.disableRange;(0,d.assert)(f>0,"Range chunk size must be larger than zero");var b={allowRangeRequests:!1,suggestedLength:void 0},e=parseInt(c("Content-Length"),10);return!Number.isInteger(e)||(b.suggestedLength=e,e<=2*f||h||!g||"bytes"!==c("Accept-Ranges"))?b:("identity"!==(c("Content-Encoding")||"identity")||(b.allowRangeRequests=!0),b)}function h(c){var b=c("Content-Disposition");if(b){var a=(0,e.getFilenameFromContentDispositionHeader)(b);if(a.includes("%"))try{a=decodeURIComponent(a)}catch(d){}if((0,f.isPdfFile)(a))return a}return null}function i(a,b){return 404===a||0===a&&b.startsWith("file:")?new d.MissingPDFException('Missing PDF "'+b+'".'):new d.UnexpectedResponseException("Unexpected server response (".concat(a,') while retrieving PDF "').concat(b,'".'),a)}function j(a){return 200===a||206===a}},(c,a,b)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getFilenameFromContentDispositionHeader=k;var d=b(4);function e(a,b){return j(a)||i(a,b)||g(a,b)||f()}function f(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(a,c){if(a){if("string"==typeof a)return h(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return h(a,c)}}function h(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function i(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}function j(a){if(Array.isArray(a))return a}function k(c){var h=!0,a=i("filename\\*","i").exec(c);if(a){var b=m(a=a[1]);return b=unescape(b),b=n(b),b=o(b),k(b)}if(a=l(c)){var g=o(a);return k(g)}if(a=i("filename","i").exec(c)){var f=m(a=a[1]);return f=o(f),k(f)}function i(a,b){return RegExp("(?:^|;)\\s*"+a+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function j(b,a){if(b){if(!/^[\x00-\xFF]+$/.test(a))return a;try{var c=new TextDecoder(b,{fatal:!0}),e=(0,d.stringToBytes)(a);a=c.decode(e),h=!1}catch(f){if(/^utf-?8$/i.test(b))try{a=decodeURIComponent(escape(a)),h=!1}catch(g){}}}return a}function k(a){return h&&/[\x80-\xff]/.test(a)&&(a=j("utf-8",a),h&&(a=j("iso-8859-1",a))),a}function l(k){for(var g,b=[],l=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(g=l.exec(k));){var f=e(g,4),d=f[1],o=f[2],p=f[3];if((d=parseInt(d,10))in b){if(0===d)break;continue}b[d]=[o,p]}for(var h=[],c=0;c<b.length&&(c in b);++c){var j=e(b[c],2),q=j[0],a=j[1];a=m(a),q&&(a=unescape(a),0===c&&(a=n(a))),h.push(a)}return h.join("")}function m(c){if(c.startsWith('"')){for(var a=c.slice(1).split('\\"'),b=0;b<a.length;++b){var d=a[b].indexOf('"');-1!==d&&(a[b]=a[b].slice(0,d),a.length=b+1),a[b]=a[b].replace(/\\(.)/g,"$1")}c=a.join('"')}return c}function n(a){var b=a.indexOf("'");if(-1===b)return a;var c=a.slice(0,b),d=a.slice(b+1),e=d.replace(/^[^']*'/,"");return j(c,e)}function o(a){return!a.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(a)?a:a.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,b,c,a){if("q"===c||"Q"===c)return a=(a=a.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(b,a){return String.fromCharCode(parseInt(a,16))}),j(b,a);try{a=atob(a)}catch(e){}return j(b,a)})}return""}},(d,a,b)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNetworkStream=void 0;var e=h(b(2)),f=b(4),g=b(154);function h(a){return a&&a.__esModule?a:{default:a}}function i(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function j(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){i(g,e,f,d,h,"next",a)}function h(a){i(g,e,f,d,h,"throw",a)}d(void 0)})}}function k(a,d){var b="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!b){if(Array.isArray(a)||(b=l(a))||d&&a&&"number"==typeof a.length){b&&(a=b);var e=0,c=function(){};return{s:c,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a},f:c}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){b=b.call(a)},n:function(){var a=b.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==b.return||b.return()}finally{if(h)throw f}}}}function l(a,c){if(a){if("string"==typeof a)return m(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return m(a,c)}}function m(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function n(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function o(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function p(a,b,c){return b&&o(a.prototype,b),c&&o(a,c),a}var q=200,r=206;function s(b){var a=b.response;return"string"!=typeof a?a:(0,(0,f.stringToBytes)(a).buffer)}var t=function(){function a(c){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};n(this,a),this.url=c,this.isHttp=/^https?:/i.test(c),this.httpHeaders=this.isHttp&&b.httpHeaders||Object.create(null),this.withCredentials=b.withCredentials||!1,this.getXhr=b.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return p(a,[{key:"requestRange",value:function(d,e,a){var b={begin:d,end:e};for(var c in a)b[c]=a[c];return this.request(b)}},{key:"requestFull",value:function(a){return this.request(a)}},{key:"request",value:function(b){var a=this.getXhr(),d=this.currXhrId++,c=this.pendingRequests[d]={xhr:a};for(var e in a.open("GET",this.url),a.withCredentials=this.withCredentials,this.httpHeaders){var f=this.httpHeaders[e];void 0!==f&&a.setRequestHeader(e,f)}return this.isHttp&&"begin"in b&&"end"in b?(a.setRequestHeader("Range","bytes=".concat(b.begin,"-").concat(b.end-1)),c.expectedStatus=r):c.expectedStatus=q,a.responseType="arraybuffer",b.onError&&(a.onerror=function(c){b.onError(a.status)}),a.onreadystatechange=this.onStateChange.bind(this,d),a.onprogress=this.onProgress.bind(this,d),c.onHeadersReceived=b.onHeadersReceived,c.onDone=b.onDone,c.onError=b.onError,c.onProgress=b.onProgress,a.send(null),d}},{key:"onProgress",value:function(c,d){var a,b=this.pendingRequests[c];b&&(null===(a=b.onProgress)|| void 0===a||a.call(b,d))}},{key:"onStateChange",value:function(c,k){var d,e,f,a=this.pendingRequests[c];if(a){var b=a.xhr;if(b.readyState>=2&&a.onHeadersReceived&&(a.onHeadersReceived(),delete a.onHeadersReceived),4===b.readyState&&c in this.pendingRequests){if(delete this.pendingRequests[c],0===b.status&&this.isHttp){null===(d=a.onError)|| void 0===d||d.call(a,b.status);return}var l,g=b.status||q;if(!(g===q&&a.expectedStatus===r)&&g!==a.expectedStatus){null===(e=a.onError)|| void 0===e||e.call(a,b.status);return}var h=s(b);if(g===r){var i=b.getResponseHeader("Content-Range"),j=/bytes (\d+)-(\d+)\/(\d+)/.exec(i);a.onDone({begin:parseInt(j[1],10),chunk:h})}else h?a.onDone({begin:0,chunk:h}):null===(f=a.onError)|| void 0===f||f.call(a,b.status)}}}},{key:"getRequestXhr",value:function(a){return this.pendingRequests[a].xhr}},{key:"isPendingRequest",value:function(a){return a in this.pendingRequests}},{key:"abortRequest",value:function(a){var b=this.pendingRequests[a].xhr;delete this.pendingRequests[a],b.abort()}}]),a}(),c=function(){function a(b){n(this,a),this._source=b,this._manager=new t(b.url,{httpHeaders:b.httpHeaders,withCredentials:b.withCredentials}),this._rangeChunkSize=b.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return p(a,[{key:"_onRangeRequestReaderClosed",value:function(b){var a=this._rangeRequestReaders.indexOf(b);a>=0&&this._rangeRequestReaders.splice(a,1)}},{key:"getFullReader",value:function(){return(0,f.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new u(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(b,c){var a=new v(this._manager,b,c);return a.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(a),a}},{key:"cancelAllRequests",value:function(b){null===(e=this._fullRequestReader)|| void 0===e||e.cancel(b);var e,c,a=k(this._rangeRequestReaders.slice(0));try{for(a.s();!(c=a.n()).done;)c.value.cancel(b)}catch(d){a.e(d)}finally{a.f()}}}]),a}();a.PDFNetworkStream=c;var u=function(){function a(c,b){n(this,a),this._manager=c;var d={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url,this._fullRequestId=c.requestFull(d),this._headersReceivedCapability=(0,f.createPromiseCapability)(),this._disableRange=b.disableRange||!1,this._contentLength=b.length,this._rangeChunkSize=b.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return p(a,[{key:"_onHeadersReceived",value:function(){var a=this._fullRequestId,f=this._manager.getRequestXhr(a),b=function(a){return f.getResponseHeader(a)},c=(0,g.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),d=c.allowRangeRequests,e=c.suggestedLength;d&&(this._isRangeSupported=!0),this._contentLength=e||this._contentLength,this._filename=(0,g.extractFilenameFromHeader)(b),this._isRangeSupported&&this._manager.abortRequest(a),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(b){if(b&&(this._requests.length>0?this._requests.shift().resolve({value:b.chunk,done:!1}):this._cachedChunks.push(b.chunk)),this._done=!0,!(this._cachedChunks.length>0)){var e,f,c,a=k(this._requests);try{for(a.s();!(c=a.n()).done;)c.value.resolve({value:void 0,done:!0})}catch(d){a.e(d)}finally{a.f()}this._requests.length=0}}},{key:"_onError",value:function(c){this._storedError=(0,g.createResponseStatusError)(c,this._url),this._headersReceivedCapability.reject(this._storedError);var b,a=k(this._requests);try{for(a.s();!(b=a.n()).done;)b.value.reject(this._storedError)}catch(d){a.e(d)}finally{a.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(a){var b;null===(b=this.onProgress)|| void 0===b||b.call(this,{loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:function(){var b=j(e.default.mark(function a(){var b,c;return e.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this._storedError){a.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){a.next=5;break}return b=this._cachedChunks.shift(),a.abrupt("return",{value:b,done:!1});case 5:if(!this._done){a.next=7;break}return a.abrupt("return",{value:void 0,done:!0});case 7:return c=(0,f.createPromiseCapability)(),this._requests.push(c),a.abrupt("return",c.promise);case 10:case"end":return a.stop()}},a,this)}));function a(){return b.apply(this,arguments)}return a}()},{key:"cancel",value:function(c){this._done=!0,this._headersReceivedCapability.reject(c);var b,a=k(this._requests);try{for(a.s();!(b=a.n()).done;)b.value.resolve({value:void 0,done:!0})}catch(d){a.e(d)}finally{a.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),a}(),v=function(){function a(b,c,d){n(this,a),this._manager=b;var e={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url,this._requestId=b.requestRange(c,d,e),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}return p(a,[{key:"_close",value:function(){var a;null===(a=this.onClosed)|| void 0===a||a.call(this,this)}},{key:"_onDone",value:function(d){var b=d.chunk;this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunk=b,this._done=!0;var c,a=k(this._requests);try{for(a.s();!(c=a.n()).done;)c.value.resolve({value:void 0,done:!0})}catch(e){a.e(e)}finally{a.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(c){this._storedError=(0,g.createResponseStatusError)(c,this._url);var b,a=k(this._requests);try{for(a.s();!(b=a.n()).done;)b.value.reject(this._storedError)}catch(d){a.e(d)}finally{a.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(b){if(!this.isStreamingSupported){var a;null===(a=this.onProgress)|| void 0===a||a.call(this,{loaded:b.loaded})}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var b=j(e.default.mark(function a(){var b,c;return e.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this._storedError){a.next=2;break}throw this._storedError;case 2:if(!(null!==this._queuedChunk)){a.next=6;break}return b=this._queuedChunk,this._queuedChunk=null,a.abrupt("return",{value:b,done:!1});case 6:if(!this._done){a.next=8;break}return a.abrupt("return",{value:void 0,done:!0});case 8:return c=(0,f.createPromiseCapability)(),this._requests.push(c),a.abrupt("return",c.promise);case 11:case"end":return a.stop()}},a,this)}));function a(){return b.apply(this,arguments)}return a}()},{key:"cancel",value:function(d){this._done=!0;var b,a=k(this._requests);try{for(a.s();!(b=a.n()).done;)b.value.resolve({value:void 0,done:!0})}catch(c){a.e(c)}finally{a.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),a}()},(d,a,b)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.PDFFetchStream=void 0;var e=h(b(2)),f=b(4),g=b(154);function h(a){return a&&a.__esModule?a:{default:a}}function i(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function j(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){i(g,e,f,d,h,"next",a)}function h(a){i(g,e,f,d,h,"throw",a)}d(void 0)})}}function k(a,d){var b="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!b){if(Array.isArray(a)||(b=l(a))||d&&a&&"number"==typeof a.length){b&&(a=b);var e=0,c=function(){};return{s:c,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a},f:c}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){b=b.call(a)},n:function(){var a=b.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==b.return||b.return()}finally{if(h)throw f}}}}function l(a,c){if(a){if("string"==typeof a)return m(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return m(a,c)}}function m(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function n(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}function o(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function p(a,b,c){return b&&o(a.prototype,b),c&&o(a,c),a}function q(b,c,a){return{method:"GET",headers:b,signal:null==a?void 0:a.signal,mode:"cors",credentials:c?"include":"same-origin",redirect:"follow"}}function r(a){var b=new Headers;for(var c in a){var d=a[c];void 0!==d&&b.append(c,d)}return b}var c=function(){function a(b){n(this,a),this.source=b,this.isHttp=/^https?:/i.test(b.url),this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return p(a,[{key:"_progressiveDataLength",get:function(){var a,b;return null!==(a=null===(b=this._fullRequestReader)|| void 0===b?void 0:b._loaded)&& void 0!==a?a:0}},{key:"getFullReader",value:function(){return(0,f.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new s(this),this._fullRequestReader}},{key:"getRangeReader",value:function(c,a){if(a<=this._progressiveDataLength)return null;var b=new t(this,c,a);return this._rangeRequestReaders.push(b),b}},{key:"cancelAllRequests",value:function(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);var c,a=k(this._rangeRequestReaders.slice(0));try{for(a.s();!(c=a.n()).done;)c.value.cancel(b)}catch(d){a.e(d)}finally{a.f()}}}]),a}();a.PDFFetchStream=c;var s=function(){function a(c){var e=this;n(this,a),this._stream=c,this._reader=null,this._loaded=0,this._filename=null;var b=c.source;this._withCredentials=b.withCredentials||!1,this._contentLength=b.length,this._headersCapability=(0,f.createPromiseCapability)(),this._disableRange=b.disableRange||!1,this._rangeChunkSize=b.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._headers=r(this._stream.httpHeaders);var d=b.url;fetch(d,q(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!(0,g.validateResponseStatus)(a.status))throw(0,g.createResponseStatusError)(a.status,d);e._reader=a.body.getReader(),e._headersCapability.resolve();var b=function(b){return a.headers.get(b)},c=(0,g.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:e._stream.isHttp,rangeChunkSize:e._rangeChunkSize,disableRange:e._disableRange}),h=c.allowRangeRequests,i=c.suggestedLength;e._isRangeSupported=h,e._contentLength=i||e._contentLength,e._filename=(0,g.extractFilenameFromHeader)(b),!e._isStreamingSupported&&e._isRangeSupported&&e.cancel(new f.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}return p(a,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var b=j(e.default.mark(function a(){var b,c,d,f;return e.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._headersCapability.promise;case 2:return a.next=4,this._reader.read();case 4:if(c=(b=a.sent).value,d=b.done,!d){a.next=9;break}return a.abrupt("return",{value:c,done:d});case 9:return this._loaded+=c.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),f=new Uint8Array(c).buffer,a.abrupt("return",{value:f,done:!1});case 13:case"end":return a.stop()}},a,this)}));function a(){return b.apply(this,arguments)}return a}()},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a),this._abortController&&this._abortController.abort()}}]),a}(),t=function(){function a(c,d,e){var i=this;n(this,a),this._stream=c,this._reader=null,this._loaded=0;var b=c.source;this._withCredentials=b.withCredentials||!1,this._readCapability=(0,f.createPromiseCapability)(),this._isStreamingSupported=!b.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=r(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(d,"-").concat(e-1));var h=b.url;fetch(h,q(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!(0,g.validateResponseStatus)(a.status))throw(0,g.createResponseStatusError)(a.status,h);i._readCapability.resolve(),i._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}return p(a,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var b=j(e.default.mark(function a(){var b,c,d,f;return e.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._readCapability.promise;case 2:return a.next=4,this._reader.read();case 4:if(c=(b=a.sent).value,d=b.done,!d){a.next=9;break}return a.abrupt("return",{value:c,done:d});case 9:return this._loaded+=c.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),f=new Uint8Array(c).buffer,a.abrupt("return",{value:f,done:!1});case 13:case"end":return a.stop()}},a,this)}));function a(){return b.apply(this,arguments)}return a}()},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a),this._abortController&&this._abortController.abort()}}]),a}()}],__webpack_module_cache__={};function __w_pdfjs_require__(b){var c=__webpack_module_cache__[b];if(void 0!==c)return c.exports;var a=__webpack_module_cache__[b]={id:b,loaded:!1,exports:{}};return __webpack_modules__[b].call(a.exports,a,a.exports,__w_pdfjs_require__),a.loaded=!0,a.exports}__w_pdfjs_require__.nmd=a=>(a.paths=[],a.children||(a.children=[]),a);var __webpack_exports__={};return(()=>{"use strict";var a=__webpack_exports__;Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"AnnotationLayer",{enumerable:!0,get:function(){return f.AnnotationLayer}}),Object.defineProperty(a,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(a,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(a,"GlobalWorkerOptions",{enumerable:!0,get:function(){return g.GlobalWorkerOptions}}),Object.defineProperty(a,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(a,"LinkTarget",{enumerable:!0,get:function(){return d.LinkTarget}}),Object.defineProperty(a,"LoopbackPort",{enumerable:!0,get:function(){return b.LoopbackPort}}),Object.defineProperty(a,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(a,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(a,"PDFDataRangeTransport",{enumerable:!0,get:function(){return b.PDFDataRangeTransport}}),Object.defineProperty(a,"PDFDateString",{enumerable:!0,get:function(){return d.PDFDateString}}),Object.defineProperty(a,"PDFWorker",{enumerable:!0,get:function(){return b.PDFWorker}}),Object.defineProperty(a,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(a,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(a,"PixelsPerInch",{enumerable:!0,get:function(){return d.PixelsPerInch}}),Object.defineProperty(a,"RenderingCancelledException",{enumerable:!0,get:function(){return d.RenderingCancelledException}}),Object.defineProperty(a,"SVGGraphics",{enumerable:!0,get:function(){return i.SVGGraphics}}),Object.defineProperty(a,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return e.UNSUPPORTED_FEATURES}}),Object.defineProperty(a,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(a,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(a,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(a,"XfaLayer",{enumerable:!0,get:function(){return j.XfaLayer}}),Object.defineProperty(a,"addLinkAttributes",{enumerable:!0,get:function(){return d.addLinkAttributes}}),Object.defineProperty(a,"build",{enumerable:!0,get:function(){return b.build}}),Object.defineProperty(a,"createObjectURL",{enumerable:!0,get:function(){return e.createObjectURL}}),Object.defineProperty(a,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(a,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(a,"getDocument",{enumerable:!0,get:function(){return b.getDocument}}),Object.defineProperty(a,"getFilenameFromUrl",{enumerable:!0,get:function(){return d.getFilenameFromUrl}}),Object.defineProperty(a,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return d.getPdfFilenameFromUrl}}),Object.defineProperty(a,"getXfaPageViewport",{enumerable:!0,get:function(){return d.getXfaPageViewport}}),Object.defineProperty(a,"isPdfFile",{enumerable:!0,get:function(){return d.isPdfFile}}),Object.defineProperty(a,"loadScript",{enumerable:!0,get:function(){return d.loadScript}}),Object.defineProperty(a,"removeNullCharacters",{enumerable:!0,get:function(){return e.removeNullCharacters}}),Object.defineProperty(a,"renderTextLayer",{enumerable:!0,get:function(){return h.renderTextLayer}}),Object.defineProperty(a,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(a,"version",{enumerable:!0,get:function(){return b.version}});var d=__w_pdfjs_require__(1),e=__w_pdfjs_require__(4),b=__w_pdfjs_require__(136),f=__w_pdfjs_require__(148),g=__w_pdfjs_require__(142),c=__w_pdfjs_require__(6),h=__w_pdfjs_require__(151),i=__w_pdfjs_require__(152),j=__w_pdfjs_require__(150);if(c.isNodeJS){var k=__w_pdfjs_require__(153).PDFNodeStream;(0,b.setPDFNetworkStreamFactory)(function(a){return new k(a)})}else{var l=__w_pdfjs_require__(156).PDFNetworkStream,m=__w_pdfjs_require__(157).PDFFetchStream;(0,b.setPDFNetworkStreamFactory)(function(a){return(0,d.isValidFetchUrl)(a.url)?new m(a):new l(a)})}})(),__webpack_exports__})()})}}])